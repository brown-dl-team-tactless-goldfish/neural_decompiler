#include<stdlib.h>
#include<stdio.h>
#include<string.h>
#include<stdbool.h>
#include<stdint.h>
#include<math.h>
#include <assert.h>
#define max(a,b) ((a)>(b)?(a):(b))
int robNoCircle(int num[], int n) {
if (n == 0) return 0;
int *dp = (int *)calloc(n + 2, sizeof(int));
int i;
dp[0] = dp[1] = 0; 
for (i = 2; i < n + 2; i++) {
if (dp[i - 2] + num[i - 2] > dp[i - 1]) { 
dp[i] = dp[i - 2] + num[i - 2];
}
else { 
dp[i] = dp[i - 1];
}
}
int ans = dp[n + 1];
free(dp);
return ans;
}
int rob(int* nums, int numsSize) {
if (nums == NULL || numsSize == 0) return 0;
if (numsSize == 1)return nums[0];
return max(robNoCircle(nums, numsSize - 1), robNoCircle(nums + 1, numsSize - 1));
}
int main() {
int nums[] = { 1, 2, 3, 4, 5 };
assert(rob(nums, sizeof(nums) / sizeof(nums[0])) == 8);
return 0;
}