#include<stdlib.h>
#include<stdio.h>
#include<string.h>
#include<stdbool.h>
#include<stdint.h>
#include<math.h>
struct Node {
	bool var_6;
	int* var_9;
};
int func_1(int** var_2, int var_4, int *var_3, int var_0, int var_1, int var_8, struct Node*** var_10) {
	int var_9 = -1;
	if (var_10[var_0][var_1][var_8 - 1].var_6 == false) {
var_10[var_0][var_1][var_8 - 1].var_6 = true;
if (var_0 == var_1) {
*(var_10[var_0][var_1][var_8 - 1].var_9) = 2;
return 2;
}
else if (var_1 == 0) {
*(var_10[var_0][var_1][var_8 - 1].var_9) = 1;
return 1;
}
else {
int var_11 = 0;
int *var_12 = NULL;
if (var_8 == 1) { 
for (int var_5 = 0; var_5 < var_3[var_1]; var_5++) {
var_11 = func_1(var_2, var_4, var_3, var_0, var_2[var_1][var_5], 2, var_10);
if (var_11 == 1) { 
var_9 = 1;
break;
}
else if (var_11 == 2 && var_9 == -1) { 
var_9 = 2;
}
else if (var_11 == 0 || var_11 == -1) { 
var_9 = 0;
var_12 = var_10[var_0][var_2[var_1][var_5]][1].var_9;
}
}
if (var_9 != 0)
*(var_10[var_0][var_1][var_8 - 1].var_9) = var_9;
else var_10[var_0][var_1][var_8 - 1].var_9 = var_12;
}
else { 
for (int var_5 = 0; var_5 < var_3[var_0]; var_5++) {
if (var_2[var_0][var_5] != 0) {
var_11 = func_1(var_2, var_4, var_3, var_2[var_0][var_5], var_1, 1, var_10);
if (var_11 == 2) { 
var_9 = 2;
break;
}
else if (var_11 == 1 && var_9 == -1) {
var_9 = 1;
}
else if (var_11 == 0 || var_11 == -1) {
var_9 = 0;
var_12 = var_10[var_2[var_0][var_5]][var_1][0].var_9;
}
}
}
if (var_9 != 0)
*(var_10[var_0][var_1][var_8 - 1].var_9) = var_9;
else var_10[var_0][var_1][var_8 - 1].var_9 = var_12;
}
}
	}
	else var_9 = *(var_10[var_0][var_1][var_8 - 1].var_9);
	return var_9;
}
int func_2(int** var_2, int var_4, int *var_3) {
	struct Node*** var_10 = (struct Node***)malloc(sizeof(struct Node**) * var_4);
	for (int var_5 = 0; var_5 < var_4; var_5++) {
var_10[var_5] = (struct Node**)malloc(sizeof(struct Node*) * var_4);
for (int var_7 = 0; var_7 < var_4; var_7++) {
var_10[var_5][var_7] = (struct Node*)malloc(sizeof(struct Node) * 2);
var_10[var_5][var_7][0].var_9 = (int*)malloc(sizeof(int));
var_10[var_5][var_7][0].var_6 = false;
*(var_10[var_5][var_7][0].var_9) = -1;
var_10[var_5][var_7][1].var_9 = (int*)malloc(sizeof(int));
var_10[var_5][var_7][1].var_6 = false;
*(var_10[var_5][var_7][1].var_9) = -1;
}
	}
	int var_9 = func_1(var_2, var_4, var_3, 2, 1, 1, var_10);
	for (int var_5 = 0; var_5 < var_4; var_5++) {
free(var_10[var_5]);
	}
	free(var_10);
	return var_9;
}