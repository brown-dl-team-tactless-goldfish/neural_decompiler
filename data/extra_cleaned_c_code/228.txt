#include<stdlib.h>
#include<stdio.h>
#include<string.h>
#include<stdbool.h>
#include<stdint.h>
#include<math.h>
char** summaryRanges(int* nums, int numsSize, int* returnSize) {
if (nums == NULL || numsSize == 0) return NULL;
#define MAXNUM 1024
#define MAXLEN 32
char **ans = (char **)calloc(MAXNUM, sizeof(char *));
*returnSize = 0;
int i;
int start = nums[0];
for (i = 1; i < numsSize; i++) {
if (nums[i] != nums[i - 1] + 1) {
ans[*returnSize] = (char *)calloc(MAXLEN, sizeof(char));
if (start != nums[i - 1])
else
(*returnSize) ++;
start = nums[i];
}
}
ans[*returnSize] = (char *)calloc(MAXLEN, sizeof(char));
if (start != nums[i - 1])
else
(*returnSize) ++;
return ans;
}
int main() {
int nums[] = { 0, 1, 2, 4, 5, 7 };
int returnSize = 0;
char** ret = summaryRanges(nums, sizeof(nums) / sizeof(nums[0]), &returnSize);
int i;
for (i = 0; i < returnSize; i++) {
free(ret[i]);
}
free(ret);
return 0;
}