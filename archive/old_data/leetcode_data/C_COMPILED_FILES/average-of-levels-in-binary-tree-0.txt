#include<stdlib.h>
#include<stdio.h>
#include<string.h>
#include<stdbool.h>
#include<stdint.h>
#include<math.h>
struct TreeNode {
int var_8;
struct TreeNode *var_3;
struct TreeNode *var_5;
};
int func_3(struct TreeNode* var_6 );
void func_1(struct TreeNode* var_6, int func_3, long long** var_7){
var_7[func_3][0] += 1;
var_7[func_3][1] +=var_6->var_8;
if(var_6->var_3){
func_1(var_6->var_3, func_3 + 1, var_7);
}
if(var_6->var_5){
func_1(var_6->var_5, func_3 + 1, var_7);
}
}
double* func_2(struct TreeNode* var_6, int* var_4){
int var_2;
int var_1 = func_3(var_6);
long long** var_7 = (long long**)malloc(var_1 * sizeof(long long*));
for(var_2 = 0; var_2 < var_1; var_2++){
var_7[var_2] = calloc( 2 , sizeof(long long));
}
func_1(var_6, 0 , var_7);
double* var_0 = (double*)malloc(var_1 * sizeof(double));
for(var_2 = 0; var_2 < var_1; var_2++){
if(var_7[var_2][0] == 0)
var_0[var_2] = 0;
else
var_0[var_2] = (double)var_7[var_2][1] / var_7[var_2][0];
}
* var_4 = var_1;
for(var_2 = 0; var_2 < var_1; var_2++){
free(var_7[var_2]);
}
free(var_7);
return var_0;
}
int func_3(struct TreeNode* var_6 ){
if(var_6 == NULL)
return 0;
else 
return 1 + fmax(func_3(var_6->var_3), func_3(var_6->var_5));
}