int* countBits(int n, int* returnSize){
    
    int* ptr = (int*)malloc((n+1)*sizeof(int));    
    int i;
    
    for(i=0;i<=n;i++){        
        *(ptr+i)=Counter(i);
    }
    *returnSize=(n+1);
    return ptr;
}

 int Counter(int a){    
     
    a=((0x55555555)&a)+((0x55555555)&(a>>1));
    a=((0x33333333)&a)+((0x33333333)&(a>>2));
    a=((0x0f0f0f0f)&a)+((0x0f0f0f0f)&(a>>4));
    a=((0x00ff00ff)&a)+((0x00ff00ff)&(a>>8)); 
    a=((0x0000ffff)&a)+((0x0000ffff)&(a>>16));  
     
     return a;
 }