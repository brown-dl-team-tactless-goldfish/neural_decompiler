public class Solution {
    public int MaxSubarraySumCircular(int[] A) {
        
        int maxSum = Int32.MinValue, currMax = 0;
        int minSum = Int32.MaxValue, currMin = 0;
        int sum = 0;
        
        foreach(int num in A)
        {
            currMax = Math.Max(currMax + num, num);
            maxSum = Math.Max(maxSum, currMax);
            
            currMin = Math.Min(currMin + num, num);
            minSum = Math.Min(minSum, currMin);
            
            sum += num;
        }
        
        return maxSum > 0 ? Math.Max(maxSum, sum - minSum) : maxSum;
    }
}