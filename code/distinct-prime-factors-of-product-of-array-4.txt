class Solution {
public:
    int distinctPrimeFactors(vector<int>& nums) {
        vector<int> prime;
        for(int i=2;i<=1000;i++){
            if(isprime(i)){
                prime.push_back(i);
            }
        }
        set<int> st;
        for(int n:nums){
            for(int p:prime){
                if(n%p==0){
                    st.insert(p);
                }
            }
        }
        return st.size();
    }
    
    bool isprime(int n){
        int cnt=0;
        for(int i=2;i*i<=n;i++){
            if(n%i==0)return false;
        }
        return true;
    }
};