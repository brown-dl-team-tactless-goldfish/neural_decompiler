public class Solution {
    public int LeastInterval(char[] tasks, int n) {
        int[] counts = new int[26];
        foreach (char c in tasks)
            counts[c - 'A']++;
        int longest = counts.Max();
        int longestCounts = counts.Count(x => x == longest);
        return Math.Max(tasks.Length, (n + 1) * (longest - 1) + longestCounts);
    }
}