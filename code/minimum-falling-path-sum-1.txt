#define min(a,b) (a<b?a:b)
#define mint(l,r,d) (l<r?l<d?l:d:r<d?r:d)

int minFallingPathSum(int** matrix, int matrixSize, int* matrixColSize) {
    
    int arr[100][100] = {0};
    
    for(int j = 0; j < matrixSize; ++j) {
        arr[matrixSize - 1][j] = matrix[matrixSize - 1][j];
    }
    
    for(int i = matrixSize - 2; i >= 0; --i) {
        for(int j = 0; j < matrixSize; ++j) {
            
            int l = INT_MAX, r = INT_MAX, d = INT_MAX;
            
            if((j - 1) >= 0) {
                l = matrix[i][j] + arr[i + 1][j - 1];
            }
            
            if((j + 1) < matrixSize) {
                r = matrix[i][j] + arr[i + 1][j + 1];
            }
            
            if(j < matrixSize) {
                d = matrix[i][j] + arr[i + 1][j];
            }
            
            arr[i][j] = mint(l, r, d);
        }
    }
    
    int ret = INT_MAX;
    
    for(int j = 0; j < matrixSize; ++j) {
        ret = min(ret, arr[0][j]);
    }
    
    return ret;
}