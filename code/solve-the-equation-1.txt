char* solveEquation(char* equation)
{
    int n = 0, x = 0, sign = 1, eq = 0, v = 0;
    for( char* s = equation; *s != 0; s++ )
    {
        if( *s == 'x' )
            x -= sign;
        else if( *s == '+' )
            sign = eq ? -1 : 1;
        else if( *s == '-' )
            sign = eq ? 1 : -1;
        else if( *s == '=' )
            eq = 1, sign = -1;
        else
        {
            for( v = 0; *s >= '0' && *s <= '9'; ++s )
                v = v * 10 + *s - '0';
            *s == 'x' ? (x -= v * sign) : (--s, n += v * sign);
        }
    }
    
    if( x == 0 )
        return n == 0 ? "Infinite solutions" : "No solution";
    sprintf(equation, "x=%d", n / x);
    return equation;
}