# time: N*(logN)
# space: O(N)
    
class Solution:
    def countSmaller(self, nums: List[int]) -> List[int]:
        res = [0]
        n = len(nums)
        
        data = []
        data.append(nums[-1])
        
        for i in range(n-2, -1, -1):
            a = nums[i]
            # print ("i = ", i, " a = ", a)
            bisect.insort_left(data, a)
            idx = bisect.bisect_left(data, a)
            res.append(idx)
            
        # print ("res = ", res)
        
        return res[::-1]
            