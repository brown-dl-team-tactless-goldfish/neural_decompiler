class Solution {
public:
    int numTriplets(vector<int>& nums1, vector<int>& nums2) {
       return fun(nums1,nums2)+fun(nums2,nums1);
    }
    int fun(vector<int>&v1,vector<int>&v2)
    {
        //a*a=x*y
        int ans=0;
        for(int i=0;i<v1.size();i++)
        {
            long long int num=(long long)v1[i]*v1[i];
            unordered_map<int,int>mp;
            for(int j=0;j<v2.size();j++)
            {
                if(num%v2[j]!=0)
                {
                    continue;
                }
                int t=num/v2[j];
                if(mp.find(t)!=mp.end())
                {
                    ans=ans+mp[t];
                }
                mp[v2[j]]++;
            }
        }
        return ans;
    }
};