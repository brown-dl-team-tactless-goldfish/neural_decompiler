void flatten(struct TreeNode* root) {
  if (!root) return;

  struct TreeNode* t = root->right;
  root->right = root->left;
  root->left = NULL;
  struct TreeNode* rightTail = root;

  while (rightTail->right) {
    rightTail = rightTail->right;
  }
  rightTail->right = t;
  flatten(root->right);
}