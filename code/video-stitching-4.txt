public class Solution {
    public int VideoStitching(int[][] clips, int T) {
            int result = 1,
                start = 0,
                cur = 0,
                max = 0;

            clips = clips.OrderBy(a => a[0]).ToArray();

            while (clips[start][0] == 0)
                cur = Math.Max(cur, clips[start++][1]);

            if (cur >= T)
                return 1;

            for (int i = start; i < clips.Length && max < T; i++)
            {
                max = Int32.MinValue;

                while (i < clips.Length && clips[i][0] <= cur)
                    max = Math.Max(max, clips[i++][1]);

                if (max == Int32.MinValue)
                    return -1;

                result++;
                cur = max;
            }

            if (max < T)
                return -1;

            return result;
    }
}