class Solution {
public:
    int numTeams(vector<int>& r) {
        int n = r.size(); 
        vector<int> lr(n);
        vector<int> rl(n);
        int c = 0;
        for(int i = n - 1; i >= 0; --i) {
            int sc = 0;
            for(int j = i+1; j < n;++j) {
                if(r[j] > r[i])sc++;
            }
            rl[i] = sc;
        }
        for(int i = 0; i< n ; ++i){
            int sc = 0;
            for(int j = i-1; j >=0; --j){
                if(r[j] > r[i]) sc++;
            }
            lr[i] = sc;
        }
        
        for(int i = 0; i< n; ++i){
            for(int j = i +1; j < n; ++j){
                if(r[j] > r[i])c+=rl[j];
            }
        }
        for(int i = n-1; i >= 0; --i){
            for(int j = i -1; j >= 0; --j){
                if(r[j] > r[i]) c+=lr[j];
            }
        }
        return c;
    }
};