/* Cocktail Sort */

#define swap(a, b) do {\
    __typeof(a) temp = (a); \
    (a) = (b); \
    (b) = temp; \
} while(0)

char **sortPeople(char **names, int namesSize, int *heights, int heightsSize, int *returnSize)
{
    int lenght_array = heightsSize;
    int terminate_l = -1,  terminate_r = heightsSize;
    
    while (terminate_l < terminate_r) {
        for (int i = terminate_l + 1; i < terminate_r; i++) {
            if (i + 1 < terminate_r && heights[i] < heights[i + 1]) {
                swap(heights[i], heights[i + 1]);
                swap(names[i], names[i + 1]);
            }
        }
        terminate_r--;
        for (int i = terminate_r - 1; i > terminate_l; i--) {
            if (i - 1 > terminate_l && heights[i] > heights[i - 1]) {
                swap(heights[i], heights[i - 1]);
                swap(names[i], names[i - 1]);
            }
        }
        terminate_l++;
    }
    
    //for (int i = 0; i < lenght_array; i++)
    //    printf("%d ", heights[i]);
        
    // !!! returnSize
    *returnSize = lenght_array;
    return names;
}