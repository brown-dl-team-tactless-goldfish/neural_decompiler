class Solution {
public:
    int countMaxOrSubsets(vector<int>& nums) {
        vector<int>temp;
        int res=0,cnt=0;
        helper(nums,temp,0,res,cnt);
        return cnt;   
    }
    void helper(vector<int>& nums,vector<int>&temp,int index,int &res,int &cnt){
        if(index==nums.size()){
            int tmp=0;
            for(int j=0;j<temp.size();j++)
                tmp|=temp[j];
            if(tmp>res){
                res=tmp;
                cnt=1;
            }
            else if(tmp==res)
                cnt++;
            return;
        }
         helper(nums,temp,index+1,res,cnt);
        temp.push_back(nums[index]);
         helper(nums,temp,index+1,res,cnt);
        temp.pop_back();
    }
};