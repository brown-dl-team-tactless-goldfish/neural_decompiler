class Solution {
public:
    int g=0,n=0;
   bool isMatch(int st,vector<vector<int>>& groups, vector<int>& nums){
       bool ans = true;
        for(int i=0;i<groups[g].size();i++){
            
            if(groups[g][i]!=nums[st]){
                ans = false;
                break;
            }
            st++;
        }
        return ans;
    }
    bool canChoose(vector<vector<int>>& groups, vector<int>& nums) {
        if(g == groups.size())return true;
        if(n >=nums.size())return false;
        for(int i=n;i<nums.size();i++){
            if(groups[g][0]==nums[i] && isMatch(i,groups,nums)){
                n = i+groups[g].size();
                g++;
                return canChoose(groups,nums);
            }
                
        }
        return false;
    }
};