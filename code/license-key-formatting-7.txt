char * licenseKeyFormatting(char * s, int k){
    int i = 0, count = 0;
    int len = strlen(s);
    int ans_idx = 2 * len;
    char *ans = (char *)malloc(ans_idx + 1);
    ans[ans_idx--] = '\0';
    
    for (i=len-1; i>=0; i--) {
        if (s[i] == '-')
            continue;
        else {
            ans[ans_idx--] = islower(s[i]) ? toupper(s[i]) : s[i];
            count++;
            if (count % k == 0 && ans_idx > 0)
                ans[ans_idx--] = '-';
        }
    }
    
    return (ans[ans_idx+1] == '-' ? (ans + ans_idx + 2) : (ans + ans_idx + 1));
}