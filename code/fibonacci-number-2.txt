

int fib(int n)
{
    int memo[n+1];
    memset(memo, 0, sizeof(int)*(n+1));
    return fib_r(n, memo);
}

int fib_r(int n, int memo[])
{
    if (n == 0)     return 0;
    if (n == 1)     return 1;
    if (memo[n])    return memo[n];
    return (memo[n] = fib_r(n-1, memo) + fib_r(n-2, memo));
}