class Solution {
public:
    vector<vector<long long>> splitPainting(vector<vector<int>>& segments) {
        vector<vector<int>> vals; 
        for (auto& segment : segments) {
            vals.push_back({segment[0],  segment[2]}); 
            vals.push_back({segment[1], -segment[2]}); 
        }
        sort(vals.begin(), vals.end()); 
        
        int prev = 0; 
        long long prefix = 0; 
        vector<vector<long long>> ans; 
        
        for (auto& val : vals) {
            if (prev < val[0] && prefix) ans.push_back({prev, val[0], prefix}); 
            prev = val[0]; 
            prefix += val[1]; 
        }
        return ans; 
    }
};