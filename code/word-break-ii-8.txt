class Solution {
public:
    void helper(string s , unordered_set<string>&st , vector<string>&result, int index , string curr) {
        if(index == s.length()){
            curr.pop_back();
            result.push_back(curr);
            return;
        }
        string temp = "";
        for(int i=index;i<s.length();i++) {
            temp += s[i];
            if(st.find(temp)!=st.end()) {
                helper(s,st,result ,i+1 , curr+temp+" ");
            }
        }
        
    }
    
    vector<string> wordBreak(string s, vector<string>& wordDict) {
        unordered_set<string> st(wordDict.begin() , wordDict.end());
        vector<string> result;
        helper(s,st,result, 0 , "");
        return result;
    }
};