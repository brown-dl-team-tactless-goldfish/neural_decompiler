double myPow(double x, int n){
    int flag = 0, i;
    double sum = 1, num;
    long base;
    
    if(n<0)
    {
        flag = 1;
        if(n==INT_MIN)
            n = INT_MAX-1;
        else
            n = -n;
    }
    
    while(n)
    {
        base = 1;
        num = x;
        while(base<=n)
        {
            if(base==1)
                num = x;
            else
                num *= num;
            base <<= 1;
        }
        if(base<=n)
            n -= base;
        else
            n -= (base>>1);
        sum *= num;
    }
    
    if(flag)
        return 1/sum;
    else
        return sum;
}