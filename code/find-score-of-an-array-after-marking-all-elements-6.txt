class Solution {
public:
    long long findScore(vector<int>& nums) {
        vector<vector<int>> n(nums.size());
        for(int i = 0; i < nums.size(); i++) n[i] = {nums[i], i};
        sort(n.begin(), n.end());
        long long score = 0;
        for(int i = 0; i < n.size(); i++){
            int idx = n[i][1];
            int val = n[i][0];
            if(nums[idx] > 0){
                score += nums[idx];
                nums[idx] *= -1;
                if(idx > 0 && nums[idx-1] > 0) nums[idx-1] *= -1;
                if(idx < nums.size()-1 && nums[idx+1] > 0) nums[idx+1] *= -1;
            }
        }
        return score;
    }
};