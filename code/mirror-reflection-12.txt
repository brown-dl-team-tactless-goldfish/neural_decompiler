int mirrorReflection(int p, int q){
    int total = p;

    // The test cases are guaranteed so that the ray will meet a receptor eventually.
    while(0 != total%q)
        total += p;

    if (0 == (total/p-1)%2) { // touch receptor 1 or receptor 2
        return (0 == (total/q)%2) ? 2 : 1;
    } else { // touch receptor 0 or southwest corner
        // The test cases are guaranteed so that the ray will meet a receptor eventually.
        return 0;
    }
}