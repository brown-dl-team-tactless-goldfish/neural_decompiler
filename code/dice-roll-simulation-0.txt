public class Solution 
{
    public int DieSimulator(int n, int[] rollMax)
    {
        var dp = new int[6, 16];
        dp[0, 1] = 1; dp[1, 1] = 1; dp[2, 1] = 1;
        dp[3, 1] = 1; dp[4, 1] = 1; dp[5, 1] = 1;
        int mod = 1_000_000_007, result = 0;
        for(int count = 1; count < n; count++)
        {
            var dpTemp = new int[6, 16];
            for(int i = 0; i < 6; i++)
            {
                if(rollMax[i] > 0)
                {
                    for(int j = 0; j < 6; j++) 
                        if(i != j)
                            for(int k = 1; k < 16; k++)
                                 dpTemp[i, 1] =  (dpTemp[i, 1] + dp[j, k]) % mod;
                    
                    for(int j = 1; j < rollMax[i]; j++)
                        dpTemp[i, j + 1] = (dp[i, j] + dpTemp[i, j + 1]) % mod;
                }
            }
            
            dp = dpTemp;
        }
        
        for(int i = 0; i < 6; i++)
            for(int j = 1; j < 16; j++)
                result = (result + dp[i, j]) % mod;
        return result;
    }
}