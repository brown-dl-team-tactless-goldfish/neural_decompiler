
class Solution {
public:
    unordered_map<char,int>v   ;
    unordered_map<char,bool>vis;
    int ind = -1 ;
    string smallestSubsequence(string s) {
        for(char c : s ){
            ++v[c]     ;
            vis[c] = 1 ;
        }
        string f = "" ;
        int x = -1    ; 
        while(true){
            int U = x ;
            for(char c = 97 ; c <= 122 ; ){
                if(vis[c]){
                    ind = solve( x + 1 , s ,  c ) ;
                    if( ind != -1 ){
                        f += c     ;
                        x = ind    ;
                        if( x == s.size() ) break ;
                        vis[c] = 0 ;
                        c = 96 ;
                    }
                }
                ++c ;
            }
            if( x == U || x == s.size() - 1 ) break ;
        }
        return f ;
    }
    int solve(int ind  , string s , char c ){
        unordered_map<char,int>V = v ;
        for( int i = 0 ; i < ind  ; i ++ ) --V[s[i]] ;
        for(int i = ind ; i < s.size() ; i ++ ){
            if(s[i] == c ) return i ; 
            --V[s[i]] ;       
            if( V[s[i]] == 0 && vis[s[i]] ) return -1 ;
        }
        return -1 ;
    }
};
