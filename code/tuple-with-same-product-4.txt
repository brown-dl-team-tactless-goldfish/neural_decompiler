public class Solution {
    public int TupleSameProduct(int[] nums) {
        if (nums == null || nums.Length == 0)
            return 0;
        
        int res = 0;
        Dictionary<int, int> dict = new Dictionary<int, int>();
        
        for (int i = 0; i < nums.Length - 1; i++)
            for (int j = i + 1; j < nums.Length; j++)
            {
                if (!dict.ContainsKey(nums[i] * nums[j]))
                    dict.Add(nums[i] * nums[j], 0);
                
                dict[nums[i] * nums[j]] += 1;
            }
                
        foreach (var item in dict.Values.Where(x => x != 1).ToList())
            res += item * (item - 1) / 2 * 8;
        
        return res;
    }
}