#define max(a,b) (((a)>(b))? (a):(b))
int Kadane(int *a,int n)
{
    int maxsofar,maxtotal;
    maxtotal=maxsofar=a[0];
    for(int i=1;i<n;i++)
    {
        maxsofar=max(a[i],maxsofar+a[i]);
        maxtotal=max(maxsofar,maxtotal);
    }
    printf("%d\n",maxtotal);
    return maxtotal;
}

int maxSubarraySumCircular(int* A, int ASize)
{
    int i,k1,totalsum,k2;
    totalsum=0;
    k1=Kadane(A,ASize);
    for(i=0;i<ASize;i++)
    {       totalsum=totalsum+A[i];
            A[i]*=-1;
    }
    k2=Kadane(A,ASize);
    int maxSum=(totalsum+k2);
    printf("%d",maxSum);
    return (maxSum>k1 && maxSum!=0) ? maxSum : k1 ;
}