public class Solution {
    public int CountTime(string time) {
        if(time == "??:??")
            return 24*60;
        int res = 1;
        
        if(time[0] == '?' && time[1] == '?')
            res *= 24;
        else if(time[0] == '?')
            res *= time[1] - '0' >= 4 ? 2 : 3;
        else if(time[1] == '?')
            res *= time[0] - '0' >= 2 ? 4 : 10;
        
        if(time[4] == '?')
            res *= 10;
        if(time[3] == '?')
            res *= 6;
        
        return res;
    }
}