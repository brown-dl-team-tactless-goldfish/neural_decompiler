class Solution {
public:
    vector<vector<int>> intervalIntersection(vector<vector<int>>& A, vector<vector<int>>& B) {
        int ptr1 = 0;
        int ptr2 = 0;
        int m = A.size();
        int n = B.size();
        vector<vector<int>> res;
        
        while(ptr1 < m && ptr2 < n){
            int interval_start = max(A[ptr1][0], B[ptr2][0]);
            int interval_end = min(A[ptr1][1], B[ptr2][1]);
            if(interval_start <= interval_end){
                vector<int> interval = {interval_start, interval_end};
                res.push_back(interval);
            }
            if (interval_end == B[ptr2][1]){
                ptr2++;
            }else{
                ptr1++;
            }
        }
        return res;
    }
};