    if(preorder.size() == 0)
        return NULL;
    
    
    
    TreeNode *root = new TreeNode(preorder[0]);
    
    for(int i = 1;i<preorder.size();i++)
    {
        TreeNode* itr = root;
        TreeNode* prev;
        bool left;
        
        while(itr)
        {
            prev = itr;
            if(preorder[i]>itr->val)
            {
                itr = itr->right;
                left = false;
            }
            else
            {
                itr = itr->left;
                left = true;
            }
        }
        if(left)
            prev->left = new TreeNode(preorder[i]);
        else
            prev->right = new TreeNode(preorder[i]);
        
    }
    
    return root;
    
}