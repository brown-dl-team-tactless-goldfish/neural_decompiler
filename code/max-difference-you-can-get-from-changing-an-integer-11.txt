class Solution {
public:
    int maxDiff(int num) {

        //Determine a by changing greatest non-9 digit into a 9
        string aa = to_string(num);
        int xpos = 0;
        while (aa[xpos] == '9')
            xpos++;
        char x = aa[xpos];
        char y = '9';
        for (auto& c : aa)
            if (c == x)
                c = y;
        int a = stoi(aa);
        
        //Determine b by changing greatest digit into a 1; if already 1, change next greatest non-zero digit to zero
        string bb = to_string(num);
        xpos = 0;
        if (bb[xpos] != '1'){
            char x = bb[xpos];
            char y = '1';
            for (auto& c : bb)
                if (c == x)
                    c = y;
        } else {
            xpos++;
            while (bb[xpos] == '1' || bb[xpos] == '0')    //we are skipping the 1s we already looked at as well as zeroes
                xpos++;
            char x = bb[xpos];
            char y = '0';
            for (auto& c : bb)
                if (c == x)
                    c = y;
        }
        int b = stoi(bb);
        
        return a-b;
    }
};