public class RLEIterator 
{
    int index;
    int [] array;

    public RLEIterator(int[] A) 
    {
        array = A;
        index = 0;
    }
    
    public int Next(int n) 
    {
        while(index < array.Length && n > array[index])
        {
            n = n - array[index];
            index += 2;
        }
        
        if(index >= array.Length)
            return -1;
        
        array[index] = array[index] - n;
        return array[index + 1];
    }
}