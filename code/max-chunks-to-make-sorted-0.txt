int function(int *hash,int max,int *temp,int arrSize){
    for(int i=*temp;i<max;i++){
        if(hash[i]==0){
            *temp=i;
            return 0;
        }
    }
    *temp=max+1;
    return 1;
}
int maxChunksToSorted(int* arr, int arrSize) {
    int ret=1;
    int *hash=(int*)calloc(arrSize,sizeof(int));
    int temp=0;
    int max=arr[0];
    hash[max]=1;
    for(int i=0;i<arrSize-1;i++){
        if(max>arr[i+1]){
            hash[arr[i+1]]=1;
        }
        else{
            if(function(hash,max,&temp,arrSize)){ret++;}   
            max=arr[i+1];
            hash[max]=1;       
        }
    }
    return ret;
}