public class FrontMiddleBackQueue {

    List<int> li;
    public FrontMiddleBackQueue() {
        li=new List<int>();
    }
    
    public void PushFront(int val) {
        li.Insert(0,val);
    }
    
    public void PushMiddle(int val) {
        int size=li.Count;
        li.Insert(size/2,val);
    }
    
    public void PushBack(int val) {
        li.Add(val);
    }
    public int PopFront() {
        if(li.Count==0)
            return -1;
        int ret=li[0];
        li.RemoveAt(0);
        return ret;
    }
    
    public int PopMiddle() {
        if(li.Count==0)
            return -1;
        int mid=li.Count%2==0 ? li.Count/2-1 : li.Count/2;
        int ret=li[mid];
        li.RemoveAt(mid);
        return ret;
    }
    
    public int PopBack() {
        if(li.Count==0)
            return -1;
        int ret=li[li.Count-1];
        li.RemoveAt(li.Count-1);
        return ret;
    }
}