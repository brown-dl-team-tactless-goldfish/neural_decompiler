class Solution {
public:
    int subarrayBitwiseORs(vector<int>& A) {
        unordered_set<int> result;
        unordered_set<int> s;
        
        for (auto num : A) {
            unordered_set<int> new_s;
            new_s.insert(num);
            for (auto p = s.begin(); p != s.end(); ++p) {
                new_s.insert((*p) | num);
            }
            swap(s, new_s);
            for (auto p = s.begin(); p != s.end(); ++p) {
                result.insert(*p);
            }            
        }
        
        return result.size();
    }
};