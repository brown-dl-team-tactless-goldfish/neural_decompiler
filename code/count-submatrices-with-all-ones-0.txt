int min(x,y){
    return (x<y)?x:y;
}
int numSubmat(int** mat, int matSize, int* matColSize){
    int SubCnt = 0;
    int dp[*matColSize];
    memset(dp,0,sizeof(dp));
    for(int i = 0;i<matSize;i++){
        for(int j =0;j<*matColSize;j++){
            if(mat[i][j]>0){
                dp[j]++;
                SubCnt += dp[j];
                int minRow = dp[j];
                int k = j-1;
                while(k>=0 && mat[i][k]>0){
                    minRow = min(minRow,dp[k]);
                    SubCnt += minRow;
                    k--;
                }
            }
            else
                dp[j] = 0;
        }
    }
    return SubCnt;
}

