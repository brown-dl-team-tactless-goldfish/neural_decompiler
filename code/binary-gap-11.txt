int binaryGap(int n) {   
    int max = 0, maxSoFar = 0;  
    if(n == 0) return 0;
    while(n) {  
        if(maxSoFar > 0) maxSoFar++;
        if((n & 1)) {  
            if(maxSoFar <= 0) maxSoFar++; 
            else { 
                max = max > maxSoFar ? max : maxSoFar; 
                maxSoFar = 1;
            }
        } 
        n >>= 1;
    }
    return max == 0 ? maxSoFar -1 : max-1;
}