public string GcdOfStrings(string str1, string str2) {
	if (str1.Length < str2.Length) (str1, str2) = (str2, str1);
	var strs = GetDivisors(str2.Length)
		.Select(d => str2.Substring(0, d))
		.Where(s => str2.Replace(s, "") == "");

	foreach (var str in strs)
		if (str1.Replace(str, "") == "")
			return str;

	return "";

	List<int> GetDivisors(int n) {
		var list = new List<int>();
		for (var i = 1; i <= (int)Math.Sqrt(n); i++)
			if (n % i == 0)
				list.AddRange(new List<int> { i, n / i });
		return list.Distinct().OrderByDescending(x => x).ToList();
	}
}