class Solution {
public:
    
    long long dp[1000001];
    
    long long func(vector<vector<int>>& q , int n ) {
        
        if(n < 0) return 0;
        if(dp[n] != -1) return dp[n];
        return dp[n] = max(func(q , n - 1) , q[n][0] + func(q , n - q[n][1] - 1));
    }
    
    long long mostPoints(vector<vector<int>>& q) {
        
        reverse(q.begin() , q.end());
        memset(dp , -1 , sizeof(dp));
        
        return func(q , (int)q.size() - 1);
    }
};