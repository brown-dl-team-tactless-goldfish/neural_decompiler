int arithmeticTriplets(int* nums, int numsSize, int diff){

    int cnt = 0;
    int *p1, *p2, *p3;
    int lastVal = nums[numsSize-1];
    int maxvalue1 = lastVal - 2 * diff;
    int maxvalue2, maxvalue3;
    
    p1 = nums;
    while (*p1 <= maxvalue1)
    {
        maxvalue2  = *p1 + diff;
        p2 = p1+1;
        while(*p2 < maxvalue2 && *p2 < lastVal) p2++;
        if (*p2 == maxvalue2)
        {
            maxvalue3 = *p2 + diff;
            p3 = p2+1;
            while(*p3 < maxvalue3 && *p2 < lastVal) p3++;
            if (*p3 == maxvalue3) cnt++;
        }
        p1++;
    }
    return  cnt;
}