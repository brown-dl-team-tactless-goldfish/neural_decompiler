#define max(a,b) (a>b?a:b)
#define min(a,b) (a<b?a:b)
double calculateTax(int** brackets, int bracketsSize, int* bracketsColSize, int income){

    int lb = 0;
    double r = 0;
    
    for(int i = 0; i < bracketsSize; ++i)
    {
        double val = max(0, min(income, *(*(brackets + i))) - lb);
        r += (*(*(brackets + i)+1) * val)/100;
        lb = *(*(brackets + i));
    }
    
    return r;
}