class Solution {
public:
    string findLexSmallestString(string s, int a, int b) 
    {
        int n=s.size();
        string res=s;
        queue<string>q;
        q.push(s);
        unordered_set<string>vis;
        vis.insert(s);
        while(!q.empty())
        {
            s=q.front();q.pop();
            if(s<res)
                res=s;
            //operation 1;
            string x=s;
            for(int i=0;i<n;i++)
            {
                if(i%2)
                {
                    int c=((s[i]-'0')+a)%10;
                    x[i]=(c+'0');
                }
            }
            if(vis.find(x)==vis.end())
            {
                vis.insert(x);
                q.push(x);
            }
            //operation 2;
            x=s.substr(n-b,b);
            for(int i=0;i<n-b;i++)
                x+=s[i];
            if(vis.find(x)==vis.end())
            {
                vis.insert(x);
                q.push(x);
            }
        }
        return res;
    }
};