class Solution {
    long long LCM(int a, int b){
        long long ret = 1 ;
        return ret * a * b/gcd(a, b) ;
    }
        
    long long helper(int val, int x, int y, int z){
        int a = val/x ;
        int b = val/y ;
        int c = val/z ;
        int ab = val/LCM(x,y) ;
        int bc = val/LCM(y,z) ;
        int ac = val/LCM(x,z) ;
        int abc = val/LCM(LCM(x,y), z) ;
        return (long long)a + b + c - ab - bc - ac + abc ;
    }
public:
    int nthUglyNumber(int n, int a, int b, int c) {
        int left = 1 , right = INT_MAX ;   
        while(left < right){
            int mid = left + (right - left)/2 ;
            long long k = helper(mid, a, b, c) ;
            if(k >= n)
                right = mid ;
            else
                left = mid + 1 ;
        }
        return left ;
    }
};