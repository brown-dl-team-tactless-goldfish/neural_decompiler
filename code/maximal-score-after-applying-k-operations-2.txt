class Solution {
public:
    long long maxKelements(vector<int>& nums, int k) {
        typedef long long ll;
        priority_queue<int> q;
        for(int x: nums) q.push(x);
        ll ans = 0;
        while(k--) ans += q.top(), q.push((q.top() - 1) / 3 + 1), q.pop();
        return ans;           
    }
};