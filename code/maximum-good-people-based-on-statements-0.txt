class Solution {
public:
    int maximumGood(vector<vector<int>>& ss) {
        int n = ss.size(), res = 0;
 
        for (int i = 1; i < (1 << n); i++) {
            bool valid = true;
            for (int j = 0; valid && j < n; j++) {
                if ((1 << j) & i) {
                    for (int k = 0; k < n; k++) {
                        if (ss[j][k] == 1 && ((1 << k) & ~i) ||
                            !ss[j][k] && ((1 << k) & i))
                            valid = false;
                    }
                }
            }
            
            if (valid) {
                res = max(res, __builtin_popcount(i));
            } 
        }
        return res;
    }
};