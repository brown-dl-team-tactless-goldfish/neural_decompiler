class Solution {
public:
    long long beautifulSubarrays(vector<int>& nums) {
        map<long long, long long> m;
        m[0]++;

        long long temp = 0, ans = 0;

        for(auto &i: nums){
            temp ^= i;

            if(m.find(temp) != m.end()) ans += m[temp];

            m[temp]++;
        }

        return ans;
    }
};