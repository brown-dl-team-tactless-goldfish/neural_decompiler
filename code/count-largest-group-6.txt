inline int sd(int i){
    for (int s = 0 ; i || (i = s, 0) ; s += i % 10, i /= 10);
    return i;
}

int countLargestGroup(int n){
    int m[10001] = { 0 }, l = -1, c = 0, s = INT_MAX, e = INT_MIN;
    for (int i = 0, t ; ++i <= n ; s > (t = sd(i)) ? s = t : 0, e < t ? e = t : 0, l = l < ++m[t] ? m[t] : l);
    for (int i = s ; i <= e ; c += m[i++] == l);
    return c;
}