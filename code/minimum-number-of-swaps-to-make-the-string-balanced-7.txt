class Solution {
public:
    int minSwaps(string s) {
        int left = 0, right = 0;
        for (const auto& c : s) {
            if (c == '[') left++;
            else {
                if (left == 0) right++;
                else left--;
            }
        }
        return left > 0 ? (left - 1) / 2 + 1 : 0;
    }
};