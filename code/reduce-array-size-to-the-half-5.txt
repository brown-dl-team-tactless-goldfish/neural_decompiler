struct am { int i; uint16_t o; };

int cmp(const void *x, const void *y){
    return ((const struct am *)y)->o - ((const struct am *)x)->o;
}

int minSetSize(int* arr, int arrSize){
    int i, sz = arrSize, n = 100001;    
    struct am *m = calloc(1, sizeof(struct am[n]));
    for (int i = 0 ; i < sz ; m[arr[i]].i = arr[i], m[arr[i++]].o++);
    qsort(m, n, sizeof(struct am), cmp);
    for (int c = i = 0 ; i < n / 2 && sz - c > sz / 2 ; c += m[i++].o);
    return free(m), i;
}