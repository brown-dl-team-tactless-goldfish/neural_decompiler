int arrayPairSum(int* nums, int numsSize) {
    int frq[20001] = {};
    for (int i = 0; i < numsSize; ++i)
        ++frq[10000 + nums[i]];

    int sum = 0;
    int cnt = 0;
    for (int i = 0; cnt < numsSize - 1; ++i) {
        int k = (frq[i] + 1 - (cnt & 0x01)) >> 1;
        sum += (i - 10000)*k;
        cnt += frq[i];
    }

    return sum;    
}