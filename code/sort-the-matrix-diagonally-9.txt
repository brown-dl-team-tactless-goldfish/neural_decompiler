public class Solution {
    public int[][] DiagonalSort(int[][] mat) {
        int n = mat.Length, m = mat[0].Length;
        int startRow = n - 1, startCol = 0;
        while (startCol < m) {
            int col = startCol, row = startRow;
            var pq = new PriorityQueue<int, int>();
            while (row < n && col < m) {
                int current = mat[row][col];
                pq.Enqueue(current, current);
                row++;
                col++;
            }
            col = startCol; row = startRow;
            while (row < n && col < m) {
                mat[row][col] = pq.Dequeue();
                row++;
                col++;
            }
            if (startRow > 0) {
                startRow--;
            } else {
                startCol++;
            }
        }
        return mat;
    }
}