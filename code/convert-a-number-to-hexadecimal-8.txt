char halfByteToHex(int num) {
    if (num < 10) {
        return '0' + num;
    }
    char res = 'a' + num - 10;
    return res;
}

char * toHex(int num){
    char * s = (char*) calloc(9, sizeof(char));
    s[8] = '\0';
    char index = 8;
    if (num == 0) {
        index--;
        s[index] = (char)'0';
    }
    while (num != 0) {
        index--;
        s[index] = halfByteToHex(num & 0xf);
        num >>= 4;
        num &= 0xfffffff;
    }
    return &s[index];
}