int scoreOfSubStr(char *s, int *i){
    int res=0, tmp;
    while (s[(*i)++]=='(') {
        tmp = scoreOfSubStr(s, i);
        res += tmp ? 2*tmp : 1;
    }
    return res;
}

int scoreOfParentheses(char * S){
    int i=0;
    return scoreOfSubStr(S, &i);
}