public class Solution {
    public bool StrongPasswordCheckerII(string password) {

        if (password.Length < 8)
            return false;

        var isLower = false;
        var isUpper = false;
        var isDigit = false;
        var isSpecial = false;
        var prevChar = ' ';

        foreach(var c in password)
        {
            if (char.IsUpper(c))
                isUpper = true;
            if (char.IsLower(c))
                isLower = true;
            if (char.IsDigit(c))
                isDigit = true;
            if ("!@#$%^&*()-+".Contains(c))
                isSpecial = true;
            if (prevChar == c)
                return false;
            prevChar = c;
        }

        return (isLower && isDigit && isSpecial && isUpper);
    }
}