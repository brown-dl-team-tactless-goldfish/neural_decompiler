class Solution {
public:
    int countPalindromicSubsequence(string s) {
        int res = 0;
        for(char x = 'a'; x <= 'z'; x++) {
            for(char y = 'a'; y <= 'z'; y++) {
                vector<char> pattern = {x, y, x};
                bool dp[4] = {0, 0, 0, 1};
                for(auto c : s) {
                    for(int i = 0; i < 3; i++) if(c == pattern[i]) dp[i] |= dp[i+1];
                    if(dp[0]) break;
                }
                res += dp[0];
            }
        }
        return res;
    }
};