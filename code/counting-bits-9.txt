int countOnes(int a){
    int c=a;
    int counter = 0;
    while(c > 0){
        if(c%2) counter++;
        c /= 2; // integer division
    }
    return counter;
}


int* countBits(int n, int* returnSize){
    
    int *bits;
    int i;
    
    *returnSize = n+1;
    bits = malloc(sizeof(int) * *returnSize);
    
    for(i=0; i<=n; i++){
        bits[i] = countOnes(i);
    }
    return bits;
}