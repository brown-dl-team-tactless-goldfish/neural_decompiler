const flat = (a, n) => {
    const [r, f] = [
        [],
        (a, c) =>
            a.forEach(x =>
                Array.isArray(x) && c < n ?
                    f(x, c + 1) : r.push(x)
            )
    ]
    f(a, 0)
    return r
}