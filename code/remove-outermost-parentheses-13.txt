int Push(char* s, char a, int i)
{
    s[i++] = a;
    return i;
}

int Pop(char* s, int i)
{
    i--;
    return i;
}

char * removeOuterParentheses(char * S)
{
    char stack[strlen(S)], result[strlen(S)];
    int k = 0, z = 0;
    
    for(int i=0;i<strlen(S);++i)
    {
        if(S[i]=='(' && k==0)
            k = Push(stack, '(', k);
        else if(S[i]=='(' && k!=0)
        {
            k = Push(stack, '(', k);
            z = Push(result, '(', z);
        }
        else if(S[i]==')')
        {
            k = Pop(stack, k);
            if(k!=0)
                z = Push(result, ')', z);
        }
    }
    
    if(z==0)
        S[0] = '\0';
    else
    {
        for(int i=0;i<z;++i)
            S[i] = result[i];
        S[z] = '\0';
    }
    
    return S;
}