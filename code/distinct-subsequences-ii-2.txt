
class Solution {
public:
    int distinctSubseqII(string str) {
        const int mod = 1e9 + 7;
		vector<int> dp(26, 0);
		long long s = 0;
		for (char &c: str) {
			int ci = c - 'a';
			long long s1 = (2 * s + mod - dp[ci] + 1) % mod;
			dp[ci] = s + 1;
			s = s1;
		}
		return s;
    }
};

