#define max(a,b) (a >  b ? a: b)

int findDepth(struct TreeNode* root) {
    if(root == NULL) return 0;
    int left = findDepth(root->left);
    int right = findDepth(root->right);
    return max(left,right) +1;
}

void helper(struct TreeNode* root, int index, int* res) {
    if(root == NULL) 
        return;
    
    res[index] = max(res[index], root->val);
    helper(root->left, index+1, res);
    helper(root->right, index+1, res);
}

int* largestValues(struct TreeNode* root, int* returnSize) {
    *returnSize = findDepth(root);
    int *res = (int *)calloc(*returnSize, sizeof(int));
    for(int i = 0; i < *returnSize; i++)
        res[i] = INT_MIN;
    helper(root, 0, res);
    return res;
}