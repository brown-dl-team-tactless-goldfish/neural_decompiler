#define max(a,b)   a>b? a:b
#define min(a,b)   a<b? a:b
void findmaxmin(struct TreeNode* p, int max, int min, int* ret)
{
    if(!p)
        return;
    int temp=p->val;
    if(temp>max)
        max=temp;
    if(temp<min)
        min=temp;

    *ret=max(*ret,max-min);
    findmaxmin(p->left,max,min,ret);
    findmaxmin(p->right,max,min,ret);
    return;

}
int maxAncestorDiff(struct TreeNode* root) {
    int ret=-1;
    findmaxmin(root,root->val,root->val,&ret);
    return ret;
}