class Solution {
public:
    int countValidWords(string sentence) {
      vector<string> tokens;
        string t="";
        for(int i=0;i<sentence.size();i++)
        {
            if(sentence[i]==' ')
            {
                if(t!="")
                tokens.push_back(t);
                t="";
            }
            else t+=sentence[i];
        }
        if(t!="")
            tokens.push_back(t);
        int count=0;
        for(string word:tokens)
        {
            int d=0,h=0,p=0;
            int flag=1;
            for(int i=0;i<word.size();i++)
            {
                if(isdigit(word[i]))
                    d++;
                if(word[i]=='.' || word[i]=='!' || word[i]==',')
                  {
                    p++;
                    if(i!=word.size()-1)
                        flag=0;
                }
                if(word[i]=='-')
                {
                    h++;
                    if(i==0 || i==word.size()-1)
                        flag=0;
                    else if(isalpha(word[i-1]) && isalpha(word[i+1]))
                            {
                             }
                    else flag=0;
                        
                }
            }
            if(d==0 && p<=1 && h<=1 && flag==1)
                count++;
        }
        return count;
    }
};