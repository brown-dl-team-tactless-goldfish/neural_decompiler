public class LUPrefix 
{
    bool[] uploaded;
    int curMax = 1;
    public LUPrefix(int n)
    {
        uploaded = new bool[n+2];
    }

    public void Upload(int video)
    {
        uploaded[video] = true;
        while(uploaded[curMax] == true)
            curMax++;
    }

    public int Longest()
    {
        return curMax - 1;
    }
}