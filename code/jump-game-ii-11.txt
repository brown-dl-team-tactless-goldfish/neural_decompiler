typedef struct _que{
    int index;
    int jump;
}Que;


int jump(int* nums, int numsSize){
    if(numsSize == 1)
        return 0;
    Que* que = (Que*)calloc(numsSize, sizeof(Que));
    int* mask = (int*)calloc(numsSize,sizeof(int));
    register int rp, wp;
    rp = wp = 0;
    que[wp++] = (Que){0,0};
    while(rp != wp)
    {
        Que q = que[rp++];
        if(wp == numsSize)
            wp = 0;
        register int ind = q.index;
        if(nums[ind] >= (numsSize - ind - 1))
            return q.jump+1;
        int jump = q.jump + 1;
        for(register int i = nums[ind] + ind ; i>ind ; i--)
        {
            if(mask[i])
                continue;
            que[wp++] = (Que){i, jump};
            mask[i] = 1;
            if(rp == numsSize)
                rp = 0;
        }
    }
    return 0;
}