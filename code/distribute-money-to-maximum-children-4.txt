class Solution {
public:
    int distMoney(int m, int c) {
        // impossible cases
        if (m < c || c == 1 && m == 4) return -1;
        // giving a coin to each child
        m -= c;
        // support variables
        div_t tmp = div(m, 7);
        int res = min(c, tmp.quot);
        // reducing res if have money left after giving everybody 8
        if (tmp.quot == c && tmp.rem || tmp.quot > c ||
            // or if the last kid gets only 3 extra coins
            tmp.quot == c - 1 && tmp.rem == 3
        ) res--;
        return res;
    }
};