public class Solution 
{
    public int MaxUncrossedLines(int[] A, int[] B) 
    {
        int r = A.Length, c = B.Length;
        var dp = new int[r + 1, c + 1];
        for(int i = 1; i <= r; i++)
            for(int j = 1; j <= c; j++)
                if(A[i - 1] == B[j - 1])
                    dp[i, j] = dp[i - 1, j - 1] + 1;
                else
                    dp[i, j] = Math.Max(dp[i - 1, j], dp[i, j - 1]);
        return dp[r, c];
    }
}