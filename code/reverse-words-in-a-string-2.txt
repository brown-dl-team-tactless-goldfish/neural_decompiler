static inline void reverseStr(char * left, char * right)
{
        while (left < right) {
                char c = *left;
                *left = *right;
                *right = c;
                ++left;
                --right;
        }
}

char * reverseWords(char * s)
{
        int i = 0, j = 0, k = 0;
        while (s[i]) {
				//skip extra spaces
                while (s[i] && s[i] == ' ') i++;
				//find next word
                while (s[i] && s[i] != ' ') s[j++] = s[i++];
                reverseStr(s + k, s + j - 1);
                if (s[i] == '\0') break;
				//add one space
                s[j++] = s[i++];
                k = j;
        }
		//skip a trailing space
        if (s[j - 1] == ' ') j--;
        s[j] = '\0';
        reverseStr(s, s + j - 1);
        return s;
}