class Solution {
public:
    vector<int> maxScoreIndices(vector<int>& nums) {
        //zeros to count of no. of leftmost zeros as we move ahead
        //ones keep count of no. of rightmost ones as we move ahead
        //max_till_now is max score we can get at ith index
        //we have to handle the case for -1th index and nth index manually
        //-1th index case when we just count rightmost ones
        int zeros=0,ones=0,max_till_now=0;
        for(int i:nums){
            if(i==1)
                ones++;
        }
        vector<int>ans={0};
        for(int i=0;i<nums.size();i++){
            if(ones+zeros>max_till_now){
                //update max score and remove all elements from vector
                max_till_now=ones+zeros;
                ans.clear();
            }
            if(ones+zeros==max_till_now){
                ans.push_back(i);
            }
            //update count of zeros and ones at ith index
            zeros+=!nums[i];
            ones-=nums[i];
        }
        //nth index handling
        if(zeros>max_till_now){
            max_till_now=zeros;
            ans.clear();
        }
        if(zeros==max_till_now){
            ans.push_back(nums.size());
        }
        return ans;
    }
};