public class Solution 
{
    public int CountTriplets(int[] arr) 
    {
        int count = 0;
        for(int j = 1; j < arr.Length; j++)
        {
            var dictl = new Dictionary<int, int>();
            var dictr = new Dictionary<int, int>();
            int num = 0;
            for(int i = j - 1; i >= 0; i--)
            {
                num = num ^ arr[i];
                if(!dictl.ContainsKey(num))
                    dictl[num] = 0;
                dictl[num]++;
            }
            
            num = 0;
            for(int k = j; k < arr.Length; k++)
            {
                num = num ^ arr[k];
                if(!dictr.ContainsKey(num))
                    dictr[num] = 0;
                dictr[num]++;
            }
            foreach(var item in dictl)
                if(dictr.ContainsKey(item.Key))
                    count += item.Value * dictr[item.Key];
        }
        
        return count;
    }
}