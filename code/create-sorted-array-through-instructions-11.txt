public class Solution {
    public int CreateSortedArray(int[] instructions) {
        int cost=0,mod=(int)1e9+7;
        var li=new List<int>();
        foreach(var ins in instructions)
        {
            int l=0,r=li.Count;
            while(l<r)
            {
                int m=l+(r-l)/2;
                if(li[m]<ins)
                    l=m+1;
                else
                    r=m;
            }
            
            int lr=l;r=li.Count;
            while(lr<r)
            {
                int m=lr+(r-lr)/2+1;
                if(li[m-1]>ins)
                    r=m-1;
                else
                    lr=m;
            }
            cost+=Math.Min(Math.Min(l,li.Count-l),Math.Min(lr,li.Count-lr));
            cost%=mod;
            li.Insert(l,ins);
        }
        return cost;
    }
}