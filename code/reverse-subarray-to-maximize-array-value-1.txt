    int maxValueAfterReverse(vector<int>& a) {
        int sum = 0, maxMin = INT_MAX, minMAX = INT_MIN, res = 0;
        for(int i = 1; i < a.size(); i++) {
            sum += abs(a[i]-a[i-1]);
            maxMin = min(maxMin, max(a[i], a[i-1]));
            minMAX = max(minMAX, min(a[i], a[i-1]));
        }
        res = sum+max(0, (minMAX - maxMin)*2);
        
        int t1 = 0, t2 = 0, n = a.size();
        for(int i = 1; i < n-1; i++) {
            t1 = max(t1, abs(a[i+1]-a[0]) - abs(a[i+1]-a[i]));
            t2 = max(t2, abs(a[n-i-1]-a[n-1]) - abs(a[n-i-1]-a[n-i]));
        }
        return max(res, sum+max(t1, t2));
    }