/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
 /* max of any node as root is max len of left sub tree + max len of right sub tree.
    max of any node is greater than max diameter explored sofar, update the max.
*/
#define MAX(a, b) ((a) > (b) ? (a) : (b))
int diameterBT(struct TreeNode* root, int *max ) {
    if(root == NULL) return 0;
    int l = diameterBT(root->left, max);
    int r = diameterBT(root->right, max);
    
    *max = MAX(*max, l+r);
    return MAX(l,r)+1;
}
int diameterOfBinaryTree(struct TreeNode* root){
    int max=0;   
    diameterBT(root, &max);
    return max;

}