public class Solution {
    public int MaxPalindromes(string s, int k) {
        Dictionary<char,List<int>> D = new();
        int start = 0;
        int res = 0;
        int end = k-1;
        while(end<s.Length)
        {
            if(FindP(start, end, s,k))
            {
                start = end+1;
                end = start + k - 1;
                res++;
            }
            else
                end++;
                
        }
        
        return res;
        
    }
    
    public bool FindP(int start, int end, string s, int k)
    {
        for(int i=end-k+1;i>=start;i--)
        {
            if(IsP(i, end, s)) return true;
        }
        return false;
    }
    public bool IsP(int start, int end, string s)
    {
        while(start<end){
            if(s[start++]!=s[end--])
                return false;
        }
        return true;
    }
}