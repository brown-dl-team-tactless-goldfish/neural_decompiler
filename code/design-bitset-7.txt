//consider two vector(or string) one normal and other flipped and make all the change at each step 
class Bitset {
public:
    
    vector<int>s;
    vector<int>r;
    int cnt0,cnt1=0,rcnt0=0,rcnt1;
    int op=0;
    int n;
    
    Bitset(int size) {
        s.resize(size);
        cnt0=size;
        r.resize(size);
        
        
        rcnt1=size;
        
        for(int i=0;i<size; i++)
        {
            s[i]=0;
            r[i]=1;
        }
        n=size;
    }
    
    void fix(int idx) {
        if(op==0)
        {
            if(s[idx]==0)
            {
                s[idx]=1,cnt1++,cnt0--;
                r[idx]=0,rcnt1--,rcnt0++;
            }
            
        }
        else
        {
            if(r[idx]==0)
            {
                r[idx]=1,rcnt1++,rcnt0--;
                s[idx]=0,cnt1--,cnt0++;
            }
        }
            
    }
    
    void unfix(int idx) {
        if(op==0)
        {
            if(s[idx]==1)
            {
                s[idx]=0,cnt0++,cnt1--;
                r[idx]=1,rcnt0--,rcnt1++;
            }
            
        }
        else
        {
            if(r[idx]==1)
            {
                r[idx]=0,rcnt0++,rcnt1--;
                s[idx]=1,cnt0--,cnt1++;
            }
        }
    }
    
    void flip() {
        if(op==0)
        {
            op=1;
        }
        else
        {
            op=0;
        }
    }
    
    bool all() {
        if(op==0)
        {
            if(cnt1==n)
                return true;
        }
        else
        {
            if(rcnt1==n)
                return true;
        }
        
        return false;
    }
    
    bool one() {
        if(op==0)
        {
            if(cnt1>=1)
                return true;
        }
        else
        {
            if(rcnt1>=1)
                return true;
        }
        
        return false;
    }
    
    int count() {
        if(op==0)
        {
                return cnt1;
        }
        else
        {
                return rcnt1;
        }
    }
    
    string toString() {
        string ans="";
        
        for(int i=0; i<n; i++)
        {
            if(op==0)
            ans+=to_string(s[i]);
            else
            ans+=to_string(r[i]);
        }
        
        return ans;
    }
};