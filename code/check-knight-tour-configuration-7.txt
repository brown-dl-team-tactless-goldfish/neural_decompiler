class Solution {
public:
    bool checkValidGrid(vector<vector<int>>& grid) {
        map<int,pair<int,int>>mp;
        int m=grid.size();
        int n=grid[0].size();
        for(int i=0;i<m;i++)
        {
            for(int j=0;j<n;j++)
            {
                if(i==0 && j==0)continue;
                mp[grid[i][j]]={i,j};
            }
        }
       
        int r=0,c=0;
        for(auto it:mp)
        {
            int rtemp=it.second.first;
            int ctemp=it.second.second;
            int X[8] = { 2, 1, -1, -2, -2, -1, 1, 2 };
            int Y[8] = { 1, 2, 2, 1, -1, -2, -2, -1 };
            bool flag=0;
            for (int i = 0; i < 8; i++) {
 
            // Position of knight after move
            int x = r + X[i];
            int y = c + Y[i];
        
            if(x==rtemp && y==ctemp)
            {
                //cout<<x<<" "<<y<<" continued"<<endl;
                r=x;
                c=y;
                flag=true;
                break;
               // continue;
            }
            
            }
            
            if(!flag)return false;
            else continue;
           
             
        }
        return true;
    }
};