class Solution {
public:
    string reorganizeString(string s) {
        priority_queue<pair<int, char>> pq;
        vector<int> rep(26, 0);
        for (auto x: s) {
            ++rep[x-'a'];
        }
        for (int i = 0; i < rep.size(); ++i) {
            if (rep[i]) {
                pq.push({rep[i], i+'a'});
            }
        }
        string out;
        pair<int, char> cool_down;
        bool in_cool_down = false;
        while (pq.size()) {
            auto top_ele = pq.top();
            pq.pop();
            
            out.push_back(top_ele.second);
            
            if (in_cool_down) {
                pq.push(cool_down);
                in_cool_down = false;
            }
            
            if (top_ele.first > 1) {
                cool_down = top_ele;
                --cool_down.first;
                in_cool_down = true;
            }
        }
        return out.size() == s.size() ? out : "";
    }
};