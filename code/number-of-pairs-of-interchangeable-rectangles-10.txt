class Solution {
public:
    long long interchangeableRectangles(vector<vector<int>>& rectangles) {
        
        map<double, int> ratios;
        for(int i = 0; i < rectangles.size(); i++){
            double ratio = (double)rectangles[i][0] / (double)rectangles[i][1];
            ratios[ratio]++;
        }
        long long sol = 0;
        for(auto it = ratios.begin(); it != ratios.end(); ++it){
            if(it->second > 1){
                sol += (long long)it->second * (long long)(it->second - 1); //number of ways to pick first, second element of pair
            }
        }
        return sol / 2; //order of elements in each pair does not matter - divide by two
    }
};