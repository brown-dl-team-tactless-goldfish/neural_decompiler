int longestSubarray(int* nums, int numsSize){
    
    int i;
    int prev=-1;
    int c=0;
    int res=0;
    int l=0;
    for (i=0; i < numsSize; i++)
    {
        if (nums[i] == 0)
        {
            if (prev == -1)
            {
                prev = i;
                continue;
            }
            if (l!=i)
                l=prev+1;
            prev=i;
            if (c > res)
                res=c;
            c=i-l;
            continue;
        }
        c++;
    }
    if (prev == -1)
    {
        return numsSize-1;
    }
    if (c > res)
        return c;
    else
        return res;

}