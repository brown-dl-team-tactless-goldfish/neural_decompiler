int cmp(const void* a, const void* b) {
    return *(const int*) a - *(const int*) b;
}

int longestConsecutive(int* nums, int numsSize){
int count=0,z,countmax=0,count1;
    if(numsSize==0)
    {
        return 0;
    }
    qsort(nums, numsSize, sizeof(int), cmp);
    for(int i=0;i<numsSize;i++)
    {
        if(nums[i]==z)
        {
            continue;
        }
        if(nums[i]==z+1)
        {
            count++;
        }
        count1=count;
        if(nums[i]!=z+1)
        {
            count=0;
        }
        if(count1>countmax)
        {
            countmax=count1;
        }
        z=nums[i];
    }
    return countmax+1;
}