
inline int max(int a, int b) { return a > b ? a : b; }

int lastStoneWeight(int* stones, int stonesSize){
    int h[1001] = {};
    int mx      = INT_MIN;
    
    for (int i = 0; i < stonesSize; ++i) {
        h[stones[i]] += 1;
        mx = max(mx, stones[i]);
    }
    
    int w = mx;
    
    h[w] -= 1;
    while (w > 0) {
        if (h[w] > 0) {
            if (mx > 0) {
                int d = mx - w;
                
                h[d] += 1;
                h[w] -= 1;
                w     = max(w, d);
                mx    = 0;
            }
            else {
                h[w] -= 1;
                mx    = w;
            }
        }
        else {
            --w;
        }
    }
    
    return mx;
}