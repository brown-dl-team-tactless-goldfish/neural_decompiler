 vector<vector<int>> dp;

int help(vector<int>&nums, int left, int right)
{
    int ans = 0;
    
    if(dp[left][right] != -1)
    {
        return dp[left][right];
    }
    
    
    
    for(int i=left+1; i<right; i++)
    {
        int val = nums[left]*nums[i]*nums[right];
        
        ans = max(ans, val + help(nums,left,i) + help(nums,i,right));
        
    }
    
    return dp[left][right] = ans;
}
int maxCoins(vector<int>& nums) 
{
    nums.push_back(1);
    
    nums.insert(nums.begin(),1);
                
    int n = nums.size();
  
    dp.resize(n,vector<int>(n,-1));
    
    return help(nums,0,nums.size()-1);
    
}