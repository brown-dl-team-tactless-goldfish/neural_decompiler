class Solution {
public:
    int lenLongestFibSubseq(vector<int>& arr) {
        //we will store in the array of index for what wee are searching for
        vector<vector<int>> dp(arr.size(),vector<int>(1000,1));
        //map to store the index of the element
        unordered_map<int,int> mp;
        for(int i=0;i<arr.size();i++)
            mp[arr[i]]=i;
        int res=0;
        for(int i=1;i<arr.size();i++)
        {
            for(int j=i-1;j>=0;j--)
            {
                res=max(res,dp[j][i]+1);
                int need=arr[j]+arr[i];
                if(mp.find(need)!=mp.end())
                    dp[i][mp[need]]=dp[j][i]+1;
            }
        }
        return res>2 ? res : 0;
            
    }
};