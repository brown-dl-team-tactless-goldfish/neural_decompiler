public class Solution 
{
    public bool CanBeValid(string s, string locked) 
    {
        int low = 0, high = 0;
        foreach ((char c, bool isLocked) in s.Zip(locked.Select('1'.Equals))) 
        {
            low  += c == ')' || !isLocked ? -1 : +1;
            high += c == '(' || !isLocked ? +1 : -1;
            low = low < 0 ? 1 : low;
            if (high < 0) return false;
        }
        return low == 0;
    }
}