int cmpfunc (const void * a, const void * b)
{
   return ( *(int*)a - *(int*)b );
}
int largestSumAfterKNegations(int* A, int ASize, int K){
    qsort(A,ASize,sizeof(int),cmpfunc);
    int i,total=0;
    for(i=0;i<ASize&&K>0;i++)
    {
        if(A[i]<0&&K>0)
        {
            A[i]=-A[i];
            K--;
        }
        else break;
    }
    if(i==0&&K>0)
        A[i]=K%2?-A[i]:A[i];
    else if(K%2&&A[i]>=A[i-1])
        A[i-1]=-A[i-1];
    else if(K%2&&A[i]<=A[i-1])
        A[i]=-A[i];
    for(i=0;i<ASize;i++)
    {
        total+=A[i];
    }
        return total;  
}