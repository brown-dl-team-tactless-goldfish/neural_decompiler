bool validateStackSequences(int* pushed, int pushedSize, int* popped, int poppedSize) {
    int top = 0, popidx = 0;
    int* stack = (int*) malloc(pushedSize * sizeof(int));
    for (int i = 0; i < pushedSize; i++) {
        stack[top] = pushed[i];
        while (top >= 0 && popidx < pushedSize && stack[top] == popped[popidx]) {
            popidx++;
            top--;
        }
        top++;
    }
    free(stack);
    return top == 0;
}