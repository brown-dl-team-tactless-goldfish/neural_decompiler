class Solution {
public:
    bool isItPossible(string word1, string word2) {
        vector<int> arr1(26), arr2(26);
        for (char c : word1) 
            arr1[c - 'a']++;
        for (char c : word2) 
            arr2[c - 'a']++;

        auto cnt_distinct = [&] (vector<int> arr) {
            int cnt = 0;
            for (int i = 0; i < 26; i++) {
                if (arr[i]) 
                    cnt++;
            }
            return cnt;
        };
        vector<int> v1, v2;
        for(char c1 = 'a'; c1 <= 'z'; c1++) {
            for (char c2 = 'a'; c2 <= 'z'; c2++) {
                v1 = arr1, v2 = arr2;
                if(v1[c1 - 'a'] > 0 && v2[c2 - 'a'] > 0) {
                    v1[c1 - 'a'] --;
                    v2[c1 - 'a'] ++;
                    v2[c2 - 'a'] --;
                    v1[c2 - 'a'] ++;
                    if (cnt_distinct(v1) == cnt_distinct(v2))
                        return true;
                } 
            }
        }   
        return false;
    }
};