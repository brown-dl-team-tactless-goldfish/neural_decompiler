// The API isBadVersion is defined for you.
// bool isBadVersion(int version);
#include <stdbool.h>
int firstBadVersion(int n) {
    
    int leftidx = 0;
    int middle;

    while (leftidx <= n)
    {
        middle = ((n - leftidx)/2 + leftidx); 
        // Must be somewhere to the left
        if (isBadVersion(middle)) 
        {
            n = middle-1;
            if (isBadVersion(middle-1) == false) break;
        }
        // Must be somewhere to the right
        if (!isBadVersion(middle)) leftidx = middle+1; 
    }
    
    return middle;
    
}