public class Solution {
    public IList<int> PathInZigZagTree(int label) {
        
        List<int> res = new List<int>();
        
        // calcaute the level of label
        int level = 1; 
        while(label >= (int)Math.Pow(2,level))
            level++;
        
        while(level >= 1)
        {
            int min = (int)Math.Pow(2, level - 1);
            int max = (int)Math.Pow(2, level) - 1;
            
            // add current lable to the path
            res.Add(label);
            
            // calculate the parent value and update lable with the parent value
            int originalValue = min + (max - label);
            label= originalValue / 2;
            level--;
        }
        
        res.Reverse(); // there are H nodes in the res. H = logn
        return res;
    }
}