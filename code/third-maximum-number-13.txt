Nullable<int> Max = null;
Nullable<int> SecondMax = null;
Nullable<int> ThirdMax = null;
foreach(int num in nums)
{
	if (num.Equals(Max) || num.Equals(SecondMax) 
		|| num.Equals(ThirdMax))
		continue;

	if(Max == null || num > Max)
	{
		ThirdMax = SecondMax;
		SecondMax = Max;
		Max = num;
	}
	else if (SecondMax == null || num > SecondMax)
	{
		ThirdMax = SecondMax;
		SecondMax = num;
	}
	else if (ThirdMax == null || num > ThirdMax)
	{
		ThirdMax = num;
	}
}
if (ThirdMax == null)
	return (int)Max;
return (int)ThirdMax;