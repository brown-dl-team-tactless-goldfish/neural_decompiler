class Solution {
public:
    static constexpr auto INF = static_cast<int>(1e4+1);
    int maximumSum(vector<int>& A, int ans=-INF) {
        auto N = static_cast<int>(A.size());
        for (auto k=1; k <= N; ++k) {
            for (auto i=0; i <= N-k; ++i) {
                auto beg = A.begin() + i,
                     end = A.begin() + i + k;
                auto sum = accumulate(beg, end, 0),
                     min = *min_element(beg, end);
                if (k > 1 && min < 0) {
                    sum -= min; // "remove" minimum negative number from the sum
                }
                ans = max(ans, sum);
            }
        }
        return ans;
    }
};