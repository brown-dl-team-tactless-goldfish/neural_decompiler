    public class Solution
    {
        public int MinScoreTriangulation(int[] arr)
        {
            if (arr.Length == 3)
            {
                return arr[0] * arr[1] * arr[2];
            }

            int[,] dp = new int[arr.Length, arr.Length];
            checked
            {
                for (int length = 2; length < arr.Length; length++)
                {
                    for (int start = 0; start < arr.Length; start++)
                    {
                        int end = start + length;

                        if (end >= arr.Length)
                        {
                            break;
                        }

                        dp[start, end] = int.MaxValue;
                        for (int k = start + 1; k < end; k++)
                        {
                            dp[start, end] = Math.Min(dp[start, end], dp[start,k] + dp[k, end] + arr[start] * arr[k] * arr[end]);
                        }
                    }
                }
                return dp[0, arr.Length - 1];
            }
        }
    }