int numSplits(char *s) {
    int cnts_l[26], cnts_r[26];
    for (int i = 0; i < 26; i++) cnts_l[i] = cnts_r[i] = 0;
    int cnt_l = 0, cnt_r = 0;
    for (int i = 0; s[i]; i++)
        cnt_r += cnts_r[s[i] - 'a']++ == 0;
    int ans = 0;
    for (int i = 0; s[i + 1]; i++) {
        cnt_r -= --cnts_r[s[i] - 'a'] == 0;
        cnt_l += cnts_l[s[i] - 'a']++ == 0;
        ans += cnt_l == cnt_r;
    }
    return ans;
}