int cmpFunc (const int* a, const int *b)
{
    return (*a - *b);
}

int findPairs(int* nums, int numsSize, int k) {
    if (k < 0 || numsSize < 2) return 0;
    qsort(nums, numsSize, sizeof(int), cmpFunc);
    int ans = 0;
    int temp = nums[0]-1;
    
    for(int i = 0; i < numsSize; i++)
    {
        if (temp != nums[i])
        {
            temp = nums[i];
            for(int j = i+1; j < numsSize; j++)
            {
                if(nums[i] + k == nums[j])
                {
                    ans++;
                    break;
                }
                else if(nums[i] + k < nums[j])
                {
                    break;
                }
            }
        }
    }
    return ans;
}