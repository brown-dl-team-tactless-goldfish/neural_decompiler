public class Solution 
{
    public int MaxDiff(int num) 
    {
        int max = num, min = num;
        for(int i = 0; i <= 9; i++)
        {
            for(int j = 0; j <= 9; j++)
            {
                var newNumber = ChangeDigit(num, i, j);
                max = Math.Max(max, newNumber);
                min = Math.Min(min, newNumber);
            }
        }
        
        return max - min;
    }
    
    private int ChangeDigit(int num, int d1, int d2)
    {
        var result = int.Parse(num.ToString().Replace(d1.ToString(), d2.ToString()));
        return (result == 0 || result.ToString().Length != num.ToString().Length) ? num : result;
    }
}