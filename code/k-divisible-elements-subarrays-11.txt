public class Solution {
    public int CountDistinct(int[] nums, int k, int p) {
        int res = 0;
        HashSet<string> hs = new HashSet<string>();
        string str = string.Empty;
        for(int i = 0; i < nums.Length; i++)
        {
            int cnt = 0;
            str = string.Empty;
            for(int j = i; j<nums.Length; j++)
            {
                if(nums[j]%p==0)
                    cnt++;
                if(cnt>k)
                    break;
                string cur = "[+"+nums[j]+"]";
                str+=cur;
                if(!hs.Contains(str))
                {
                    hs.Add(str);
                    res++;
                }   
                
            }
        }
        
        return res;
    }
}