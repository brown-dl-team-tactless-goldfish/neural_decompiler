class Solution {
public:
    vector<long long> getDistances(vector<int>& arr) 
    {
        int n=arr.size();
       vector<long long>ans(n,0);
       unordered_map<long long,long long>cntMp;
       unordered_map<long long,long long>sumMp;
       for (int i=0;i<n;i++)
       {
           if (cntMp.count(arr[i]))
           {
              ans[i]=(cntMp[arr[i]]*i)-sumMp[arr[i]];
           }
           cntMp[arr[i]]++;
           sumMp[arr[i]]+=i;
       }
       cntMp.clear();
       sumMp.clear();
       for (int i=n-1;i>=0;i--)
       {
           if (cntMp.count(arr[i]))
           {
              ans[i]+=sumMp[arr[i]]-(cntMp[arr[i]]*i);
           }
           cntMp[arr[i]]++;
           sumMp[arr[i]]+=i;
       }
       return ans;
    }
};