public bool CanThreePartsEqualSum(int[] A)
{
	var totalSum = A.Sum();
	if (totalSum % 3 != 0) return false;
	var partSum = totalSum / 3;

	var i = 0;
	var leftSum = 0;
	while (i < A.Length)
	{
		leftSum += A[i++];
		if (leftSum == partSum) break;
	}
	if (leftSum != partSum) return false;

	var j = A.Length - 1;
	var rightSum = 0;
	while (j > i)
	{
		rightSum += A[j--];
		if (rightSum == partSum) break;
	}
	if (rightSum != partSum) return false;

	return A.Skip(i).Take(j - i + 1).Sum() == partSum;
}