class Solution {
    int power(int a, long b)
    {
        if (b==0)
            return 1;
        else
        {
            long tmp = power(a,b/2);
            return (((tmp * tmp) % mod) * ((b%2)?a:1)) % mod;
        } 
    }
public:
    int mod = 1000000007;
    int minNonZeroProduct(int p) {
        if (p==1)
            return 1;
        long c = 1L<<(p-1);
        long tmp = ((c*2) - 2) % mod;
        return (((tmp + 1) % mod) * power(tmp, c-1)) % mod;
    }
};