#define MAX(a,b) (a>b) ? a : b

double findMaxAverage(int* nums, int numsSize, int k) {
    double sum = 0;
    for (int j = 0; j < k; j++) {
        sum += nums[j];
    }
    
    double result = sum/k;
    for (int i = 0; i+k < numsSize; i++) {
        sum += (-nums[i]+nums[i+k]);
        result = MAX(result, sum/k);
    }
    
    return result;
}