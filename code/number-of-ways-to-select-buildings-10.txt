class Solution {
public:
    long long numberOfWays(string s) {
        long long seen0 = 0, seen01 = 0, seen010 = 0;
        long long seen1 = 0, seen10 = 0, seen101 = 0;
        for (const char c : s)
        {
            if (c == '0')
            {
                seen0++;
                seen10 += seen1;
                seen010 += seen01;
            }
            else if (c == '1')
            {
                seen1++;
                seen01 += seen0;
                seen101 += seen10;
            }
        }
        return seen010 + seen101;
    }
};