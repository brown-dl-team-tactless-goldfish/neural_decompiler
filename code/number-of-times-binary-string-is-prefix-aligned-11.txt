class Solution {
public:
    int numTimesAllBlue(vector<int>& flips) {
        int n = flips.size(), ans = 0, p = 0, last = 0;
        vector<int> v(n);

        for(int i : flips) {
            v[i - 1] = 1;
            last = max(last, i - 1);
            while(p < n && v[p]) p++;
            if(p == last + 1) ans++;
        }

        return ans;
    }
};