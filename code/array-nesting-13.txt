// Essentially looking for the longest cycle
class Solution {
public:
    int arrayNesting(vector<int>& a)
    {
        int n = a.size();
        vector<bool> vis(n, false);
        int c = 0;
        int best = -1;
        for (int i = 0; i < n; ++i)
        {
            if (vis[i]) continue;
            while (!vis[i])
            {
                vis[i] = true;
                ++c;
                i = a[i];
            }
            best = max(best, c);
            c = 0;
        }
        return best;
    }
};