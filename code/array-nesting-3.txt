int arrayNesting(int* nums, int numsSize) {
    int *hash=(int*)calloc(numsSize,sizeof(int));
    int count=0;
    int max=0;
    int temp=0;
    int sum=0;
    for(int i=0;i<numsSize;i++){
        if(hash[nums[i]]==0){
            hash[nums[i]]++;
            temp=nums[i];
            count++;
            while(temp!=i){
                temp=nums[temp];
                hash[temp]++;
                count++;
            }
            if(max<count){
                max=count;
                if((numsSize-max-sum)<max){
                    return max;
                }
            }
            sum+=count;
            count=0;
        }       
    }
    return max;
}