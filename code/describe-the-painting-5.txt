class Solution {
public:
    vector<vector<long long>> splitPainting(vector<vector<int>>& segments) {
        vector<vector<long long>> ans;
        vector<vector<long long>> inter;
        for (auto s: segments){
            inter.push_back({s[0], s[2]});
            inter.push_back({s[1], -s[2]});
        }
        sort(inter.begin(), inter.end());
        long long mix = 0;
        long long j = inter[0][0];
        for (int i = 0; i < inter.size(); ++i){
            if (inter[i][0] != j){
                if (mix) ans.push_back({j, inter[i][0], mix});
                j = inter[i][0];
            }
            mix += inter[i][1];
        }
        return ans;
    }
};