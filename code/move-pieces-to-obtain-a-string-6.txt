class Solution {
public:
    bool check(string s, string t)
    {
        string a,b;
        for(char c : s)
            if(c != '_')
                a+=c;
        for(char c : t)
            if(c != '_')
                b+=c;
        return a==b;
    }
    
    bool canChange(string s, string t) {
        if(check(s,t) == false) return false;
        
        int l = 0;
        int r = 0;
        for(int i = 0;i<t.size();i++){
            if(t[i] == 'L') l++;
            if(t[i] == 'R') r++;
            if(s[i] == 'L') l--;
            if(s[i] == 'R') r--;
            
            if(l < 0) return false;
            if(r > 0) return false;
        }
        return true;
    }
};