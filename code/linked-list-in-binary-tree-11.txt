class Solution {
public:
    bool dfs(TreeNode* root, ListNode* head){
        if(head == nullptr)
            return true;
        if(root == nullptr)
            return false;
        
        return root->val == head->val && (dfs(root->left,head->next) || dfs(root->right,head->next));
            
    }
    bool isSubPath(ListNode* head, TreeNode* root) {
        if(head == NULL)
            return true;
        if(root == NULL)
            return false;
        
        return dfs(root,head) || isSubPath(head,root->left) || isSubPath(head,root->right);
    }
};