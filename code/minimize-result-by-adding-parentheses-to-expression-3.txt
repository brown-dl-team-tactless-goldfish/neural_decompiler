class Solution {
public:
    string minimizeResult(string exp ) {
        int stop = -1 ;
        for(int i = 0 ; i < exp.size() ; ++i ){
            if(exp[i] == '+'){
                stop = i ; break ;
            }
        }
        
        string res = "" ;
        int mini = INT_MAX ;
        
        for(int i = 0 ; i < stop ; ++i ){
            for(int j = stop + 1 ; j < exp.size() ;++j ){
			//explore all possibilities
			
                string a = exp.substr(0,i) ;
                string b = exp.substr(i,stop-i) ;
                string c = exp.substr(stop+1,j-stop) ;
                string d = exp.substr(j+1);
                
                int A = a =="" ? 1 : stoi(a) ;
                int B = stoi(b) ;
                int C = stoi(c) ;
                int D = d=="" ? 1 : stoi(d) ;
                
                if(mini > A*(B+C)*D ){
                    mini = A*(B+C)*D ;
                    res = a + "(" + b + "+" + c + ")" + d ;
                }
                
            }
        }
        return res ;
        
    }
};