class RecentCounter:

    def __init__(self):
        self.data = []

    def ping(self, t: int) -> int:
        self.data.append(t)

        n = len(self.data)
        
        i = 0
        while i < n:
            if (t - self.data[i] <= 3000):
                break
            i += 1

        self.data = self.data[i:]
            
        return len(self.data)