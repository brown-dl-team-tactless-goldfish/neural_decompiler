class Solution {
public:
    bool primeSubOperation(vector<int>& nums) 
    {
        int n=nums.size();
        vector<int> v;
        for(int i=1;i<=1000;i++)
        {
            if(check(i))
            {
                v.push_back(i);
            }
        }
        for(int i=0;i<n;i++)
        {
            if(i>0 and nums[i]<=nums[i-1])
            {
                return 0;
            }
            auto it = lower_bound(v.begin(),v.end(),nums[i]) - v.begin();
            for(int j=it-1;j>=0;j--)
            {
                if(i==0 or nums[i]-v[j] > nums[i-1])
                {
                    nums[i] -= v[j];
                    break;
                }
            }
        }  
        return 1;
    }
    bool check(int num)
    {
        if(num==1)
        {
            return 0;
        }
        for(int i=2;i<num;i++)
        {
            if(num%i==0)
            {
                return 0;
            }
        }   
        return 1;
    }
};