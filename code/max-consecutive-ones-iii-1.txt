class Solution {
public:
    int longestOnes(vector<int>& A, int K) {
        int *op = A.data(), *zp = op, *ep = op + A.size(), m = 0, k = 0;
        while (op < ep) { if (!*op) k++; while (k > K) { if (!*zp++) k--; } m = max(m, (int)(op - zp) + 1); op++; }
        return m;
    }
};