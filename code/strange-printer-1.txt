class Solution:
    def strangePrinter(self, s: str) -> int:
        print("s = ", s)

        news = ""
        for c in s:
            if (news == ""):
                news += c
            elif (c != news[-1]):
                news += c
        print("end news = ", news) # "aabb -> ab"
        l = len(news)
        
        
        self._t = [[0 for _ in range(l)] for _ in range(l)]

        return self._turns(news, 0, l - 1)

    def _turns(self, s, i, j):
        if i > j:
            return 0
        if self._t[i][j] > 0:
            return self._t[i][j]

        ans = self._turns(s, i, j - 1) + 1

        for k in range(i, j):
            if s[k] == s[j]:
                ans = min(ans, self._turns(s, i, k)
                          + self._turns(s, k + 1, j-1))
        self._t[i][j] = ans

        return self._t[i][j]