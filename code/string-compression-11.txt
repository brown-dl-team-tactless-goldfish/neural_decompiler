int compress(char* chars, int charsSize) {
    if (charsSize < 2) {
        return charsSize;
    }
    int i = 0, j = 0;
    while (i < charsSize) 
    {
        int count = 1;
        while (i + count < charsSize && chars[i + count] == chars[i])
            count++;
        chars[j++] = chars[i];
        if (count > 1) 
        {
            char count_str[11];
            snprintf(count_str, sizeof(count_str), "%d", count);
            int k = 0;
            while (count_str[k] != '\0') 
            {
                chars[j++] = count_str[k++];
            }
        }
        i += count;
    }
    return j;
}