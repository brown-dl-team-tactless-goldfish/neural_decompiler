class Solution {
public:
    int lcm(int a, int b){
        return ((a*b)/__gcd(a,b));
    }
    int nthMagicalNumber(int n, int a, int b) {
        long long int lo=min(a,b), hi=n*lo, mid,x,M=1000000007;
        while(lo<hi){
            mid=(lo+hi)>>1;
            x=(mid/a)+(mid/b)-(mid/(lcm(a,b)));
            if(x>=n) hi=mid;
            else lo=mid+1;
        }
        return int(lo%M);
    }
};