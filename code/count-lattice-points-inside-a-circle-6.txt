class Solution {
public:
    int countLatticePoints(vector<vector<int>>& circles) {
        int n = circles.size(), ans = 0;
        unordered_map<int, unordered_set<int>> coords;
        for (auto& c : circles)
        {
            int x = c[0], y = c[1], r = c[2];
            for (int i = x - r; i <= x + r; i++)
                for (int j = y - r; j <= y + r; j++)
                {
                    int dx = i - x, dy = j - y;
                    if (dx * dx + dy * dy <= r * r)
                        coords[i].insert(j);
                }
        }
        for (auto& c : coords)
            ans += c.second.size();
        return ans;
    }
};