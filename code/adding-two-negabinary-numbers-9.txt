class Solution {
public:
    vector<int> addNegabinary(vector<int>& arr1, vector<int>& arr2) {
       if (arr1.size() > arr2.size()) swap(arr1,arr2);
        arr2.insert(arr2.begin(), 3, 0);
        for (int i = arr1.size()-1, j = arr2.size()-1; j>=0; i--, j--) {
            if (i>=0) arr2[j]+=arr1[i];
            if (arr2[j] == -1) {
                arr2[j] = 1;
                arr2[j-1]++;
            } else if (arr2[j] == 2) {
                arr2[j] = 0;
                arr2[j-1]--;
            } else if (arr2[j] == 3) {
                arr2[j] = 1;
                arr2[j-1]--;
            }
        }
        while (arr2.front() == 0 && arr2.size()>1) arr2.erase(arr2.begin());
        return arr2;
    }
};