public int RangeSum(int[] nums, int n, int left, int right)
{
	int MOD = (int)1E9 + 7;
	int[] prefixSum = new int[nums.Length + 1];
	for (int i = 0; i < nums.Length; i++)
	{
		prefixSum[i + 1] = nums[i] + prefixSum[i];
	}

	long sum = 0;
	int count = (nums.Length * nums.Length + nums.Length) / 2;
	int[] rangeSum = new int[count];

	int index = 0;
	for (int i = 0; i < nums.Length; i++)
	{
		for (int j = i; j < nums.Length; j++)
		{
			rangeSum[index++] = prefixSum[j + 1] - prefixSum[i];
		}
	}

	Array.Sort(rangeSum);

	for (int i = left - 1; i < right; i++)
	{
		sum += rangeSum[i];
		if (sum > MOD)
		{
			sum -= MOD;
		}
	}

	return (int)sum;
}