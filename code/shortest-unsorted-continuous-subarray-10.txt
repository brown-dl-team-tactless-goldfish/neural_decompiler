int comp (const void *a, const void *b){
    return (*(int *) a - *(int *) b);
}

int findUnsortedSubarray(int* nums, int numsSize){
    int *arr = malloc(sizeof(int) * numsSize); 
    memcpy(arr, nums, sizeof(int) * numsSize);
    qsort(arr, numsSize, sizeof(int), comp);
    int i,j;
    for (i = 0; i< numsSize; i++){
        if (arr[i] != nums[i]) break;
    }
    for (j = numsSize-1; j > 0; j--){
        if (arr[j] != nums[j]) break;
    }
    
    if (j-i < 0) return 0; else return j-i+1;
}

