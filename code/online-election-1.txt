typedef struct { int t[100000][2], top[5000]; } TopVotedCandidate;

TopVotedCandidate* topVotedCandidateCreate(int* persons, int personsSize, int* times, int timesSize) {
    TopVotedCandidate *tv = calloc(1, sizeof *tv);
    int m, mn = 0, c[128] = { 0 };
    int *tm = times, *top = tv->top, sz = timesSize, *p = persons;
    for (int i = 0, *t ; i < sz ; *++t = i++)
        ++*(t = tv->t[tm[i]]);
    for (int i = 0 ; i < sz ; i++)
        top[i] = p[mn <= ++c[p[i]] ? mn = c[p[i]], m = i : m];
    return tv;
}

int topVotedCandidateQ(TopVotedCandidate* obj, int t) {
    while (!obj->t[t--][0]);
    return obj->top[obj->t[t + 1][1]];
}

void topVotedCandidateFree(TopVotedCandidate* obj) {
    free(obj);
}