class Solution {
public:
    int largestSubmatrix(vector<vector<int>>& g) {
        for(int c = 0; c < g[0].size(); c++) for(int r = 1; r < g.size(); r++) g[r][c] += !g[r][c] ? 0 : g[r-1][c];

        int res = 0;
        for(auto & r : g) {
            sort(begin(r), end(r));
            for(int i = 0; i < r.size(); i++) if(r[i]) res = max(res, (int)(r[i]*(r.size()-i)));
        }
        return res;
    }
};