public class Solution {
    public int MinimumDeletions(int[] nums) {
        int min = int.MaxValue, max = int.MinValue, minIdx = -1, maxIdx = -1, len = nums.Length, left = -1, right = -1, result = -1;
        
        for (int i = 0; i < len; i++) {
            if (nums[i] < min) {
                min = nums[i];
                minIdx = i;
            }
            
            if (nums[i] > max) {
                max = nums[i];
                maxIdx = i;
            }
        }
        
        if (minIdx < maxIdx) {
            left = minIdx;
            right = maxIdx;
        }
        else {
            left = maxIdx;
            right = minIdx;
        }
        
        result = Math.Min(right + 1, Math.Min(len - left, left + 1 + len - right));
        return result;
    }
}