class Solution {
public:
    long long repairCars(vector<int>& ranks, int cars) {
        long long ans = LLONG_MAX;
        long long l = 0;
        long long r = (long long) cars * (long long) cars * 100;
        while(l <= r){
            long long m = (r - l) / 2 + l;
            long long c = cars;
            for(int i = 0; i < ranks.size() && c > 0; i++){
                long long rep = sqrt(m / (long long)ranks[i]);
                c -= rep;
            }
            if(c <= 0){
                ans = m;
                r = m - 1;
            }
            else l = m+1;
        }
        return ans;
    }
};