class Solution {
public:
    long long minimumReplacement(vector<int>& nums) {
        int n = nums.size();
        int curMin = nums[n-1];
        long long operation = 0;
        for(int i = n-2; i >= 0; i--){
            if(nums[i] > curMin){
                int times = nums[i]/curMin + ((nums[i]%curMin == 0 )? 0 : 1);
                int avg = nums[i]/times,  left = nums[i] - avg*(times - 1);
                operation += times - 1;
                curMin = min({left, avg, curMin});
            }
            else
                curMin = nums[i];
        }
        return operation;
    }
};