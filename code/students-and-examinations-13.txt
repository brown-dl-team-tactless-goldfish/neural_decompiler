with student_subjects as 
	# student mapped to every subject
    (select * from students, subjects),
    exam_count as
	# get student, exam, count of each exam
    (select student_id,subject_name, count(*) as c from examinations group by 1,2)

select s.student_id, s.student_name, s.subject_name, ifnull(e.c, 0) as attended_exams 
from student_subjects s
left join exam_count e on s.student_id = e.student_id and s.subject_name = e.subject_name 
order by s.student_id,s.subject_name