class Solution {
public:
    vector<int> maxScoreIndices(vector<int>& nums) {
        int ones = 0;
        
        for (auto n : nums) {
            ones += n;
        }
        
        vector<int> ans;
        
        for (int i = 0, zeros = 0, curMax = 0; i <= nums.size(); ++i) {
            
            if (i == 0) {
                curMax = ones;
                ans.push_back(i);
                continue;
            }

            if (nums[i - 1] == 1) {
                --ones;
            } else {
                ++zeros;
            }
                
            if (ones + zeros > curMax) {
                curMax = ones + zeros;
                ans.clear();
                ans.push_back(i);
            } else if (ones + zeros == curMax) {
                ans.push_back(i);
            }
        }
        
        return ans;
    }
};