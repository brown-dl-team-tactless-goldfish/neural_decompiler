class Solution {
public:
    double averageWaitingTime(vector<vector<int>>& customers) {
        int64_t sum = 0;
        int currentTime = customers[0][0];
        for (auto c : customers) {
            currentTime += c[1];
            currentTime = max(c[0] + c[1], currentTime);
            sum += currentTime - c[0];
        }
        return static_cast<double>(sum) / customers.size();
    }
};