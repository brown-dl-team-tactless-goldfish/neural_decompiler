using ll=long long;
    vector<int> productQueries(int n, vector<vector<int>>& A) {
        vector<ll> power;
        while(n){
            ll k=log(n)/log(2);
            power.push_back(1ll<<k);
            n-=(1ll<<k);
        }
        reverse(begin(power),end(power));
        int mod=1e9+7;
        vector<int> res;
        for(auto &x:A){
            int ans=1;
            for(int i=x[0];i<=x[1];i++){
                ans=(ans*power[i])%mod;
            }
            res.push_back(ans);
        }
        return res;
    }