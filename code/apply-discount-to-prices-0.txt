void inputmoney(char* ans, long long money, int* count){
    if (money == 0){
        ans[*count] = '0';
        *count += 1;
        ans[*count] = '.';
        *count += 1;
        ans[*count] = '0';
        *count += 1;
        ans[*count] = '0';
        *count += 1;
        return;
    }
    
    if (money < 100){
        ans[*count] = '0';
        *count += 1;
        ans[*count] = '.';
        *count += 1;
        ans[*count] = money/10 + 48;
        money %= 10;
        *count += 1;
        ans[*count] = money+48;
        *count += 1;
        return;
    }
    
    long long now = 100000000000;
    while (money < now){
        now /= 10;
    }
    while (now > 99){
        ans[*count] = money/now + 48;
        money %= now;
        now /= 10; 
        *count += 1;
    }
    ans[*count] = '.';
    *count += 1;
    ans[*count] = money/10 + 48;
    money %= 10;
    *count += 1;
    ans[*count] = money+48;
    *count += 1;
    return;
}

char * discountPrices(char * sentence, int discount){
    int len = strlen(sentence);
    discount = 100-discount;
    char* ans = malloc(sizeof(char)*(len*2)+3);
    int count = 0;
    int i = 0;
    if (sentence[i] == '$'){
        ans[count] = sentence[i];
        count++;
        i++;
        if (sentence[i] >= '1' && sentence[i] <= '9'){
            int start = i;
            long long money = sentence[i] - '0';
            i++;            
            while(sentence[i] >= '0' && sentence[i] <= '9'){
                money *= 10;
                money += sentence[i] - '0';
                i++;
            }
            if (sentence[i] == ' ' || sentence[i] == '\0'){
                inputmoney(ans, money*discount, &count);
                i--;
            } else {
                for (int j = start ; j <= i ; j++){
                    ans[count] = sentence[j];
                    count++;
                }
            }
        } else {
            ans[count] = sentence[i];
            count++;
        }
    } else {
        ans[count] = sentence[i];
        count++;
    }
    i++;
    
    for (; i < len ; i++){
        if (sentence[i] == ' '){
            ans[count] = sentence[i];
            count++;
            i++;
            if (sentence[i] == '$'){
                ans[count] = sentence[i];
                count++;
                i++;
                if (sentence[i] >= '1' && sentence[i] <= '9'){
                    int start = i;
                    long long money = sentence[i] - '0';
                    i++;
                    while(sentence[i] >= '0' && sentence[i] <= '9'){
                        money *= 10;
                        money += sentence[i] - '0';
                        i++;
                    }
                    if (sentence[i] == ' ' || sentence[i] == '\0'){
                        inputmoney(ans, money*discount, &count);
                        i--;
                    } else {
                        for (int j = start ; j <= i ; j++){
                            ans[count] = sentence[j];
                            count++;
                        }
                    }
                    continue;
                }
            }
        }
        ans[count] = sentence[i];
        count++;
    }
    ans[count] = '\0';
    return ans;
}