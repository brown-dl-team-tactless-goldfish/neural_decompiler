/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */


struct TreeNode* constructMaximumBinaryTree(int* nums, int numsSize){
struct TreeNode *newNode;
int i;
int maxval;
int maxindex=0;
    
if (numsSize==0) return NULL;
if (numsSize==1) {
    newNode = malloc(sizeof(struct TreeNode));
    newNode->val = nums[0];
    newNode->left = NULL;
    newNode->right = NULL;
    return newNode;
}

maxval=nums[0];
for (i=1; i<numsSize; i++)
    if (maxval<nums[i]) {
        maxindex=i;
        maxval=nums[i];
    }
    
newNode = malloc(sizeof(struct TreeNode));
newNode->val = nums[maxindex];
newNode->left=constructMaximumBinaryTree(nums,maxindex);
newNode->right = 
       constructMaximumBinaryTree(nums+maxindex+1,numsSize-(maxindex+1)); 
return newNode;
}