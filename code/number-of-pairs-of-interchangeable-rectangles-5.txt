class Solution {
public:
    long long interchangeableRectangles(vector<vector<int>>& r) {
	    // count the number which has the same ratio
        unordered_map<double,long long> mymap;
        for(auto it : r) {
            mymap[it[0]/double(it[1])]++;
        }
        long long res = 0;
		// combination, that's say if we have N element with the same ratio,
		// the total combination amount with this ratio will be N * (N-1) / 2
        for(auto it : mymap) {
            res += it.second * (it.second-1)/2;
        }
        return res;
    }
};