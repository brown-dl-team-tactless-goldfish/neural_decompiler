int maxWidthRamp (int* A, int ASize) {
	int  i, j, s, e, m, wid, max = 0;
	int *idx = calloc(ASize, sizeof(int));

	idx[0] = 0;
	for (i = j = 1; i < ASize; i++) {
		s = 0;
		e = j - 1;
		while (s < e) {
			m = (s + e) / 2;
			if (A[i] < A[idx[m]]) {
				s = m + 1;
			} else {
				e = m;
                if (A[i] == A[idx[m]]) {
                    break;
                }
			}
		}

		if (e == j-1 && A[i] < A[idx[e]]) {
			idx[j++] = i;
		} else {
			wid = e > 0 ? i - idx[e] : i;
			max = wid > max ? wid : max;
		}
	}
    
    free(idx);
	return max;
}