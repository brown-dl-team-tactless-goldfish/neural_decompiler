  long long subArrayRanges(vector<int>& nums) {
    long long ret = 0;
    int ct = nums.size();
    for (int i=0; i<ct; ++i) {
      int maxVal = nums[i];
      int minVal = nums[i];
      for (int j=i+1; j<ct; ++j) {
        maxVal = max(maxVal, nums[j]);
        minVal = min(minVal, nums[j]);
        ret += maxVal;
        ret -= minVal;
      }
    }
    return ret;
  }