class Solution {
public:
    int maxConsecutiveAnswers(string str, int k) {
        int t = 0, f = 0;
        
        // t -> f
        for(int r = 0, curr = 0, l = 0; r < str.size(); r ++){
            if(str[r] == 'F'){
                curr += 1;
                while(l <= r && curr > k){
                    curr -= (str[l ++] == 'F');
                }
            }
            
            t = max(t, r - l + 1);
        }
        
        // f -> t
        for(int r = 0, curr = 0, l = 0; r < str.size(); r ++){
            if(str[r] == 'T'){
                curr += 1;
                while(l <= r && curr > k){
                    curr -= (str[l ++] == 'T');
                }
            }
            
            f = max(f, r - l + 1);
        }
        
        return max(t, f);
    }
};