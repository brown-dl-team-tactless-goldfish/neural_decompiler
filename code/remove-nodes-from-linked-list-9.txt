/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     struct ListNode *next;
 * };
 */

struct ListNode* reverseList(struct ListNode* head){
    if((head == NULL) || (head->next==NULL)){return head;}
    struct ListNode *ptr = head, *ptr1 = head, *ptr2 = head->next ;
    while(ptr2 != NULL){
        ptr1 = ptr2;
        ptr2 = ptr2->next;
        ptr1->next = ptr;
        ptr = ptr1;
    }
    head->next = NULL;
    return ptr;
}

struct ListNode* removeNodes(struct ListNode* head){
    //Reverse  LL
    head = reverseList(head);

    //What can I see ? I can only see equal and larger than me values.
    struct ListNode *ptr = head->next, *last_ptr  = NULL , *follower = head;

    while(ptr)
    {
        if(ptr->val >= follower->val)
        {
            follower = follower->next = ptr;
            ptr = ptr->next;
        }
        else{
            last_ptr = ptr;
            ptr = ptr->next;
            free(last_ptr);
        }
         
    }
    follower->next = NULL;

    //Reverse new List
    head = reverseList(head);

    //return the head;
    return head;
}
