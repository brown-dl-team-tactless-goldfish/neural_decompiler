class Solution {
public:
    int magicalString(int n) {
        string s = "122";
        int c = 1, geni=2;
        while(n>s.size())
        {
            auto tmp = s.back()=='2'?'1':'2';
            for(int i=0; i<(s[geni] == '2'?2:1); i++)
            {
                s.push_back(tmp);
                if (tmp == '1')
                    c++;
                if (s.size() == n)
                    return c;
            }
            geni++;
        }
        return c;
    }
};
    