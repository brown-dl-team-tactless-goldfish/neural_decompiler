class Solution {
public:
    int MOD = 1e9 + 7;
    int memo[7][7][10001];
    int distinctSequences(int n) {
        memset(memo, -1, sizeof(memo));
        return dp(n, 0, 0);
    }
    int dp(int n, int prev2, int prev1){
        if(!n)
            return 1;
        if(memo[prev1][prev2][n] != -1)
            return memo[prev1][prev2][n];
        int res = 0;
        for(int i = 1; i <= 6; i++)
            if(i != prev2 && i != prev1 && (prev1 == 0 || gcd(i, prev1) == 1))
                res += dp(n - 1, prev1, i) % MOD, res %= MOD;
        return memo[prev1][prev2][n] = res;
    }
};