if (needle != NULL) {
    index = -1;
    for (i = 0; i < l1; i++) {
        for (j = 0; j < l2; j++) {
            if (haystack[i + j] != '\0') {
                if (needle[j] != haystack[i + j]) {
                    break;
                }   
            }
            else {
                break;
            }
        }
        if (j == l2) {
            index = i;
            break;
        }
    }
}

return index;