public class Solution 
{
    public int CountWays(int[][] ranges)
    {
        Array.Sort(ranges, (a, b) => a[0] != b[0] ? a[0].CompareTo(b[0]) : b[1].CompareTo(a[1]));

        int countNonoverlaps = 0;
        int end = -1;
        foreach (int[] range in ranges)
        {
            if (range[0] > end)
            {
                countNonoverlaps ++;
            }
            end = Math.Max(end, range[1]);
        }

        return (int)BigInteger.ModPow(2, countNonoverlaps, 1_000_000_007);
    }
}