class Solution {
public:
    int minOperations(vector<vector<int>>& grid, int x) {
        vector<int> arr;
        
        for(auto &vec : grid)
            for(auto &ele : vec) arr.push_back(ele);
        
        sort(arr.begin(),arr.end());
        
        int ele = arr[arr.size()/2], ans = 0;
        
        for(auto &i : arr){
            int diff = abs(i - ele);
            if(diff % x) return -1;
            ans += (diff/x);
        }
        
        return ans;
    }
};