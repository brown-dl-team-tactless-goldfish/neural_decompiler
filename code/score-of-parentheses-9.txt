int scoreOfParentheses(char* S) {
    int i, flag = 0;
    int Shift = 0;
    int Ans = 0;
    for(i = 0; S[i]; ++i){
        if(S[i] == '('){
            ++Shift;
            flag = 1;
        }else{
            --Shift;
            if(flag == 1){
                Ans += (1 << Shift);
                flag = 0;
            }
        }
    }
    return Ans;
}