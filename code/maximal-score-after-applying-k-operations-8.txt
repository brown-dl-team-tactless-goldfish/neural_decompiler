public class Solution {
    public long MaxKelements(int[] nums, int k) {
        var scores = new PriorityQueue<int, int>();

        foreach (var item in nums)
            scores.Enqueue(item, -item);

        long result = 0;

        for (int i = 0; i < k; ++i) {
            var item = scores.Dequeue();

            result += item;

            item = item / 3 + (item % 3 == 0 ? 0 : 1);

            scores.Enqueue(item, -item);
        }

        return result;     
    }
}