// Forward declaration of isBadVersion API.
bool isBadVersion(int version);

int firstBadVersion(int n) {
    long int front=1;
    long int end=n;
    long int mid=1;
    while(front<end){
        mid=(front+end)/2;
        if(isBadVersion(mid)){
            end=mid;
            if(!isBadVersion(end)){return end+1;}
        }
        else{
            front=mid+1;
            if(isBadVersion(front)){return front;}
        }
    }
    return front;
}