class Solution {
private:
    int getCost(int curr, int moveCost, int pushCost, int tarMin, int tarSec) {
        string tar = (tarMin > 0 ? to_string(tarMin) : "") + (tarMin > 0 && tarSec < 10 ? "0" : "") + to_string(tarSec);
        int cost = 0;
        
        for (char &c : tar) {
            int val = c - '0';
            if (curr != val) {
                cost += moveCost;
                curr = val;
            }
            cost += pushCost;
        }
        return cost;
    }
public:
    int minCostSetTime(int startAt, int moveCost, int pushCost, int targetSeconds) {
        int res = INT_MAX;
        
        int miniute = targetSeconds > 100 ? (targetSeconds - 100) / 60 + 1 : 0;
        int seconds = targetSeconds - miniute * 60;
        while (miniute < 100 && seconds >= 0) {
            if (seconds < 100) {
                res = min(res, getCost(startAt, moveCost, pushCost, miniute, seconds));
            }
            seconds -= 60;
            miniute += 1;
        }
        return res;
    }
};