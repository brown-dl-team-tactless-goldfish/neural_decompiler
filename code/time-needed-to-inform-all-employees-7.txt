class Solution:
    def numOfMinutes(self, n: int, headID: int, manager: List[int], informTime: List[int]) -> int:
        # print("manager = ", manager)
        # print("informTime = ", informTime)

        maps = {i: [] for i in range(n)}

        # print("1 maps = ", maps)

        for idx in range(n):
            boss = manager[idx]
            # print("idx = ", idx, " boss = ", boss)
            if (boss != -1):
                maps[boss].append(idx)

        # print("2 maps = ", maps)

        self.time = 0

        def dfs(curID, curTime):
            if (curTime > self.time):
                self.time = curTime

            # print("curID = ", curID, " curTime = ", curTime)

            tmpTime = informTime[curID]
            # print("tmpTime = ", tmpTime)

            for nb in maps[curID]:
                # print("nb = ", nb)
                dfs(nb, curTime+tmpTime)

        dfs(headID, 0)
        print("end self.time = ", self.time)

        return self.time