public int[] maxDepthAfterSplit(String seq) {
  int[] res = new int[seq.length()];
  for (int i = 0, depth = 0; i < seq.length(); ++i) {
    if (seq.charAt(i) == '(') res[i] = depth++ % 2;
    else res[i] = --depth % 2;
  }
  return res;
}