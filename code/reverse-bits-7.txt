 uint32_t ret = 0, power = 31;
while (n != 0) {
  ret += (n & 1) << power;
  n = n >> 1;
  power--;
}
return ret;