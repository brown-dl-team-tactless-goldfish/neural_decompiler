class Solution {
public:
    int minimizeSet(int d1, int d2, int cnt1, int cnt2) {
        auto able = [&](int n){
            int not1 = n/d1, not2 = n/d2, not12 = n/lcm<long long>(d1, d2);
            return n - not1 >= cnt1 && n-not2 >= cnt2 && n >= cnt1+cnt2+not12;
        };
        int l = cnt1+cnt2-1, r = 2e9;
        while (l +1<r){
            auto mid = l + (r-l)/2;
            able(mid) ? r = mid : l = mid;
        }
        return r;
    }
};