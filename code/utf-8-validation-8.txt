bool validUtf8(int* data, int dataSize){
    for(int i = 0; i < dataSize; i++){
        if((data[i] & 0x80) == 0);
        else if((data[i] & 0xE0) == 0xC0 && (i + 1) < dataSize &&
                (data[i + 1] & 0xC0) == 0x80)
                i++;
        else if((data[i] & 0xF0) == 0xE0 && (i + 1) < dataSize &&
                (data[i + 1] & 0xC0) == 0x80 && (i + 2) < dataSize &&
                (data[i + 2] & 0xC0) == 0x80)
                i += 2;
        else if((data[i] & 0xF8) == 0xF0 && (i + 1) < dataSize &&
                (data[i + 1] & 0xC0) == 0x80 && (i + 2) < dataSize &&
                (data[i + 2] & 0xC0) == 0x80 && (i + 3) < dataSize &&
                (data[i + 3] & 0xC0) == 0x80)
                i += 3;
        else
            return false;    
    }
    return true;
}