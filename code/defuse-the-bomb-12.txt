public class Solution {
    public int[] Decrypt(int[] code, int k) {
            int n = code.Length;
            int[] result = new int[n];
            if (k > 0)
            {
                for (int i = 0; i < n; i++)
                {
                    int c = k;
                    int j;
                    int ans = 0;
                    if (i + 1 == n)
                        j = 0;
                    else
                        j = i + 1;
                    for (; j < n && c >= 1; c--, j++)
                    {
                        ans += code[j];
                        if (j + 1 == n)
                            j = -1;
                    }
                    result[i] = ans;
                }
            }
            else if (k < 0)
            {
                for (int i = 0; i < n; i++)
                {
                    int c = Math.Abs(k);
                    int ans = 0;
                    int j;
                    if (i - 1 == -1)
                        j = n - 1;
                    else
                        j = i - 1;
                    for (; j >= 0 && c >= 1; c--, j--)
                    {
                        ans += code[j];
                        if (j - 1 == -1)
                            j = n;
                    }
                    result[i] = ans;
                }
            }
            return result;  
    }
}