/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */

void findmax(int* nums,int numsSize,int *max,int* index);

struct TreeNode* constructMaximumBinaryTree(int* nums, int numsSize) {
    
    int max,index;
    if(numsSize==0)
    {return NULL;}
    findmax(nums,numsSize,&max,&index);
    struct TreeNode* node;
    node = malloc(sizeof(struct TreeNode));
    node->val = max;
    node->right = constructMaximumBinaryTree(nums+index+1,numsSize-1-index);
    node->left = constructMaximumBinaryTree(nums,index);
    return node;
}

void findmax(int* nums,int numsSize,int *max,int* index)
{
    int i=0;
    *max=0,*index=0;
    for (i=0;i<numsSize;i++)
    {
        if(*(nums+i)>*max)
        {
            *max = *(nums+i);
            *index = i;
        }
    }
}
