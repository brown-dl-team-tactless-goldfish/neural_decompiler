int check(int weights[],int weightsSize, int days, int mid)
{
int i, currday=1, currweight=0;

    for(i=0;i<weightsSize;i++)
    {
        if(currweight+weights[i]>mid)
        {
            currday++;
            currweight=0;
        }
        currweight+=weights[i];
    }
if(currday<=days)
return 1;
else
return 0;
}

int shipWithinDays(int* weights, int weightsSize, int days){
int minweightcapacity=weights[0], maxcapacity=0;
for(int i=0;i<weightsSize;i++)
{
      if(weights[i]>minweightcapacity)
        {
            minweightcapacity=weights[i];
        }
    maxcapacity+=weights[i];
}
int low=minweightcapacity,high=maxcapacity,mid,result;
while(low<=high)
    {
    mid=(low+high)/2;
    if(check(weights, weightsSize,days,mid))
    {
        result=mid;
      high=mid-1;
    }
    else
    {
      low=mid+1;
    }
    }

return result;
}

