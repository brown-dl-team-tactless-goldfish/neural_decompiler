class Solution {
public:
    bool isItPossible(string w1, string w2) {
        int cnt1[26]{}, cnt2[26]{}, f1 = 0, f2 = 0;
        for(auto e : w1) if(cnt1[e-'a']++ == 0) f1++;
        for(auto e : w2) if(cnt2[e-'a']++ == 0) f2++;

        for(int i = 0; i < 26; i++) {
            for(int j = 0; j < 26; j++) {
                if(cnt1[i] && cnt2[j]) {
                    if(i == j) if(f1 == f2) return true; else continue;
                    int p1 = f1 + (cnt1[i] == 1 ? -1 : 0) + (cnt1[j] == 0 ? 1 : 0);
                    int p2 = f2 + (cnt2[j] == 1 ? -1 : 0) + (cnt2[i] == 0 ? 1 : 0);
                    if(p1 == p2) return true;
                }
            }
        }
        return false;
    }
};