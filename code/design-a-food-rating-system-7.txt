class FoodRatings {
public:
    unordered_map<string,pair<string,int>>fr;
    unordered_map<string,map<int,set<string>>>mp;
    FoodRatings(vector<string>& foods, vector<string>& cuisines, vector<int>& ratings) {
        for(int i = 0;i<foods.size();i++){
            fr[foods[i]] = {cuisines[i],ratings[i]};
            mp[cuisines[i]][ratings[i]].insert(foods[i]);
        }
    }
    
    void changeRating(string food, int newRating) {
        
        int oldr = fr[food].second;
        string c = fr[food].first;
        fr.erase(food);
        fr[food] = {c,newRating};
        mp[c][oldr].erase(food);
        if(mp[c][oldr].size() == 0)mp[c].erase(oldr);
        mp[c][newRating].insert(food);
        
    }
    
    string highestRated(string cuisine) {
        return *(((*(mp[cuisine].rbegin())).second).begin());
    }
};
