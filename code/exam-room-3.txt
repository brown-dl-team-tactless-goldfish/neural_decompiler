    void leave(int p) {
        seated.erase(p);
        int prev=findPrev(p);
        int end=seats[p];
        seats.erase(p);
        seated.erase(prev);
        seats[prev]=end;
        seated.insert(prev);
    }