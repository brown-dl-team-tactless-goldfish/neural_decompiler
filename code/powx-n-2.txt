
double myPow_rec(double x, int n) {
	if (n == 1) return x;
	if (n == 0) return 1;
	int split = n / 2;
	double res_1 = myPow_rec(x, split);
	if (split != n - split)
	{
		double res_2 = myPow_rec(x, n - split);
		return res_1 * res_2;
	}
	else return res_1 * res_1;
}


double myPow(double x, int n) {
	if (n == 0) return 1;
	if (n == 1) return x;
	int new_n =n;
	if (new_n == -2147483648LL) new_n = 2147483647;
	else new_n = abs(new_n)-1;
	double result = myPow_rec(x,new_n)*x;
	return (n < 0) ? 1 / result : result;
}