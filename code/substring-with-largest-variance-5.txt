public class Solution {
    public int LargestVariance(string s) {
        int res=0;
        var chars= new HashSet<char>();
        foreach(var c in s) chars.Add(c);
        foreach(var i in chars){
            foreach(var j in chars){
                if(i==j) continue;
                int low=0,high=0;
                var reset=false;
                foreach(var c in s){
                    if(c==i) high++;
                    else if(c==j) low++;
                    if(low>0) res=Math.Max(res,high-low);
                    else if(reset) res=Math.Max(res,high-1);
                    if(low>high){
                        low=high=0;
                        reset=true;
                    }
                }
            }
        }
        return res;
    }
}