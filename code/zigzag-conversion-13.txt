
char* convert(char* s, int numRows) {
    char *p;
    int i,j;
    int b,w;
    int l,t;
    int m,k;
    l=strlen(s);
    p=(char*)malloc(l+10);
    
    m=(2*numRows)-2;
    if(l<=2) return s;
    if(numRows<=1) return s;

    for(k=0,j=0;k<numRows;k++) 
    {
        w=m-(2*k);
        for(i=k, b=1 ; i<l;)
        {
            p[j++]=s[i];
            if(k==0 || k==numRows-1) {i=i+m; continue;}
            if(b) {t=w; b=0;}
            else {t=2*k; b=1;}
            i=i+t;
        

        }
    }
    p[j]='ï¿½';
    
    return p;
    
    
}