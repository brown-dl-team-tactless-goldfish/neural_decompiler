class Solution {
public:
    bool isEvenOddTree(TreeNode* r) {
        int i,n,cnt=0,value,prev;
        queue<TreeNode *> q;
        q.push(r);
        while(q.size()){
            n=q.size();
            if(cnt&1) prev=1e9;
            else prev=-1e9;
            for(i=0;i<n;i++){
                r=q.front(); q.pop();
                value=r->val;
                if(cnt&1){
                    if(value&1 || (prev<=value)) return 0;
                }
                else{
                    if((value%2==0) || (prev>=value)) return 0;
                }
                if(r->left) q.push(r->left);
                if(r->right) q.push(r->right);
                prev=value;
            }
            cnt++;
        }
        return 1;
    }
};