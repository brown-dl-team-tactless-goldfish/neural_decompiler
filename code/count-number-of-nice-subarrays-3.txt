int numberOfSubarrays (int* nums, int numsSize, int k) {
    int i, j, n, cnt = 0;
    
    for (i = n = 0; i < numsSize; i++) {
        if (nums[i] & 0x1) nums[n++] = i;
    }
    
    for (i = 0; (j = i + k) <= n; i++) {
        cnt += (i > 0 ? nums[i] - nums[i-1] : nums[i] + 1) *
               (j < n ? nums[j] - nums[j-1] : numsSize - nums[j-1]); 
    }
    
    return cnt;
}