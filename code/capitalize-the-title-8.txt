char * capitalizeTitle(char * title) {
	register unsigned char i = 0, t_len = strlen(title);

	// Case 1: One and Two character string
	if(t_len < 3) {
		while(title[i] != '\0') {
			title[i] = tolower(title[i]);
			i++;
		}
		return title;
	}

	// Case 2: Three character string (either with space in between char or not)
	if(t_len == 3) {
		if(isspace(title[1])) {
			title[0] = tolower(title[0]);
			title[2] = tolower(title[2]);
		} else {
			title[0] = toupper(title[0]);
			title[1] = tolower(title[1]);
			title[2] = tolower(title[2]);
		}
		return title;
	}

	// Case 3: Four or more characters (no leading and trailing spaces)
	title[0] = toupper(title[0]); // First character always uppercase
	title[t_len-1] = tolower(title[t_len-1]); // Last character always lowercase
	while(title[i+1] != '\0') {
		if(isalpha(title[i]) && (isspace(title[i+1]) || isspace(title[i+2])) && i+2 < t_len)
			title[i] = tolower(title[i]);
		if(isspace(title[i]) && (isalpha(title[i+1]) && isalpha(title[i+2])) && i+2 < t_len) {
			if(title[i+3] != '\0')
				title[i+1] = toupper(title[i+1]);
			else
				title[i+1] = tolower(title[i+1]);
		}
		if(isalpha(title[i]) && isalpha(title[i+1]) && isalpha(title[i+2]))
			title[i+1] = tolower(title[i+1]);
            
		i++;
	}
	return title;
}