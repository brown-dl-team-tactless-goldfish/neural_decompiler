class Solution {
public:
    int maximumCandies(vector<int>& candies, long long k) {
        int l = 0, r = *max_element(candies.begin(), candies.end());
        while (l < r)
        {
            int m = (l + r) / 2;
            if (success(candies, k, m))
                l = m + 1;
            else
                r = m;
        }
        return ((success(candies, k, l)) ? l : l - 1);
    }
    
private: 
    bool success(vector<int>& candies, long long& k, long long m)
    {
        if (m == 0)
            return true;
        long long c = 0;
        for (auto& i : candies)
            c += ((long long)i / m);
        return (c >= k);
    }
};