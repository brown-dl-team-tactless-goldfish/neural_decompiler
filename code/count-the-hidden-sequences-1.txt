#define MAX(a,b) ((a>b)?a:b)

int numberOfArrays(int* A, int n, int l, int u){
    int max,min,current;
    current = max = min = 0;
    for(int i = 0 ; i < n ; i++){
        max = MAX(A[i],max+A[i]);
        min = MAX(-A[i],min-A[i]);
        current = MAX(current,MAX(max,min));
        if((u - l + 1) < current ) return 0;
    }
    return (u - l + 1) - current;
}