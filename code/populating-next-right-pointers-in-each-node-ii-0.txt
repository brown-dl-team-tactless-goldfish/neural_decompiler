void connect(struct TreeLinkNode *root) {
    if (!root) return;
    struct TreeLinkNode *parent, *child, *leftMostParent = root, dummy = {0};
    while (leftMostParent) {
        parent = leftMostParent;
        child = &dummy;
        while (parent) {
            if (parent->left) {
                child->next = parent->left;
                child = child->next;
            }
            if (parent->right) {
                child->next = parent->right;
                child = child->next;
            }
            parent = parent->next;
        }
        leftMostParent = dummy.next;
        dummy.next = NULL;
    }
}