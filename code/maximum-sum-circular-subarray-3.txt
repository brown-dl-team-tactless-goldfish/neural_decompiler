int maxSubarraySumCircular(int* nums, int numsSize){
    if(numsSize == 1) return nums[0];
    int sumAll = 0, maxEnd = 0, minEnd = 0, maxSum = INT_MIN, minSum = INT_MAX;
    for(int i=0; i<numsSize; i++)
    {
        sumAll += nums[i];
        maxEnd = maxEnd + nums[i] > nums[i] ? maxEnd + nums[i] : nums[i];
        minEnd = minEnd + nums[i] < nums[i] ? minEnd + nums[i] : nums[i];
        maxSum = maxEnd > maxSum ? maxEnd : maxSum;
        minSum = minSum < minEnd ? minSum : minEnd;
    }
    if(maxSum > 0)
        return maxSum > sumAll - minSum ? maxSum : sumAll - minSum;
    else 
        return maxSum;
}