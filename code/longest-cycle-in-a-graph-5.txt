class Solution {
    public int longestCycle(int[] edges) {
        int n = edges.length;
        int res = -1;
        int[][] visitMap = new int[n][2];
        for(int startNode = 0; startNode < n; startNode++){
            int len = 1, curr = startNode;
            while(curr != -1 && visitMap[curr][1] == 0){
                visitMap[curr][0] = startNode;
                visitMap[curr][1] = len++;
                curr = edges[curr];
            }
            if(curr != -1 && visitMap[curr][0] == startNode){
                res = Math.max(res, len - visitMap[curr][1]);
            }
        }
        return res;
    }
}