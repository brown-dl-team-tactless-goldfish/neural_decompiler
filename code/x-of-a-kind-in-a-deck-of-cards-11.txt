class Solution {
public:
  bool hasGroupsSizeX(std::vector<int>& deck) {
    std::map<int, int> card_cnt;
    for (auto c : deck) {
      ++card_cnt[c];
    }
    int gcd = card_cnt.begin()->second;
    for (auto && pa : card_cnt) {
      gcd = std::gcd(gcd, pa.second);
    }
    if (gcd == 1) {
      return false;
    }
    for (auto && pa : card_cnt) {
      if (pa.second % gcd) {
        return false;
      }
    }
    return true;
  }
};