public int NumberOfSubstrings(string s) 
{       
	int count = 0;
	int na = 0, nb = 0, nc = 0;

	for(int i = 0; i < s.Length; i++)
	{
		int a = 0, b = 0, c = 0;

		for(int j = i; j < s.Length; j++)
		{
			if(na > i && nb > i && nc > i)
			{
				int max = Math.Max(Math.Max(na, nb), nc);
				count += s.Length - max;
				break;
			}

			if (s[j] == 'a')
			{
				na = j;
				a++;
			}

			else if (s[j] == 'b')
			{
				nb = j;
				b++;
			}

			else if (s[j] == 'c')
			{
				nc = j;
				c++;
			}

			if (a > 0 && b > 0 && c > 0)
			{
				count += (s.Length - j);
				break;
			}
		}
	}

	return count;
}