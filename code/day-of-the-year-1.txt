int table[13] = {-1, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};

int dayOfYear(char* date) {
    int years = strtol(date, &date, 10);
    int months = strtol(date + 1, &date, 10);
    int days = strtol(date + 1, &date, 10);
    if (months == 1) return days;
    int cnt = ((!(years % 4) && (years % 100)) || !(years % 400)) && (months > 2) ? 1 : 0;
    for (int i = 1; i < months; i++) {
        cnt += table[i];
    }
    cnt += days;
    return cnt;
}