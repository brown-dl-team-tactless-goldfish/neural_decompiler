void reverse(char *s, int l, int r) {
    while(l < r) {
        int temp = s[l];
        s[l] = s[r];
        s[r] = temp;
        l++, r--;
    }
}

char * toHex(int num){
    // trick is to cast the given number as unsigned integer
    unsigned int posNumRep = num;
    
    char *res = calloc(sizeof(char), 11);
    int rIdx = 0;
    
    do {
        if(posNumRep % 16 >= 10)
            res[rIdx++] = 'a' - 10 + posNumRep % 16;
        else
            res[rIdx++] = '0' + posNumRep % 16;
        posNumRep /= 16;
    } while(posNumRep);
    
    // Characters in the result are built in revers order.
    // Reverse them before returning.
    reverse(res, 0, rIdx-1);
    return res;
}