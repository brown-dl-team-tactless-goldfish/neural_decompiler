#define DEF 10000
#define MAXN 20001 // -10000 ~ 10000

int longestSubsequence(int* arr, int arrSize, int difference){
	int max = 0;
	int* map;

	map = calloc(sizeof(int), MAXN);

	for(int i = 0; i < arrSize; i++) {
        int num, idx;
        num = arr[i] + difference;
        idx = arr[i] + DEF;
        if(num < (DEF * -1) || num > DEF) {
            max = (max < map[idx] + 1) ? map[idx] + 1:max; 
            continue;
         }

        num = num + DEF;
        if(map[num] < map[idx] + 1) {
            map[num] = map[idx] + 1;
            max = (max < map[num]) ? map[num]:max; 
        }
    }


	free(map);
    return max;

}