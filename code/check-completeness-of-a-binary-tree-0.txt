/* use the maxHeight to decide the tree is complete or not */
bool DFS(struct TreeNode* root, int level, int* maxHeight, int* leftFlag){
    if(!root) {
        if(*maxHeight == 0)
            *maxHeight = level;
        else if(*maxHeight && (level > *maxHeight || level < (*maxHeight - 1)))
            return false;
        else if(*leftFlag == 1 && level == *maxHeight)
            return false;
        else if(*maxHeight && (level == (*maxHeight - 1)) && *leftFlag == 0)
            *leftFlag = 1;/* got the left as possible leaf node */
        return true;
    }
    
    if(!root->left && root->right)
        return false;

    return DFS(root->left, level+1, maxHeight, leftFlag) && DFS(root->right, level+1, maxHeight, leftFlag);
}

bool isCompleteTree(struct TreeNode* root){
    int maxHeight = 0, leftFlag = 0;
    return DFS(root, 1, &maxHeight, &leftFlag);
}