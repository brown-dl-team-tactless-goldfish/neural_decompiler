public int NumSplits(string s) {
	var map = s.GroupBy(c => c).ToDictionary(c => c.Key, c => c.Count());
	var set = new HashSet<char>();
	var num = 0;

	foreach (var c in s) {
		set.Add(c);
		if (--map[c] == 0) map.Remove(c);
		if (map.Count == set.Count) num++;
	}

	return num;
}