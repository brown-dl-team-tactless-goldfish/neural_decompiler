class Solution {
public:
    using ll = long long;
    ll maxScore(vector<int>& A, vector<int>& B, int k) {
        ll N = A.size(), res = 0;
        vector<int> I;
        for(int i = 0; i < N; i++) I.push_back(i);
        sort(begin(I), end(I), [&](int a, int b){return B[a] < B[b];});

        priority_queue<int> pq;
        for(ll sum = 0, i = N-1; i >= 0; i--) {
            if(pq.size() == k-1) res = max(res, B[I[i]]*(sum + A[I[i]]));
            sum += A[I[i]];
            pq.push(-A[I[i]]);
            if(pq.size() == k) {
                sum += pq.top();
                pq.pop();
            }
        }
        return res;
    }
};