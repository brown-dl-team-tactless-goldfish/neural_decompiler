#include<bits/stdc++.h>
using namespace std;

#define LL long long
class Solution {
public:
    LL repairCars(vector<int>& ranks, int cars) {
        LL lo=0,hi=1E15;
        LL res=0;
        while(lo<=hi){
            LL mid=(lo+hi)/2;
            LL op=0;
            for(auto x:ranks){
                op+=(LL)sqrtl(mid/x);
            }
            if(op>=cars){
                res=mid;
                hi=mid-1;
            }
            else{
                lo=mid+1;
            }
        }
        return res;
    }
};