lower = 1, upper = pow(2, N-1);
for(row = 1, p = 0; row <= N; row++) {
    mid = (lower+upper)/2;
    if(K <= mid) {
        lower = lower;
        upper = mid;
        p = (p == 0 ? 0 : 1);
    } else {
        lower = mid + 1;
        upper = upper;
        p = (p == 0 ? 1 : 0);
    }
}
return p;