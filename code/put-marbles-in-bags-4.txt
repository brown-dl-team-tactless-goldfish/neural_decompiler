class Solution {
public:
    using ll = long long;
    ll putMarbles(vector<int>& W, int k) {
        ll N = W.size()-1, res = 0;
        for(int i = 0; i < N; i++) W[i] += W[i+1];
        W.pop_back();
        nth_element(begin(W), begin(W)+k-1, end(W));
        res -= accumulate(begin(W), begin(W)+k-1, 00l);
        nth_element(begin(W), begin(W)+N-k+1, end(W));
        res += accumulate(begin(W)+N-k+1, end(W), 00l);
        return res;
    }
};