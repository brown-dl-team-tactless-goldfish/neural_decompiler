int* pathInZigZagTree (int label, int *returnSize) {
    int  i, index, level = 32 - __builtin_clz(label);
    int *ret = calloc(level, sizeof(int));
    
    index = (level & 1) ? label : (3 << (level-1)) - label - 1; 
    for (i = level; i > 0; i--) {
        ret[i-1] = (i & 1) ? index : (3 << (i-1)) - index - 1;
        index >>= 1;
    }
    
    *returnSize = level;
    return ret;
}