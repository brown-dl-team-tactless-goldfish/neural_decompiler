/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* decode(int* encoded, int encodedSize, int first, int* returnSize)
{
    int *arr, i, j;
    arr = (int*)malloc(sizeof(int)*(encodedSize+1));
    arr[0]=first;
    arr[1]=(first^encoded[0]);
    i=1;
    j=2;
    while(i<encodedSize)
    {
        arr[j]=(encoded[i]^arr[j-1]);
        j++;
        i++;
    }
    *returnSize=encodedSize+1;
    return arr;
}