public class Solution {
    public int[] GetSumAbsoluteDifferences(int[] nums) {
        
        if(nums == null || nums.Length < 2)
            throw new ArgumentException("Invalid Input.");
        
        int suffixSum = 0;
        foreach(var num in nums)
            suffixSum += num;
        
        int n = nums.Length;
        int[] res = new int[n];
        int prefixSum = 0; // prefixSum = nums[0:i-1]
        
        for(int i = 0; i < n; i++)
        {
            suffixSum -= nums[i];
            
            res[i] = nums[i] * i - prefixSum + suffixSum - (n - i - 1) * nums[i];
            
            prefixSum += nums[i];
        }
        
        
        return res;
    }
}