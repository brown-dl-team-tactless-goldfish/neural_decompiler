bool isStrictlyPalindromic(int n){
    bool retVal = true;
    int reversedN;
    int n_copy;

    for (int b = 2; b <= n - 2; b++) {
        // reset data
        reversedN = 0;
        n_copy = n;

        // reverse bits
        while (n_copy >>= 1) {
            if (n & 1) {
                reversedN <<= 1;
                reversedN |= 1 ;
            }
            else reversedN <<= 1;
        }

        // compare the original with reversed
        if (n != reversedN) {
            retVal = false;
            break;
        }
    }

    return retVal;
}