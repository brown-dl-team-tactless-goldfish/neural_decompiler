#define TTTT 1048576
bool hasAllCodes(char * s, int k){
    unsigned char sv[TTTT];  // only need a million of these (Two To The Twentieth)
    int i, val = 0, slen = strlen(s);
    int mask = 1<<k;
    if(slen < k) { return (1==0); }
    for(i=0;i<mask;i++) { sv[i] = 0; }
// here we create the first k-bit integer, val:
	for(i=0; i<k; i++) {
        val = (val << 1) + (s[i] - '0');
    }
    sv[val] = 1; // every val we create, we set to one in sv (sieve)
    mask--;
    for(i=k; i< slen; i++) {
// here we push a bit onto the right, then mask bits 0-19 to pop the bit off the left
		val = ((val << 1) + (s[i] - '0')) & mask;        
        sv[val] = 1;
    }
    mask++;
    for(i=0;i<mask; i++) {
        if(sv[i] == 0) return (1==0);
    }
    return (1==1);
}