class LUPrefix {
public:
    int map[100002] = {}, longestBro = -1;
    LUPrefix(int n) {}
    
    void upload(int video) {
        if(video == 1){
            longestBro = 0;
            map[video] = 1;
            while(longestBro + 1 < 100002 && map[longestBro + 1]) longestBro++;
        }else{
            map[video] = 1;
            while(longestBro + 1 < 100002 && map[longestBro + 1]  && longestBro < video) longestBro++;
        }
    }
    
    int longest() {
        while(longestBro + 1 < 100002 && map[longestBro + 1]) longestBro++;
        return max(longestBro, 0);
    }
};