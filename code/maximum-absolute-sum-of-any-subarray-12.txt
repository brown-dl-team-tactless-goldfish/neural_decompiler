class Solution {
public:
  int maxAbsoluteSum(vector<int>& nums) {
    int m = 0, M = 0, tm = 0, tM = 0;
    
    for(auto &x: nums)
      if(x < 0){
        tm += x;
        if(tM > M) M = tM;
        tM += x;
        if(tM < 0) tM = 0;
      }else{
        tM += x;
        if(tm < m) m = tm;
        tm += x;
        if(tm > 0) tm = 0;
      }
      
    if(tm < m) m = tm;
    if(tM > M) M = tM;
    
    return max(-m, M);
  }
};