int cmpfunc (const void * a, const void * b) {
   return ( *(int*)a - *(int*)b );
}

int findPairs(int* nums, int numsSize, int k){
    qsort(nums, numsSize, sizeof(int), cmpfunc);
    
    int i,j,total=0;
    for(i=0; i<numsSize-1; i++){
        if(i>0 && nums[i]==nums[i-1]) continue;
        j=i+1;
        int diff=-1;
        while(diff<=k && j<numsSize){
            diff = nums[j]-nums[i];
            if(diff==k) {total++;break;}
            j++;
        }
    }
    return total;
}