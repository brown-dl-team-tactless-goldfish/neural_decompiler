with a as (select e.*, d.name Department from Employee e join Department d on e.departmentId = 
          d.id),
          
maxsalary as (select Department, departmentId, max(Salary) maxsalary from a  group by 1),

c as (select e.* ,maxsalary.Department,maxsalary.maxsalary from Employee e  join maxsalary on maxsalary.departmentId = e.departmentId)



select Department, name Employee, salary Salary from c where salary = maxsalary;