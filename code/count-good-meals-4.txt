int countPairs(vector<int>& deliciousness) {
    int n = deliciousness.size();
    
    std::unordered_map<int, int> index;
    for(auto& c : deliciousness) {
        ++index[c];
    }
    
    long long res = 0;
    int mod = 1e9 + 7;
    
    for(int i = 0; i <= 21; ++i) {
        int sum = pow(2, i);
        
        for(auto& it : index){
            int a = it.first;
            int b = sum - a;
            if (b < a) continue;
            else if (b == a) {
                res += (long long)it.second * (it.second - 1) / 2;
            } else if (b > 0 && index.find(b) != index.end()) {                    
                res += (long long)index[b] * it.second;
            }
            
            res %= mod;
        }
    }
    
    return res;            
}