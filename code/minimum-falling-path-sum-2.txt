#define MIN(a, b) (((a) < (b)) ? (a) : (b))
int minFallingPathSum(int** matrix, int matrixSize, int* matrixColSize) {
    int retVal = 0;

    int left;
    int middle;
    int right;
    int row;
    int col;
    for (row = 1; row < matrixSize; ++row) {
        for (col = 0; col < matrixColSize[row]; ++col) {
            left = ((col - 1) >= 0 ? matrix[row - 1][col - 1] : INT_MAX);
            middle = matrix[row - 1][col];
            right = ((col + 1) < matrixColSize[row] ? matrix[row - 1][col + 1] : INT_MAX);

            matrix[row][col] += MIN(MIN(left, middle), right);
        }
    }

    retVal = INT_MAX;
    for (col = 0; col < matrixColSize[matrixSize - 1]; ++col) {
        retVal = MIN(retVal, matrix[matrixSize - 1][col]);
    }

    return retVal;
}