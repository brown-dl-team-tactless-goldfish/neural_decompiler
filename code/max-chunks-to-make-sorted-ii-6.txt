int maxChunksToSorted(vector<int>& arr) {
        int n=arr.size();
        int leftmax=0;
        int res=0;
        int rightmin[n+1];
        rightmin[n]=INT_MAX;
        
         //Generate rightmin
        
        for(int i=n-1;i>=0;i--)
        {
            rightmin[i] = min(rightmin[i+1], arr[i]);
        }
        
        for(int i=0;i<n;i++)
        {
            leftmax=max(leftmax,arr[i]);
            if(leftmax<=rightmin[i+1])
            {
                res++;
            }
        }
        
        return res;
    }
	```