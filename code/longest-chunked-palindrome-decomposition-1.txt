int longestDecomposition(char *text) {
    char *sp = text; int cnt = 0;
    if (!strlen(sp)) return 0;     
    while(strlen(sp)) {
        char *ep = sp + strlen(sp) - 1; int i = 1; 
        while (strncmp(sp, ep, i)) { ep--; i++; if (ep <= sp) break; }
        if (ep <= sp) return cnt + 1;
        sp += strlen(ep); *ep = 0;
        cnt += 2;
    }
    return cnt;
}