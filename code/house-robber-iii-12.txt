class Solution { //Recursion return childrenâ€™s value
public:
    int rob(TreeNode* root) {        
        int l = 0;
        int r = 0;
        return rob(root, l, r);    
  }
    
private:
    // return rob(root) and stores rob(root->left/right) in l/r.
    int rob(TreeNode* root, int& l, int& r) {
        if (root == nullptr) return 0;
        int ll = 0;
        int lr = 0;
        int rl = 0;
        int rr = 0;
        l = rob(root->left, ll, lr);
        r = rob(root->right, rl, rr);    
        return max(root->val + ll + lr + rl + rr, l + r);
  }
};
