int countBinarySubstrings(char* s) {
    char curChar;
    int preCnt, curCnt, cnt;
    for (curChar = *s++, preCnt = cnt = 0, curCnt = 1; *s; s++, curCnt++)
        if (*s != curChar) {
            cnt += min(preCnt, curCnt);
            curChar = *s;
            preCnt = curCnt;
            curCnt = 0;
        }
    cnt += min(preCnt, curCnt);
    return cnt;
}