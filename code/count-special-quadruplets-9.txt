class Solution {
public:
    int countQuadruplets(vector<int>& arr) {
        
        int n = arr.size();
        
        int count = 0;
        
        // we have to find Quadruplets such that (arr[a] + arr[b] + arr[c] == arr[d]), where a < b < c < d
        
        unordered_map<int, int> mp;
        
        for(int b = 1; b < n; b++)
        {
            for(int a = 0; a < b; a++)
            {
                mp[arr[a] + arr[b]]++;
            }
            
            int c = b + 1;
            
            for(int d = b + 2; d < n; d++)
            {
                if(mp.count(arr[d] - arr[c]))
                    count += mp[arr[d] - arr[c]];
            }
        }
        
        return count;
    }
};