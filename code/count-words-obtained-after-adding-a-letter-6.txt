class Solution {
public:
    int wordCount(vector<string>& startWords, vector<string>& targetWords) {
        map<int, int> freq;
        for(const string& s : targetWords) {
            int mark = 0;
            for(char c : s) {
                int pos = c - 'a';
                mark |= (1 << pos);
            }
            ++freq[mark];
        }
        int sol = 0;
        for(const string& s : startWords) {
            int mark = 0;
            for(char c : s) {
                int pos = c - 'a';
                mark |= (1 << pos);
            }
            for(int bit = 0; bit < 26; bit++) {
                if(!(mark & (1 << bit))) {
                    mark |= (1 << bit);
                    sol += freq[mark];
                    freq[mark] = 0;
                    mark ^= (1 << bit);
                }
            }
        }
        return sol;
    }
};