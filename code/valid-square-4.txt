bool validSquare(vector<int>& p1, vector<int>& p2, vector<int>& p3, vector<int>& p4) {
	auto dist = [](const vector<int>& p1, const vector<int>& p2){
		return (p2[0]-p1[0]) * (p2[0]-p1[0]) + (p2[1]-p1[1]) * (p2[1]-p1[1]);};
	int a = dist(p1, p2), b = dist(p1, p3), c = dist(p1, p4);
	return (a>0 && b >0 && c >0) 
		&& ((a == b && dist(p2, p4) == a && dist(p3, p4) == a && dist(p2, p3) == c) // diags : {p1, p4} and {p2, p3}
		|| (a == c && dist(p2, p3) == a && dist(p4, p3) == a && dist(p2, p4) == b)  // diags : {p1, p3} and {p2, p4} 
		|| (dist(p3, p2) == b && dist(p4, p2) == b && dist(p3, p4) == a));          // diags : {p1, p2} and {p3, p4}
}