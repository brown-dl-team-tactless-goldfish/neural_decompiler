int widthOfBinaryTree(TreeNode* root) {
    queue<pair<TreeNode* ,int>> q;
    q.push({root,0});
    long ans=0;
    while(!q.empty()){
        int siz=q.size();
        long start=q.front().second;
        long end=q.back().second;
        ans=max(ans,end-start+1);
        
        while(siz--){
            TreeNode* node=q.front().first;
            long index=q.front().second;
            q.pop();
            if(node->left != NULL){
                q.push({node->left,2*index+1});
            }
            if(node->right != NULL){
                q.push({node->right,2*index+2});
            }
        }
    }
    return ans;
}