char* reverseOnlyLetters(char* S) {
    int size = strlen(S);
    for(int i = 0, j = size-1; i < j; i++, j--)
    {
        while(i < j && !isalpha(S[i]))
        {
            i++;
        }
        while(i < j && !isalpha(S[j]))
        {
            j--;
        }
        if(!(i<j))break;
        S[i] ^= S[j];
        S[j] ^= S[i];
        S[i] ^= S[j];
    }
    return S;
}