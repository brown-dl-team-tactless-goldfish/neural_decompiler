public class MapSum {
    Dictionary<string, int> dict = new Dictionary<string, int>();
    Dictionary<string, int> sumDict = new Dictionary<string, int>();

    /** Initialize your data structure here. */
    public MapSum() {
    }
    
    public void Insert(string key, int val) {
        StringBuilder sb = new StringBuilder();
        int prevVal = dict.ContainsKey(key) ? dict[key] : 0;
        
        // Fill sum dict
        foreach(char c in key){
            sb.Append(c);
            string str = sb.ToString();
            if(!sumDict.ContainsKey(str)){
                sumDict[str] = val;
            }
            else{
                sumDict[str] += (val - prevVal);
            }
        }
        
        dict[key] = val;
    }
    
    public int Sum(string prefix) {
        return sumDict.ContainsKey(prefix) ? sumDict[prefix] : 0;
    }
}

/**
 * Your MapSum object will be instantiated and called as such:
 * MapSum obj = new MapSum();
 * obj.Insert(key,val);
 * int param_2 = obj.Sum(prefix);
 */