bool isPossible(int* nums, int numsSize) {
    int* map=(int*)calloc(5000,sizeof(int));
    int count=nums[numsSize-1];
    for(int i=0;i<numsSize;i++){
        map[nums[i]-nums[0]]++;
    }
    int start=0;
    int len=0;
    for(int i=0;i<count+1;i++){
        if(map[i]==0){
            start=i+1;
            len=0;
            continue;
        }
        if(i<count&&map[i]>map[i+1]){
            map[i]--;
            len++;
            if(len<3){
                return false;
            }
            len=0;
            if(map[start]==0){
                start=i;
            }
            i=start-1;
            continue;
        }
        map[i]--;
        len++;
        if(map[start]==0&&map[i]>0){
            start=i;
        }
    }
    return len>2||len==0?true:false;
}