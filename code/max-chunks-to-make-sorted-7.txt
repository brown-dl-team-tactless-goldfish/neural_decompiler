class Solution {
public:
    int maxChunksToSorted(vector<int>& arr) {
        
        // |       |     |
        // | a b c | d e |
        // |       |     |
        
        // It should be kept in mind that when a partition will be sorted 
        // element with value x will be at index x (Here nos. are from 0 to n-1 in the array)
        
        // So we can count the no. of end points of the partitions 
        // At the end point of a partition max_ele of that partition will be at index max_ele
        // So we take the max_ele untill it reaches index max_ele
        
        
        int n = arr.size();        
        int max_ele = -1;
        int count  = 0;
        for(int i=0;i<n;i++){
            max_ele = max(max_ele,arr[i]);
            if(max_ele == i)
                count++;
        }
        return count;
    }
};