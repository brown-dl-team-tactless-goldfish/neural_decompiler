	int numberOfArrays(vector<int>& differences, int lower, int upper) {
        int ind = 0;
        long long sum = 0;
        vector<long long> pref;
        for (int i = 0; i < differences.size(); i++) {
            pref.push_back(sum);
            sum += differences[i];
        }
        pref.push_back(sum);
        
        long long minVal = lower;
        long long maxVal = upper;
        for (int i = 0; i < pref.size(); i++) {
            long long l = lower + pref[i];
            long long u = upper + pref[i];
            minVal = max(minVal, l);
            maxVal = min(maxVal, u);
        }
        if (maxVal - minVal + 1 < 0) {
            return 0;
        }
        return maxVal - minVal + 1;
    }