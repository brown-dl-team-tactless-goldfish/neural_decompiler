int* buffer = NULL;

int cmpfunc(char* a, char* b)
{
    return buffer[*a] - buffer[*b];
}

char * customSortString(char * S, char * T){
    int i,len1,len2;
    
    if((S==NULL) || (T==NULL))
        return NULL;
    
    len1 = strlen(S);
    len2 = strlen(T);
    
    buffer = (int*)calloc(128,sizeof(int));
    for(i=0;i<len1;i++)
    {
        buffer[S[i]] = i;
    }
    
    qsort(T,len2,sizeof(char),cmpfunc);
    
	free(buffer);
    return T;
}