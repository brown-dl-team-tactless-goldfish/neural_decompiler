class Solution {
  public:
    int minStoneSum(vector<int>& piles, int k) {
      priority_queue<int, vector<int>, less<>> pq(piles.begin(), piles.end());
      while (k) {
        int c = pq.top();
        pq.pop();
        pq.push(c - c/2);
        if (!c)
          break;
        k--;
      }

      int ans = 0;
      while (!pq.empty()) {
        ans += pq.top();
        pq.pop();
      }
      return ans;
    }
};