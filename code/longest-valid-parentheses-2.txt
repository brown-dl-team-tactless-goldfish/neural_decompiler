	int size = strlen(s);
	int buf[size+1];	
    buf[0] = -1;
	int pos = 1;
	int max = 0;

	for (int i = 0; i < size; i++) {
		int cnt = 0;
		if (s[i] == '(') {
			buf[pos++] = i;
		} else {
			if (pos > 1) {				
				cnt = i - buf[pos-- -2];
                if (max < cnt) max = cnt;
			} else {
                buf[0] = i;
            }            
		}		
	}
	return max;
}