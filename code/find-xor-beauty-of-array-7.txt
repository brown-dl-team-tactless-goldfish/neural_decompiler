class Solution {
public:
    int xorBeauty(vector<int>& nums) {
        vector<int> count(32, 0);
        for(int ele: nums) {
            for(int i=0;i<32;i++) {
                if((ele & (1<<i))!=0) {
                    count[i]++;
                }
            }
        }

        int res = 0;
        int n = nums.size();
        vector<long long> tmp(32, 0);
        for(int ele: nums) {
            for(int i=0;i<32;i++) {
                if((ele&(1<<i))!=0) {
                    tmp[i] += (long long)2*count[i]*n - (long long)count[i] * count[i];
                }
            }
        }
        // for(int i=0;i<tmp.size();i++) {
        //     cout << tmp[i] <<" ";
        // }
        for(int i=0;i<32;i++) {
            if(tmp[i]%2==1) {
                res |= (1<<i);
            }
        }

        return res;
    }
};