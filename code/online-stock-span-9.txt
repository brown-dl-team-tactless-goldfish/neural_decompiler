stack<int> st;

unordered_map<int,int> mp;

StockSpanner() {
    
}

int next(int price) {
    
    int c = 0;
    
   while(!st.empty()) 
   {    
     
       if(st.top() <= price)
       {
           c = c + mp[st.top()];
           
           st.pop();
       }
       else
       {
           break;
       }
       
   }
    
    c++;
    
    mp[price] = c;
    
    st.push(price);
    
    return c;    
    
}