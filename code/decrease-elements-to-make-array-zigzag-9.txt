int movesToMakeZigzag(const vector<int>& nums) {
  const int N = nums.size();
  int decr[2] = {0, 0};
  for (int i = 0; i < N; ++i) {
    int target = min(i-1 >= 0 ? nums[i-1] : INT_MAX,
                     i+1 <  N ? nums[i+1] : INT_MAX) - 1;
    if (nums[i] > target)
      decr[i%2] += nums[i] - target;
  }
  return min(decr[0], decr[1]);
}