// OJ: https://leetcode.com/contest/weekly-contest-251/problems/largest-number-after-mutating-substring/
// Author: github.com/lzl124631x
// Time: O(N)
// Space: O(1)
class Solution {
public:
    string maximumNumber(string num, vector<int>& A) {
        bool changed = false;
        for (char &c : num) {
            int before = c - '0', after = A[before];
            if (changed) {
                if (after >= before) c = '0' + after;
                else break;
            } else {
                if (after > before) {
                    c = '0' + after;
                    changed = true;
                } 
            }
        }
        return num;
    }
};