int* helper(int* cells, int cellsSize,int* returnSize){
    int* buffer = malloc(sizeof(int)*cellsSize);
    
    for(int i=1; i<cellsSize-1; i++){
        if(cells[i-1] == cells[i+1])
            buffer[i] = 0;
        else
            buffer[i] = 1;
    }
    
    buffer[0] = 0; buffer[7] = 0;
    
    for(int i=0; i<cellsSize; i++){
        cells[i] = buffer[i];
    }
    
    return cells;
}


int* prisonAfterNDays(int* cells, int cellsSize, int N, int* returnSize){
    *returnSize = 8;
    
    N = (N - 1) % 14 + 1;
    
    for(int i=1; i<=N; i++){
        helper(cells, 8, 8);
    }
    return cells;
}