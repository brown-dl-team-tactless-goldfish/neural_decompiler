int magicalString(int n){
    if(n <= 3)
        return 1 ;
    char* str = malloc(n) ;
    str[0] = '1' ;
    str[1] = '2' ;
    str[2] = '2' ;
    int cnIdx = 2 ;
    int ones = 1 ;
    int idx = 3 ;
    char ch = '1' ;
    while(idx < n){
        int cn = str[cnIdx] -'0' ;
        for(int i = 0; i < cn; i++){
            str[idx] = ch ;
            idx++ ;
            if(ch =='1')
                ones++;
            if(idx == n)
                break ;
        }
        ch = (ch == '1') ? '2' : '1' ;
        cnIdx++ ;
    }
    free(str) ;
    return ones ;
}