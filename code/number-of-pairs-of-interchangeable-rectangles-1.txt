class Solution {
public:
    long long interchangeableRectangles(vector<vector<int>>& rect) {
        long long res = 0;
        unordered_map<double, long long> mp;
        for (int i = 0; i < rect.size(); i++) {
            int w = rect[i][0], h = rect[i][1];
            double f = (double)w / (double)h;
            mp[f]++;
        }
        for (auto it = mp.begin(); it != mp.end(); it++) {
            //cout << it->first << ":" << it->second << endl;
            unsigned long long c = it->second;
            res += ((c * (c - 1)) / 2);
        }
        
        return res;
    }
};