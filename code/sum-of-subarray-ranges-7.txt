class Solution {
public:
  long long subArrayRanges(vector<int>& nums) {
    long sum = 0, mini, maxi;
    for(int i = 0; i != nums.size(); i++){
      mini = maxi = nums[i];
      for(int j = i+1; j != nums.size(); j++){
        if(nums[j] < mini) mini = nums[j];
        else if(nums[j] > maxi) maxi = nums[j];
        sum += maxi - mini;
      }
    }
    return sum;
  }
};