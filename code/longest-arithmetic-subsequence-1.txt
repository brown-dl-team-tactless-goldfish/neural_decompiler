//2 <= nums.length <= 1000
//0 <= nums[i] <= 500

if(n<=2)
    return n;

int dp[1001][1001];
int maxlen = 2;

memset(dp, 0, sizeof(dp));

for(int i=0;i<n-1;i++){
        for(int j=i+1;j<n;j++){
            
            int diff = (nums[j]-nums[i])+500;
       
            dp[j][diff] = 2>(dp[i][diff]+1)?2:(dp[i][diff]+1);
     
            maxlen = maxlen>dp[j][diff]?maxlen:dp[j][diff];            
        }
    }
    return maxlen;  