/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     struct ListNode *next;
 * };
 */


/**
 * Note: The returned array must be malloced, assume caller calls free().
 */

int* nextLargerNodes(struct ListNode* head, int* returnSize) {
    struct ListNode *node = head;
    int idx = 0;
    while(node){
        idx++;
        node = node->next;
    }
    int sz = idx;
    *returnSize = sz;
    int *ans = (int*)malloc(sz* sizeof(int));
    int i = 0;
    node = head;
    while(node){
        int nw = node->val;
        struct ListNode *tmp = node;
        int f = 0;
        while(tmp){
            if(nw < tmp->val){
                f = 1;
                nw = tmp->val;
                break;
            }
            tmp = tmp->next;
        }
        if(!f) nw = 0;
        ans[i++] = nw;
        node = node->next;
    }
    return ans;
}