class Solution {
public:
    int largestSubmatrix(vector<vector<int>>& mat){
        int i, j, r = mat.size(), c = mat[0].size();
        int ans = 0, cnt = 0;
        for(i=0;i<c;i++)
            if(mat[0][i])
                cnt++; // for 0th row
        
        ans = cnt;
        for(i=1;i<r;i++){
            vector<int> colh; // tower height of 1s for every row
            for(j=0;j<c;j++){
                if(!mat[i][j])
                    continue;
                mat[i][j] = mat[i][j] + mat[i-1][j]; 
                colh.push_back(mat[i][j]); 
            }
            sort(colh.begin(), colh.end(), greater<int>());
            for(int k=0;k<colh.size();k++)
                ans = max(ans, colh[k]*(k+1));
        }
		
        return ans;
    }
};