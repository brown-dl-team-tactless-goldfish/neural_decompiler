class Solution {
public:
    long long minimumReplacement(vector<int>& nums) {
        long long ans = 0;
        int n = nums.size(), p = nums[n - 1];
        for (int i = n - 2; i >= 0; i--)
        {
            if (nums[i] <= p)
            {
                p = nums[i];
                continue;
            }
            int r = nums[i] % p, m = nums[i] / p;
            if (!r)
                ans += ((long long)m - 1);
            else
            {
                ans += (long long)m;
                p = (nums[i] / (m + 1));
            }
        }
        return ans;
    }
};