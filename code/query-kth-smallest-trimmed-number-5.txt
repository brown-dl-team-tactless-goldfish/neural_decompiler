class Solution {
public:
    vector<int> smallestTrimmedNumbers(vector<string>& nums, vector<vector<int>>& queries) {
        int n= nums.size();
        int sz= nums[0].size();
        vector<vector<int>> dp(sz+1, vector<int>(n+1));
        for(int i=0; i<=sz; i++){
            vector<pair<string, int>> v(n);
            for(int j=0; j<n; j++){
                string temp= nums[j].substr(sz-i, i);
                v[j].first= temp;
                v[j].second=j;                
            }
            sort(v.begin(), v.end());
            for(int k=0; k<n; k++){
                dp[i][k]= v[k].second;
            }
        }
        vector<int>res(queries.size());
        for(int i=0; i<queries.size(); i++){
            int trim= queries[i][1], k= queries[i][0];
            res[i]= dp[trim][k-1];
        }
        return res;
    }
};