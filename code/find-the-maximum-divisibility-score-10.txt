public class Solution {

        public int MaxDivScore(int[] nums, int[] divisors)
        {
            int result = int.MaxValue;

            IDictionary<int,int> map = new Dictionary<int, int>();

            int count = 0; 

            for (int i = 0; i < divisors.Length; i++)
            {
                if (!map.ContainsKey(divisors[i]))
                {
                    map.Add(divisors[i], 0);
                    for (int j = 0; j < nums.Length; j++)
                    {
                        if (nums[j] % divisors[i] == 0) map[divisors[i]]++;
                    }

                    if (count < map[divisors[i]])
                    {
                        count = map[divisors[i]];
                        result = divisors[i];
                    }
                    else if(count == map[divisors[i]])
                    {
                        result = Math.Min(result, divisors[i]);
                    }
                }
            }

            return result;
        }
       
}