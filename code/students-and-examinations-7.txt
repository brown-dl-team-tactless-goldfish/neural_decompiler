with t as(select student_id,student_name,subject_name
from Students
cross join subjects
)
select t.student_id,t.student_name,t.subject_name ,isnull(p.n,0) as attended_exams
from t 
left join (select a.student_id,a.student_name,c.subject_name,count(b.student_id) as n
from Students a 
left join Examinations b 
on a.student_id=b.student_id
right join Subjects c on 
b.subject_name =c.subject_name
group by a.student_id,a.student_name,c.subject_name) p
on t.student_id=p.student_id and t.student_name=p.student_name and t.subject_name=p.subject_name
order by t.student_id,t.subject_name```