public class FindElements {
    
    private HashSet<int> set;
    
    public FindElements(TreeNode root) {
        set = new HashSet<int>();
        
        Queue<TreeNode> queue = new Queue<TreeNode>();
        root.val = 0;
        queue.Enqueue(root);
        set.Add(root.val);
        while(queue.Count > 0)
        {
            var curr = queue.Dequeue();     
            if(curr.left != null)
            {         
                int leftVal = curr.val * 2 + 1;
                curr.left.val = leftVal;
                queue.Enqueue(curr.left);
                set.Add(leftVal);
            }
            
            if(curr.right != null)
            {
                int rightVal = curr.val * 2 + 2;
                curr.right.val = rightVal;
                queue.Enqueue(curr.right);
                set.Add(rightVal);
            }
        }
    }
    
    public bool Find(int target) {
        
        return set.Contains(target);
    }
}