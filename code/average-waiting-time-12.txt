double averageWaitingTime(vector<vector<int>>& customers) {
    int n = customers.size();
    
    long long now = customers[0][0];
    long long waiting = 0;
    
    for(auto& c : customers) {
        if (now >= c[0]) {
            now += c[1];
            waiting += (now - c[0]);
        } else {
            now = c[0] + c[1];
            waiting += c[1];
        }
    }
    
    return (double)waiting / n;
}