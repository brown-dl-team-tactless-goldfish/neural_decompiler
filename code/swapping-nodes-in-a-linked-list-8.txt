struct ListNode* swapNodes(struct ListNode* head, int k){
    int arr[100001], i = 0, j = 0;
    while (head != NULL) {
        arr[i++] = head->val;
        head = head->next;
    }
    
    struct ListNode *current, *previous, *first;

    int hold = arr[k - 1];
    arr[k - 1] = arr[i - k];
    arr[i - k] = hold;
    
    while (j < i) {
        current = malloc(sizeof(struct ListNode));
        current->val = arr[j++];
        if (j == 1) first = current;
        else previous->next = current;
        current->next = NULL;
        previous = current;
    }
    return first;
}