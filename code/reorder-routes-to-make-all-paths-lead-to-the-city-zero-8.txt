class Solution {
public:
    int minReorder(int n, vector<vector<int>>& connections) {
        vector<vector<int>>graph(n) ;
        for(auto& c : connections){
            graph[c[0]].push_back(c[1]) ;
            graph[c[1]].push_back(-c[0]) ;
        }
        return dfs(graph, 0, -1) ;
    }
    
    int dfs(const  vector<vector<int>>&graph, int cur, int prev){
        int change = 0 ;
        for(auto& next : graph[cur]){
            if(abs(next) == prev)
                continue ;
            if(next > 0)
                change++ ;
            change += dfs(graph, abs(next), cur) ;
        }
        return change ;
    }
};