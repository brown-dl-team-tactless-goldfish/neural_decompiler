class Solution {
public:
    int partitionDisjoint(vector<int>& nums) {
        vector<int> sf(nums.size(), nums.back());
        for(int i=nums.size()-2; i>=0; i--) sf[i] = min(nums[i], sf[i + 1]);
        
        int mx = INT_MIN;
        for(int i=0; i<nums.size()-1; i++) {
            mx = max(mx, nums[i]);
            if(mx <= sf[i + 1]) return i + 1;
        }
        return -1;
    }
};