public class Solution {
    public int CountStudents(int[] students, int[] sandwiches) {
        if (students == null || students.Length == 0 || sandwiches == null || sandwiches.Length == 0)
            return 0;
        
        int i = 0,
            j = 0,
            zeroCnt = 0,
            oneCnt = 0;
        
        foreach (var student in students)
            if (student == 0)
                zeroCnt++;
            else
                oneCnt++;
        
        while (zeroCnt != 0 || oneCnt != 0)
        {
            if (students[i] == sandwiches[j])
            {
                if (students[i] == 0)
                    zeroCnt--;
                else
                    oneCnt--;
                
                students[i] = Int32.MaxValue;
                sandwiches[j] = Int32.MaxValue;
                
                i++;
                j++;
            }
            else if (zeroCnt == 0 && sandwiches[j] == 0 || oneCnt == 0 && sandwiches[j] == 1)
                break;
            else
                i++;
            
            i = i == students.Length ? 0 : i;
        }
        
        return zeroCnt == 0 ? oneCnt : zeroCnt;
    }
}