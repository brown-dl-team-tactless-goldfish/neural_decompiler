bool containsPattern(vector<int>& a, int m, int k, int cnt = 0) {
    for (int i = 0; i + m < a.size() && cnt < m * (k - 1); ++i)
        cnt = a[i] == a[i + m] ? cnt + 1 : 0;
    return cnt == m * (k - 1);
}