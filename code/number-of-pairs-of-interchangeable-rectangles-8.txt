class Solution {
public:
    long long interchangeableRectangles(vector<vector<int>>& rectangles) {
        int n = rectangles.size();
        unordered_map<double, int> map;
        for(int i = 0; i < n; i++)
        {
            map[double(rectangles[i][0])/rectangles[i][1]]++;
        }
        long long ans = 0;
        for(auto &ch : map)
        {
            ans += ((long long)ch.second * ((long long)ch.second-1))/2;
        }
        return ans;
    }
};