class StockSpanner {
private:
    stack<int>st;
    vector<int>v,cnt;
public:
    StockSpanner() {
        v.clear();
    }
    
    int next(int price) {        
        int c = 0;
        while(!st.empty() && v[st.top()] <= price){
            c += cnt[st.top()];
            st.pop();
        }
        cnt.push_back(c+1);
        int n = v.size();
        st.push(n);
        v.push_back(price);
        return c+1;
    }
};