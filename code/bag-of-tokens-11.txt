class Solution {
public:
	int bagOfTokensScore(vector<int>& tokens, int P) {
		sort(tokens.begin(),tokens.end());
		int res=0,i=0,j=tokens.size()-1,cur=0;
		while(i<=j){
			if(P>=tokens[i]){
				P-=tokens[i];
				i++;
				cur++;
			}else if(cur>=1 && i!=j){
				P+=tokens[j];
				j--;
				cur--;
			}else{
				break;
			}
		}
		res=max(res,cur);
		return res;

	}
};