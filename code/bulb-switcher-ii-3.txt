class Solution {
    /*
        4=>4
        44=>44
        444=>4
        4444=>44
        ....
        (combinations of 4 => only 44 and 4)
        
        2=>2
        22=>3
        222=>2
        ....
        
        3=>3
        33=>2
        333=>3
        ...
		(combinations of 2 and 3 => only 2 and 3)
        (for any odd m and even m  2 or 3 can be used)
   
        13=>2
        12=>3
        (1,3) will be combined to (2)
        (2,3) will be combined to (3)
		(so don't consider 13 or 23 case)
        11=>cancel
     -------------------------------------------------------   
        summary
        if m is odd 
                consider 1,2,3,4
            if (m,n>=3)
                consider 42,43,442,443,441 (duplicated 1 so only add extra 4 count)
        if m is even
                consider 2,3,11
            if (m,n>=2)
                condsider 44 42 43 41
            if (m,n>=3)
                consider 442 443 (duplicated 1 so only add extra 1 count)
      -------------------------------------------------------   
    */
public:
    int flipLights(int n, int m) {
        int c = 0;
        if (m==0) return 1;
        if (n==1) return 2;
        if (n==2) return m == 1?3:4;
        if (m%2 == 0)
        {
            c += 3;
            if (m>=2)
                c+=4;
            if (m>=3)
                c+=1;
        }
        else
        {
            c += 4;
            if (m>=3)
                c+=4;
        }
        return c;
    }
};






