bool isValid(char * s)
{
    int index = 0;
    char *brackets = (char *) malloc(sizeof(char) * (strlen(s) / 2 + 1));
    while (*s)
    {
        if (*s == '(' || *s == '{' || *s == '[')
            brackets[index++] = *s;
        else if (*s == ')' && (index == 0 || brackets[--index] != '('))
            break;
        else if (*s == '}' && (index == 0 || brackets[--index] != '{'))
            break;
        else if (*s == ']' && (index == 0 || brackets[--index] != '['))
            break;
        s++;
    }
    free(brackets);
    return *s == NULL && index == 0;
}