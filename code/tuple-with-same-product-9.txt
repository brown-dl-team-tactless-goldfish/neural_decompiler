class Solution {
public:
    int tupleSameProduct(vector<int>& nums) {
        std::unordered_map<int,int> m;
        int size{(int)nums.size()};
        for(int i{0}; i < size; ++i)
            for(int j{i+1}; j < size; ++j)
                ++m[nums[i]*nums[j]];
        
        int count{0};
        for(const auto &[_, v]: m) count += 4*v*(v-1);
        return count;
    }
};