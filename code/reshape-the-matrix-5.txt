int** matrixReshape(int** mat, int matSize, int* matColSize, int r, int c, int* returnSize, int** returnColumnSizes){
    int ** res = NULL;
    int size = 0;
    for (int i = 0; i < matSize; i++)
        size += matColSize[i];
    if(size > 0 && size == r*c){
        res = malloc(sizeof(int) * r * c + sizeof(int*) * r);
        int * colsz = malloc(sizeof(int) * r);
        int * ptr = (int*)(res + r);
        if (res && colsz){
            for(int i = 0; i < r; i++){
                res[i] = ptr +i * c;
                colsz[i] = c;
            }
            int index = 0;
            while(index < r * c){
                res[index/c][index%c] = mat[index/(*matColSize)][index%*matColSize];
                index++;
                
            }
            *returnSize = r;
            *returnColumnSizes = colsz;
        }
        
    }else{
        res = mat;
        *returnSize = matSize;
        *returnColumnSizes = matColSize;
        }
    return res;
}