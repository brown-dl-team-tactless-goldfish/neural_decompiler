int dayOfYear(char * date){
  int days_in_month[] = {31,28,31,30,31,30,31,31,30,31,30,31};
  int year, day, month;
  int i=0;
  year= day= month = 0;
 
  // expect yy-mm-dd
  while(date[i]!='-'){
      year = year*10+(date[i]-'0');
      i++;
  }
  i++; // skip the '-' in date
  while(date[i]!='-'){
      month = month*10+(date[i]-'0');
      i++;
  }
  i++; // skip the '-' in date
  while(i<strlen(date)){
      day = day*10+(date[i]-'0');
      i++;
  }
 
 days_in_month[1]= ((year%4==0 && year%100!=0) || (year%400==0)) ? 29 : 28;

 for(i=month-2;i>=0;i--){
     day+=days_in_month[i];
 }
 return day;   
}