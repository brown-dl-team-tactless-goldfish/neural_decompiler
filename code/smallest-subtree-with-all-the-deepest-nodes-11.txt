public class Solution 
{
    public TreeNode SubtreeWithAllDeepest(TreeNode root) 
    {
        if(root == null) return root;
        int l = GetDepth(root.left), r = GetDepth(root.right);
        if(l == r) return root;
        if(l > r) return SubtreeWithAllDeepest(root.left);
        return SubtreeWithAllDeepest(root.right);
    }
    
    private int GetDepth(TreeNode root)
    {
        return root == null ? 0 : 1 + Math.Max(GetDepth(root.left), GetDepth(root.right));
    }
}