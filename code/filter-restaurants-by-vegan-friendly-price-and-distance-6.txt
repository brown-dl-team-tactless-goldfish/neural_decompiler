class Solution {
public:
    vector<int> filterRestaurants(vector<vector<int>>& restaurants, int veganFriendly, int maxPrice, int maxDistance) {
        vector<vector<int>> filter ;
        for(auto& r : restaurants){
            if(r[3] <= maxPrice && r[4] <= maxDistance )
            {
                if(veganFriendly == 0)
                    filter.push_back(r) ;
                else if(veganFriendly == 1 && r[2] == 1)
                    filter.push_back(r) ;
            }
        }
        sort(filter.begin(), filter.end(), [](vector<int>& a, vector<int>& b){
            if(a[1] == b[1])
                return a[0] > b[0] ;
            return a[1] > b[1] ;
        }) ;
        vector<int>ret ;
        for(auto& f : filter)
            ret.push_back(f[0]) ;
        return ret ;
    }
};