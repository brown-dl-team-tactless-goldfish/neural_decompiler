int cmp(int *a, int *b) {
    return *a - *b;
}

int maxOperations(int *nums, int numsSize, int k) {
    /* nums => ascending */
    qsort(nums, numsSize, sizeof(int), cmp);
    
    int count = 0;
    int i_l = 0;
    int i_r = numsSize - 1;

    while(i_r > i_l) {
        if(nums[i_l] + nums[i_r] < k) {
            i_l++;
        }
        else if(nums[i_l] + nums[i_r] > k) {
            i_r--;
        }
        else if(nums[i_l] + nums[i_r] == k) {
            // equal to k
            count++;
            i_r--;
            i_l++;
        }
        else {
            assert(0);
        }
    }

    return count;
}