class Solution {
public:
    int minOperations(vector<int>& target, vector<int>& arr) {
        unordered_map<int,int> tToIdx;
        
        for(int i = 0; i < target.size(); ++i){
            tToIdx[target[i]] = i;
        }
        
        vector<int> arrIdx;
        
        for(auto &a : arr) {
            if(tToIdx.find(a) != tToIdx.end()){
                arrIdx.push_back(tToIdx[a]);
            }
        }
        
        vector<int> lis;
        
        for(auto &a : arrIdx){
            auto loc = lower_bound(begin(lis),end(lis),a);
            
            if(loc == lis.end()){
                lis.push_back(a);
            } else {
                *loc = a;
            }
        }
        
        return target.size() - lis.size();
    }
};