class Solution {
public:
    int maxNumberOfFamilies(int n, vector<vector<int>>& reservedSeats) {
        map<int,vector<int> > mp;
        for(vector<int> v : reservedSeats) {
            mp[v[0]].push_back(v[1]);
        }
        
        int ans = 2 * (n - mp.size());
        
        int seats[11];
        for(auto it = mp.begin(); it != mp.end(); it++) {
            vector<int> v = it->second;
            memset(seats,0,sizeof seats);
            for(int i = 0; i < v.size(); i++) {
                seats[v[i]] = 1;
            }
            int ct = 0;
            for(int i = 2; i <= 9; i++) {
                if(seats[i] == 0) {
                    ct++;
                    if(ct == 4) {
                        ans++;
                        ct = 0;
                    }
                } else {
                    ct = 0;
                    if(i == 2 || i == 4) {
                        i++;
                    }
                }
            }
        }
        
        return ans;
    }
};