class Solution {
public:
    
    int countStrings(int n)
    {
        if(n<0)
            return 0;
        if(n==0)
            return 1;
        int a[n], b[n];
        a[0] = b[0] = 1;
        for (int i = 1; i < n; i++)
        {
            a[i] = a[i-1] + b[i-1];
            b[i] = a[i-1];
        }
        return (a[n-1] + b[n-1]);
    }
 
    int findIntegers(int n)
    {
        int cnt = 0;
          for(int i = 0;i<32;i++)
          {
              if(((n>>i)&1)>0)
              {
                  cnt = i+1;
              }
          }
        int ans = 0;
        ans += countStrings(cnt-1);
       
        for(int i = cnt-1;i>=0;i--)
        {
            if(i==cnt-1)
                continue;
            
            if( ((n>>i)&1)>0 )
            {
                ans += countStrings(i);
                if( ((n>>(i+1))&1))
                {
                    break;
                }
            }
        }
    
        int chk = 1;
        for(int i = 30;i>=0;i--)
        {
            if((n>>i)&1)
            {
                if( (n>>(i+1))&1)
                {
                    chk = 0;
                    break;
                }
                    
            }
        }
        return ans+chk;
    }
};
