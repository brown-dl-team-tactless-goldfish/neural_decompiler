#define max(a,b) (a>b?a:b)
int maxProfit(int* prices, int pricesSize){

    int cooldown = 0;
    int sell = 0;
    int buy = -prices[0];
    
    for(int i = 0; i < pricesSize; ++i)
    {
        int temp = sell;
        sell = buy + *(prices + i);
        buy = max(buy, cooldown - *(prices+i));
        cooldown = max(cooldown, temp);
    }
    return max(sell, cooldown);
}