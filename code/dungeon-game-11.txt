class Solution {
public:
  int calculateMinimumHP(vector<vector<int>>& dungeon) {
    int y = dungeon.size(), x = dungeon[0].size(), tmp;
    vector<vector<int>>dp(y + 1, vector<int>(x + 1,INT_MAX));
        
    dp[y][x-1] = dp[y-1][x] = 1;
        
    for (int r = y - 1; r >= 0; r--)
      for (int c = x - 1; c >= 0; c--)
        (tmp = min(dp[r+1][c],dp[r][c+1]) - dungeon[r][c]) <= 0 ? dp[r][c] = 1 : dp[r][c] = tmp; 
        
    return dp[0][0];     
  }
};