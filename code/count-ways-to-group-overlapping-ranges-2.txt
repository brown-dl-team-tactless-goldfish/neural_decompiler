typedef long long ll;

class Solution {
public:
    int countWays(vector<vector<int>>& ranges) {
        ll mod=1e9+7,ans=1;
        sort(ranges.begin(),ranges.end());
        vector<int>v;
        int i=1,j=0;
        while(i<ranges.size()) {
            if(ranges[i][0]>ranges[j][1]) {
                ans=(ans*2)%mod;
                j=i;
            }
            else if(ranges[i][1]>=ranges[j][1]) {
                ranges[j][1]=ranges[i][1];
            }
            i++;
        }
        if(i-j>0) {
            ans=(ans*2)%mod;
        }
        return ans;
    }
};