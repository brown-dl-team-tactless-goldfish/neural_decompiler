int maximumUniqueSubarray(vector<int>& nums) {
    int sum = 0, drop = 0, res = 0;
    unordered_map<int, int> drops;
    for (int num : nums) {
        sum += num;
        drop = max(drop, drops[num]);
        drops[num] = sum;
        res = max(res, sum - drop);
    }
    return res;
}