class Solution {
public:
    int minMoves(vector<int>& nums, int limit) {
        vector<int>diff(2*limit+2) ;
        int n = nums.size() ;
        for(int i = 0; i < n/2 ; i++){
            int a = min(nums[i], nums[n-1-i]) ;
            int b = max(nums[i], nums[n-1-i]) ;
            diff[2] += 2 ;
            diff[a+1] -= 1 ;
            diff[a+b] -= 1 ;
            diff[a+b+1] += 1 ;
            diff[limit + b + 1] += 1 ; 
        }
        int ret = INT_MAX ;
        int y = 0 ;
        for(int x = 2; x <= 2 * limit; x++){
            y += diff[x] ;
            ret = min(ret, y) ;
        }
        return ret ;
    }
};