public class Solution {
    public string DecodeMessage(string key, string message) {
        Dictionary<char, char> dict = new Dictionary<char, char>();
        
        StringBuilder res = new StringBuilder();
        
        for (int i = 0, j = 0; i < key.Length; i++)
        {
            if (key[i] >= 'a' && key[i] <= 'z' && !dict.ContainsKey(key[i]))
            {
                dict.Add(key[i], (char)((j++) + 'a'));
            }
        }
        
        foreach (var c in message)
        {
            res.Append(c >= 'a' && c <= 'z' ? dict[c] : c);
        }
        
        return res.ToString();
    }
}