class Solution {
public:
     bool isSelfCrossing(vector<int>& x) {
    size_t i=2;
    int a=0;
    if (x.size()<4) return 0;
    while(x[i]>x[i-2])
        if(++i==x.size()-1) return 0;
        if (++i>4) 
              if (x[i-1]>=(x[i-3]-x[i-5])) a=x[i-4];
        if (i>3) 
              if (x[i-1]==x[i-3]&&(x[i-4]+x[i])>=x[i-2]) return 1;
        if (x[i]>=(x[i-2]-a)) return 1;
      while (++i<x.size())
          if(x[i]>=x[i-2]) return 1;
    return 0;
     }
};