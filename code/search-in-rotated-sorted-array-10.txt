
int doSearch(int* nums, int target, int begin, int end);

int search(int* nums, int numsSize, int target){
    return doSearch(nums, target, 0, numsSize - 1);
}

int doSearch(int* nums, int target, int begin, int end) {
    if (begin > end)
        return -1;
    
    int mid = (begin + end) / 2;
    
    if (target == nums[mid])
        return mid;
    else if (target == nums[begin])
        return begin;
    else if (target == nums[end])
        return end;
    else if (target > nums[begin] && target < nums[mid])
        return doSearch(nums, target, begin + 1, mid - 1);
    else if (target > nums[mid] && target < nums[end])
        return doSearch(nums, target, mid + 1, end - 1);
    else {
        int left = doSearch(nums, target, begin + 1, mid - 1);
        if (left == -1)
            return doSearch(nums, target, mid + 1, end - 1);
        else
            return left;
    }
}
