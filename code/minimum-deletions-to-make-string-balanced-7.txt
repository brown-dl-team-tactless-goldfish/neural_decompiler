int minimumDeletions(string s) {
    int a = 0, b = 0, l = 0, r = s.size() - 1, res = 0;
    for (auto ch : s) {
        a += ch == 'a'; 
        b += ch == 'b';
    }
    while (l < r) {
        if (a && s[l] == 'a') {
            ++l;
            --a;
        }
        else if (b && s[r] == 'b') {
            --r;
            --b;
        }
        else {
            ++res;
            if (a < b) {
                --a;
                --r;
            }
            else {
                --b;
                ++l;
            }
        }
    }
    return res;
}