class Solution {
public:
    long long maxMatrixSum(vector<vector<int>>& matrix) {
        long long sum = 0, xmin = 1e6, numNag = 0;
        for(auto& v: matrix) for(auto x:v){
            if(x<0) numNag++;
            xmin = min<long long>(xmin, abs(x));
            sum += abs(x);
        }
        if(numNag % 2 == 0) return sum;
        else return sum - xmin*2;
    }
};