public class Solution {
  public int LongestIdealString(string s, int k) {
    int n = s.Length;
    int[] counts = new int[26];

    for (int i = 0; i < n; i++) {
      int c = s[i] - 'a';

      int prev = 0;
      for (int j = c - k; j <= c + k; j++) {
        if (j >= 0 && j <= 25) {
          prev = Math.Max(prev, counts[j]);
        }
      }

      counts[c] = 1 + prev;
    }

    int res = 0;
    for (int i = 0; i < 26; i++) {
      res = Math.Max(res, counts[i]);
    }
    return res;
  }
}