class Solution {
private:
    #define ii pair<int, int>
public:
    long long findScore(vector<int>& nums) {
        priority_queue<ii, vector<ii>, greater<ii>> q;
        int n = nums.size();
        for(int i = 0; i<n; ++i) q.push({nums[i], i});
        vector<int> vis(n, 0);
        long long ans = 0;
        while(q.size()){
            long long nn = q.top().first, i = q.top().second; q.pop();
            if(vis[i]) continue;
            vis[i] = 1;
            if(i > 0) vis[i - 1] = 1;
            if(i < n - 1) vis[i + 1] = 1;
            ans += nn * 1LL;
        }
        return ans;
    }
};