int cmp (const void *p1, const void *p2) {
    return ( *(int *)p2 - *(int *)p1 );
}

int maxSatisfaction(int* satisfaction, int satisfactionSize){
    qsort(satisfaction, satisfactionSize, sizeof(int), cmp);

    int *dp = (int *)malloc(sizeof(int) * satisfactionSize);
    int ans = 0;
    dp[0] = satisfaction[0];

    for (int i = 1; i < satisfactionSize; i ++) {
        dp[i] = satisfaction[i] + dp[i - 1];
    }
    for (int i = 0; i < satisfactionSize; i ++) {
        if (dp[i] < 0)
            return ans;
        ans += dp[i];
    }
    return ans;
}