public class Solution {
    public int[] CycleLengthQueries(int n, int[][] queries) {
        int[] result = new int[queries.Length];

        for (int i = 0; i < queries.Length; ++i) {
            int length = 1;

            for (int a = queries[i][0], b = queries[i][1]; a != b; ++length, a /= 2) 
                if (a < b)
                    (a, b) = (b, a);
            
            result[i] = length;
        }     

        return result;
    }
}