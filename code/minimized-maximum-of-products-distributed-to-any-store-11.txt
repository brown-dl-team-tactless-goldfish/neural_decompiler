class Solution {
public:
    int minimizedMaximum(int n, vector<int>& qs) {
        int x = (1 << 20) - 1, l = 1 << 19;
        for (; l && x != 1; l >>= 1) {
            int cnt = 0, tx = l ^ x;
            for (auto q : qs)
                cnt += q / tx + !!(q % tx);
            if (cnt <= n) x = tx;
        }
        return x;
    }
};