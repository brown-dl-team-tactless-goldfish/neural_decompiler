class Solution {
public:
    bool modify(multiset<int>& mp, int a) {
        auto iter = mp.find(a);
        mp.erase(iter);
        if (a - 1 > 0) mp.insert(a - 1);
        if (mp.empty() || (*mp.begin()) == (*mp.rbegin())) return true;
        if (a - 1 > 0) mp.erase(mp.find(a - 1));
        mp.insert(a);
        return false;
    }
    bool equalFrequency(string w) {
        vector<int> cnt(26, 0);
        for (auto c : w) cnt[c - 'a']++; 
        multiset<int> mp;
        for (int i = 0; i < cnt.size(); i++) if (cnt[i] > 0) mp.insert(cnt[i]);
        if (modify(mp, *mp.begin())) return true;
        if (modify(mp, *mp.rbegin())) return true;
        return false;
    }
};