class LUPrefix {
public:
    LUPrefix(int n) : v(vector(n+1, false)) {
        v[0] = true;
    }
    
    void upload(int i) {
        v[i] = true;
        if(len == i-1) {
            for(;v[i] && i<v.size(); i++);
            len = i-1;
        }        
    }
    
    int longest() {
        return len;
    }
    
    vector<bool> v;
    int len = 0;    
};