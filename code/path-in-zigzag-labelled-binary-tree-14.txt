public class Solution 
{
    public IList<int> PathInZigZagTree(int label) 
    {
        var result = new List<int>();
        while (label >= 1)
        {
            result.Insert(0, label);
            label = label / 2;
        }
        
        for (int i = result.Count-2; i >= 0; i = i-2)
            result[i] = (int) Math.Pow(2, i) + (int) Math.Pow(2, i + 1) - 1 - result[i];
        
        return result;
    }
}