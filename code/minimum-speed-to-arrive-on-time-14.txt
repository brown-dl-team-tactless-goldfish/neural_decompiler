class Solution {
public:
    int minSpeedOnTime(vector<int>& D, double hour) {
        int l = 1, r = 1e7, N = D.size();
        if(N -1 >= hour) return -1;
        while(l < r) {
            int m = l+(r-l)/2;
            double res = 0;
            for(int i = 0; i < N-1; i++) res += (D[i]+m-1)/m;
            res += D[N-1]/(double)m;
            if(res <= hour) r = m;
            else l = m+1;
        }
        return l;
    }
};