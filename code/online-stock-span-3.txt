class StockSpanner:

    def __init__(self):
        self.prices = []
        self.cache = []
    
    def next(self, price: int) -> int:
        last_index = len(self.prices) - 1
      
        self.prices.append(price)
        count = 1
        while last_index>-1:
            if self.prices[last_index] > price:
                break
            count += self.cache[last_index]
            last_index -= self.cache[last_index]
            
        self.cache.append(count)
        return count