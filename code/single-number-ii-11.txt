int ones = 0, twos = 0, threes;
int i;

for (i = 0; i < numsSize; i++)
{
    twos |= (ones & nums[i]);
			
    ones ^= nums[i];
    
    threes = (twos & ones);
    
    if(threes != 0)
    {
        ones ^= threes;
        twos ^= threes;
    }
}

return ones;