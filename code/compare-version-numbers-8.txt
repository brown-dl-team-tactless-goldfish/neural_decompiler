#include <string.h>

int compareVersion(char* version1, char* version2)
{

    char* rest1 =NULL;
    char* rest2 =NULL;

    char *token1 = strtok_r(version1, ".", &rest1);
    char *token2 = strtok_r(version2, ".", &rest2);

    int result = 0;
    while(token1 != NULL | token2 != NULL)
    {
        result = compareToken(token1, token2);

        if (result != 0)
        {
            return result;
        }
        else
        {
            token1 = strtok_r(rest1, ".", &rest1);
            token2 = strtok_r(rest2, ".", &rest2);
        }
    }

    return result;

}

int compareToken(char* token1, char* token2)
{

    token1 = token1 == NULL ? "0": token1;
    token2 = token2 == NULL ? "0": token2;

    int result = -2;

    if(atoi(token1) > atoi(token2))
    {
        result = 1;
    }
    else if(atoi(token1) < atoi(token2))
    {
        result = -1;
    }
    else
    {
        result = 0;
    }

    return result;
}