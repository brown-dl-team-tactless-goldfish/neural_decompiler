SELECT c.Name Department, a.Name Employee, a.Salary
FROM Employee a
LEFT JOIN Employee b ON a.DepartmentId = b.DepartmentId AND a.Salary < b.Salary
INNER JOIN Department c ON a.DepartmentId = c.Id
GROUP BY a.Id
HAVING COUNT(DISTINCT b.Salary) + 1 <= 3