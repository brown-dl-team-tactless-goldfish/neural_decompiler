int sortcol(vector<int>& v1,vector<int>& v2){
    if(v1[0]==v2[0]) return v1[1]<v2[1];
    else return v1[0]<v2[0];
}
class Solution {
public:
    vector<int> countRectangles(vector<vector<int>>& nums, vector<vector<int>>& arr) {
        sort(nums.begin(),nums.end(),sortcol);
        vector<int> X;
        vector<vector<int>> h(101);
        for(int i = 0; i<nums.size();++i){ 
            X.push_back(nums[i][0]);
            h[nums[i][1]].push_back(i);
        }
        vector<int> re(arr.size(),0);
        for(int k = 0; k<arr.size();++k){
            int i = arr[k][0], j = arr[k][1];
            int x = lower_bound(X.begin(),X.end(),i)-X.begin();
            if(x>=X.size()) continue;
            for(int l = j; l<=100;++l){
                int p = lower_bound(h[l].begin(),h[l].end(),x)-h[l].begin();
                if(p<h[l].size()){
                    re[k]+=h[l].size()-p;
                }
            }
        }
        return re;
    }
};