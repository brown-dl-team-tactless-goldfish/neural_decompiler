public class Solution 
{
    public int MovesToMakeZigzag(int[] nums) 
    {
        var even = 0;
        for(int i = 0; i < nums.Length; i = i + 2)
        {
            int l = i == 0 ? int.MaxValue : nums[i-1];
            int r = i == nums.Length - 1 ? int.MaxValue : nums[i + 1];
            even += Math.Max(0, nums[i] - (Math.Min(l, r) - 1));
        }
        
        var odd = 0;
        for(int i = 1; i < nums.Length; i = i + 2)
        {
            int l = i == 0 ? int.MaxValue : nums[i-1];
            int r = i == nums.Length - 1 ? int.MaxValue : nums[i + 1];
            odd += Math.Max(0, nums[i] - (Math.Min(l, r) - 1));
        }
        
        return Math.Min(odd, even);
    }
}