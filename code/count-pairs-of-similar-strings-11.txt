class Solution {
public:
    int similarPairs(vector<string>& words) {
        unordered_map<string, int> m;
        for (auto& s : words){
            set<char> t;
            for (auto& c : s) t.insert(c);
            string key = "";
            for (auto& c : t) key += c;
            ++m[key];
        }
        int ans = 0;
        for (auto& [f,s] : m){
            double n = s - 1;
            ans += n * (n + 1) / 2;
        }        
        return ans;
    }
};