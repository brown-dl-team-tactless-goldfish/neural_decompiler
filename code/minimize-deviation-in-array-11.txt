class Solution {
public:
    int minimumDeviation(vector<int>& nums) {
        set<int> iset;
        for(auto e: nums) iset.insert(e&1 ? 2*e : e);
        int ans = *iset.rbegin() - *iset.begin();
        while(*iset.rbegin()%2==0){
            iset.insert(*iset.rbegin()/2);            
            iset.erase(*iset.rbegin());
            ans = min(ans, *iset.rbegin() - *iset.begin());
        }        
        return ans;
    }
};