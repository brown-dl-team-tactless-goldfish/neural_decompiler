class NumberContainers {
    using Set = set<int>;
    using Index = unordered_map<int, Set>; // value -> list of indices
    using Value = unordered_map<int, int>; // index -> value
    Index index;
    Value value;
public:
    void change(int i, int x) {
        auto y = value[i]; // previous value y we need to remove index i from
        index[y].erase(i);
        index[x].insert(i);
        value[i] = x;
    }
    int find(int x) {
        if (index[x].empty())
            return -1;
        return *index[x].begin();
    }
};