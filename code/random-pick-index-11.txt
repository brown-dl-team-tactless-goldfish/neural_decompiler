public class Solution {

    Random random = new Random();
    int[] nums;

    public Solution(int[] nums) {
        this.nums = nums;
    }

    public int Pick(int target) {
        var candidate = -1;
        var n = nums.Length;

        var count = 0;
        for (int i = 0; i < n; i++) {
            if (nums[i] != target) continue;

            count++;

            var randomIndex = random.Next(count);
            if (randomIndex == 0) {
                candidate = i;
            }
        }
        return candidate;
    }
}