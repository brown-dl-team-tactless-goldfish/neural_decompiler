class Solution {
public:
    int minimumPartition(string s, int k) {
        int n = s.length();
        s = '#'+s;
        vector<int> dp(n+1, INT_MAX/2);   // dp[i] is the minimum number of partitions unitl s[i-1]
        dp[0] = 0;
        for(int i=1; i<=n; i++) {
            for(int j=i; j>=1; j--) {
                long n = stol(s.substr(j, i-j+1));
                if(n>k) break;
                dp[i] = min(dp[i], dp[j-1] + 1);
            }
        }
        return dp[n]>=INT_MAX/2?-1:dp[n];
    }
};