class Solution {
public:
int ans=0;
    void f(vector<int>&nums,int k,int idx,map<int,int>&m){
       if(idx==nums.size()){
           ans++;
       }
    else {if (!m[nums[idx]+k] && !m[nums[idx]-k]){
           m[nums[idx]]++;
           f(nums,k,idx+1,m);
           m[nums[idx]]--;
       }
       f(nums,k,idx+1,m);
    }}
    int beautifulSubsets(vector<int>& nums, int k) {
        map<int,int>m;
         f(nums,k,0,m);
         return ans-1;
    }
};