class Solution {
    public int maximalNetworkRank(int n, int[][] roads) {
        
        int[] indegree = new int[n + 1];
        HashSet<newint,int)> set = new HashSet<(int,int)>();       
        
        foreach(int[] road in roads)
        {
            indegree[road[0]]++;
            indegree[road[1]]++;
            set.Add((road[0], road[1]));
        }
        
        int maxRank = 0;
        for(int i = 0; i <= n; i++)
        {
            for(int j = i + 1; j <= n; j++)
            {
                int currRank = indegree[i] + indegree[j];
                
                if(set.Contains((i,j)) || set.Contains((j,i)))
                    currRank--;
                
                maxRank = Math.Max(maxRank, currRank);
            }
        }
        
        return maxRank;
    }
}