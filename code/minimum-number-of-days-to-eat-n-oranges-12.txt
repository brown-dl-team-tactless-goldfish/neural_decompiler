class Solution {
public:
    int minDays(int n) {
        unordered_map<int, int> dp;
        function<int(int)> f = [&](int n) {
            if (n <= 1) return n;
            if (dp.count(n)) return dp[n];
            return dp[n] = 1 + min(n % 2 + f(n / 2), n % 3 + f(n / 3));
        };
        return f(n);
    }
};