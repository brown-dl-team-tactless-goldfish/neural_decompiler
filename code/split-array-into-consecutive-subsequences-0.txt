
bool isPossible(int* nums, int numsSize){
    int* count = calloc(2005, sizeof(int));
    bool ans = true;
    for(int i = 0; i < numsSize; i++){
        int val = nums[i] + 1001;
        count[val]++;
    }
    int* end = calloc(2005, sizeof(int));
    for(int i = 0; i < numsSize; i++){
        int val = nums[i] + 1001;
        if(count[val] == 0)
            continue;
        if(end[val-1] > 0){
            count[val]--;
            end[val-1]--;
            end[val]++;
        }
        else if(count[val + 1] == 0 || count[val + 2] == 0){
            ans = false;
            break;
        }
        else{
            count[val]--;
            count[val+1]--;
            count[val+2]--;
            end[val+2]++;
        }
    }
    free(count);
    free(end);
    return ans;
    
}