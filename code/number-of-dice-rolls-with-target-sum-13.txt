class Solution {
public:
    int numRollsToTarget(int n, int k, int target) {
        int cnt[32][1002] = {0};
        int mod = 1e9 + 7;

        fill(cnt[1], cnt[1] + k + 1, 1);
        for (int i = 1; i < n; ++i) {
            for (int j = i; j <= min(k * i, target); ++j) {
                for (int m = 1; m <= k && j + m <= target; ++m) {
                    cnt[i + 1][j + m] = (cnt[i + 1][j + m] + cnt[i][j]) % mod;
                }
            }
        }
        return cnt[n][target];
    }
};