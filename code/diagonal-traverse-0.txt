/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* findDiagonalOrder(int** mat, int matSize, int* matColSize, int* returnSize){
    int m = matSize ; 
    int n = *matColSize ;
    int* ans = malloc( m * n * sizeof(int) ) ;
    int dirs[2][2] = {{-1,1},{1,-1}} ;
    int r = 0, c = 0 , k = 0 ;
    for(int i = 0; i < m*n; i++){
        ans[i] = mat[r][c] ;
        r += dirs[k][0];
        c += dirs[k][1]; 
        if (r >= m)
            {r = m - 1; c += 2; k = 1 - k;}
        if (c >= n) 
            {c = n - 1; r += 2; k = 1 - k;}
        if (r < 0) 
            {r = 0; k = 1 - k;}
        if (c < 0) 
            {c = 0; k = 1 - k;} 
        }
    *returnSize= m * n;
    return ans ;    

}