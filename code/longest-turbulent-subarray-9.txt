class Solution {
public:
    int maxTurbulenceSize(vector<int>& arr) {
        int n = arr.size();
        if(n == 1) return 1;
        int ans = 1;
        for(int i = 0 ; i < n - 1 ; ++i){
            if(arr[i] < arr[i+1] or arr[i] > arr[i+1]) ans = 2;
        }
        int i = 0, j = 2;
        while(1){
            if(i >= n or j >= n) break;
            int a = arr[j-2], b = arr[j-1], c = arr[j];
            if( (a > b and b < c) or (a < b and b > c)){
                ans = max(ans, j - i + 1);
                ++j;
                continue;
            }
            else{
                i=j-1;
                j=i+2;
            }
        }
        return ans;
    }
};
