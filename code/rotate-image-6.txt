void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

void rotate(int** matrix, int matrixSize, int* matrixColSize){
    int temp, i, j, low, high, m = matrixSize, n = *matrixColSize;

    for (i = 0; i < m; i++) 
        for (j = i + 1; j < n; j++) 
            swap (&matrix[i][j], &matrix[j][i]);

    for (i = 0; i < m; i++) {
        low = 0, high = n - 1;
        while (low < high) {
            swap (&matrix[i][low], &matrix[i][high]);
            low++, high--;
        }
    }

    return matrix;
}