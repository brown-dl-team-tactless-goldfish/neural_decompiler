class Solution {
public:

	vector<int> applyOperations(vector<int>& nums) {
		vector<int>v;
		vector<int>v1;
		int cnt=0, cn=0;
		for(int i=0; i<nums.size()-1; i++){
			if(nums[i]==nums[i+1]){
				nums[i+1]=0;
				nums[i]=2*nums[i];
				v.push_back(nums[i]);
				cnt++;
			}
			else{
				v.push_back(nums[i]);
			}
		}
		v.push_back(nums[nums.size()-1]);
		while(cnt--){v.push_back(0);}
		//  for(int i=0; i<v.size(); i++){
		//     cout<<v[i]<<" ";
		// }cout<<endl;
		for(int i=0; i<v.size(); i++){
			if(v[i]==0){cn++;}
			else{
				v1.push_back(v[i]);
			}
		}
		while(cn--){v1.push_back(0);}
		if(nums.size()<v1.size()){
			while(nums.size()!=v1.size()){v1.pop_back();}
		}
		return v1;
	}
};