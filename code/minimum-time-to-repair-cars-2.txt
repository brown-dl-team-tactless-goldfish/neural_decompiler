#include <cmath>
using ULL = unsigned long long ;
class Solution {
public:
    ULL coutCars(vector<int>& ranks, ULL mid){
        ULL ret = 0 ;
        for(int i = 0; i < ranks.size(); i++){
            ret += sqrt(mid/(ULL)ranks[i]) ;
        }
        return ret ;
    }
    long long repairCars(vector<int>& ranks, int cars) {
        ULL left = 0 , right = 1e14 +7 ;
        while(left < right){
            ULL mid = left + (right - left) /2 ;
            if(coutCars(ranks, mid) < cars)
                left = mid + 1 ;
            else
                right = mid ;
        }
        return left ;
    }
};