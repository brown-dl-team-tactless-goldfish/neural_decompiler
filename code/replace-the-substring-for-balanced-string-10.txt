 int balancedString(string s) {
        int n = s.size();
        vector<int> cnt(128, 0);
        for(auto c : s) {
            cnt[c]++;
        }
        int mod = 0;
        for(auto& i : cnt) {
            i -= n/4;
            if(i < 0) i = 0;
            mod += i;
        }
        if(mod == 0) return 0;
        int res = n;
        for(int lo = 0, hi = 0; hi < n; ) {
            if(cnt[s[hi++]]-- > 0) mod--;
            if(mod > 0) continue;
            while(mod == 0) {
                if(cnt[s[lo++]]++ == 0)
                    mod++;
            }
            res = min(res, hi - lo + 1);
        }
        return res;
    }