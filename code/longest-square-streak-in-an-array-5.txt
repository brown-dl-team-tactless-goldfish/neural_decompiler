public class Solution {
    public int LongestSquareStreak(int[] nums) {
        var dp = new int[100001];
        for (var i = 0; i < nums.Length; i++)
            dp[nums[i]] = 1;

        var max = 0;
        Array.Sort(nums);        
        for (var i = 0; i < nums.Length; i++)
        {
            var result = Math.Sqrt(nums[i]);
            if (result % 1 == 0 && nums.Contains((int)result))
            {
                dp[nums[i]] = dp[(int)result] + 1;
                max = Math.Max(max, dp[nums[i]]);
            }
        }
        
        return max > 1 ? max : -1;
    }
}