public class Solution {
    public int MinNonZeroProduct(int p) {
        long a = (1L << p) - 2;
        long b = a / 2;
        long c = (1L << p) - 1;

        int mod = 1_000_000_007;

        return (int)(BigInteger.ModPow(a, b, mod) * c % mod);
    }
}