


int findCheapestPrice(int n, int** flights, int flightsSize, int* flightsColSize, int src, int dst, int k){
    int cityFlights[100][100] = {};
    int numCityFlights[100] = {};

    for (int i=0; i<flightsSize; i++) {
        int from = flights[i][0];
        // int to = flights[i][1];
        // int price = flights[i][2];
        cityFlights[from][numCityFlights[from]] = i;
        numCityFlights[from]++;
    }

    int checkedPrice[100] = {};
    for (int i=0; i<100; i++)
        checkedPrice[i] = 100000;
    int queue[10000] = {};
    int queueStops[10000] = {};
    int queuePrice[10000] = {};
    queue[0] = src;
    checkedPrice[src] = 0;
    int queueIndex = 0;
    int queueEnd = 1;
    int minPrice = 100000;
    while (queueIndex < queueEnd) {
        int tmpSrc = queue[queueIndex];
        int stops = queueStops[queueIndex];
        int price = queuePrice[queueIndex];
        queueIndex++;
        if (price < checkedPrice[tmpSrc])
            checkedPrice[tmpSrc] = price;

        if (tmpSrc == dst) {
            if (price < minPrice)
                minPrice = price;
        } else {
            if (stops <= k && price < minPrice) {
                for (int z=0; z<numCityFlights[tmpSrc]; z++) {
                    int j = cityFlights[tmpSrc][z];
                    int tmpDst = flights[j][1];
                    int tmpPrice = flights[j][2];
                    int newPrice = price + tmpPrice;

                    if (newPrice < checkedPrice[tmpDst]) {
                        queue[queueEnd] = tmpDst;
                        queueStops[queueEnd] = stops+1;
                        queuePrice[queueEnd] = newPrice;
                        queueEnd++;
                    }
                }
            }
        }
    }
    if (minPrice == 100000)
        return -1;
    return minPrice;
}