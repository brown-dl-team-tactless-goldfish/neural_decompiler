class Solution {
public:
    int sumOfBeauties(vector<int>& nums) {
      int ans=0,size=nums.size(),left_max=nums[0];
       vector<int>right(size,0);
        int mini=nums[size-1];
        for(int i=size-1;i>=0;i--)
        {
            right[i]=mini;
            mini=min(mini,nums[i]);
        }
        for(int i=1;i<size-1;i++)
        {
            if(nums[i]>left_max && nums[i]<right[i])
                ans+=2;
             else if(nums[i]>nums[i-1] && nums[i]<nums[i+1])
                 ans+=1;
            left_max=max(left_max,nums[i]);
        }
        return ans;
    }
};