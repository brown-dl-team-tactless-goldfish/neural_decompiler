class Solution {
public:
    long long beautifulSubarrays(vector<int>& nums) {
        long long res = 0, sum = 0;
        unordered_map<int, int> counter = {{0, 1}};
        for(auto x:nums) res += counter[sum ^= x]++;
        return res;
    }
};