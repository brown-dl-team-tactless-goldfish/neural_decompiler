void insert_helper(unordered_map<int, int>& m, int v1, int v2) {
  auto k = min(v1, v2), v = max(v1, v2);
  if (k != v) { // it's a right couple, no need to track.
    if (m.count(k) > 0) insert_helper(m, m[k], v);
    else m[k] = v;
  }
}
int minSwapsCouples(vector<int>& row) {
  unordered_map<int, int> m;
  for (auto i = 0; i < row.size(); i += 2) insert_helper(m, row[i] / 2, row[i + 1] / 2);
  return m.size();
}