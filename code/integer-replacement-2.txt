int myRP(int n, int k) {
    if (n == 1) return k;
    if (n % 2) {
        int result1 = myRP(((n - 1)>>1) + 1, k + 2);
        int result2 = myRP(n - 1, k + 1);
        return result1 < result2 ? result1 : result2;
    } else {
        return myRP(n>>1, k + 1);
    }
}

int integerReplacement(int n) {
    return myRP(n, 0);
}