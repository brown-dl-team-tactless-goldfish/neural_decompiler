class Solution {
public:
    int minimumTimeRequired(vector<int>& jobs, int k) {
        int n = jobs.size();
        int dp[k + 1][1 << n];
        dp[1][0] = 0;
        for(int i = 1, lz = 32; i < (1 << n); i++){
            lz -= (i & -i) == i;
            int set = (0x80000000 >> lz) ^ i;
            dp[1][i] = dp[1][set] + jobs[31 - lz];
        }
        
        for(int i = 2; i <= k; i++){
            for(int j = -1, minval = INT_MAX; ++j < (1 << n); minval = INT_MAX){
                for(int z = j; z; z = (z - 1) & j)
                    minval = min(minval, max(dp[i - 1][z], dp[1][j ^ z]));
                dp[i][j] = minval;
            }
        }
        return dp[k][(1 << n) - 1];
    }
};