class Solution {
public:
    int numberOfSubarrays(vector<int>& nums, int k) {
        int ws = 0,we = 0,c = 0,res = 0,n = nums.size(),odd = 0;
        while(we<n){
            if(nums[we]%2) odd++;
            while(odd>k){
                if(nums[ws]%2){
                    odd--;
                    c = 0;
                }
                ws++;
            }
            while(odd == k && nums[ws]%2 == 0){
                ws++;
                c++;
            }
            if(odd == k){
                res+=c+1;
            }
            we++;
        }
        return res;
    }
};