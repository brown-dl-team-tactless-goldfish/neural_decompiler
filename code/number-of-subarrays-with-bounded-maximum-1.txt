int numSubarrayBoundedMax(int* A, int ASize, int L, int R) {
    // method 1
    int ret=0;
    for(int i=0;i<ASize;i++){
        if(A[i]>=L&&A[i]<=R){
            int left=i-1;
            int right=i+1;
            while(left>=0&&A[left]<=A[i]) left--;
            while(right<ASize&&A[right]<A[i]) right++;
            
            ret+=(i-left)*(right-i);
        }
    }
    return ret;
    // method 2
    // int result=0, left=-1, right=-1;
    // for (int i=0; i<ASize; i++) {
    //     if (A[i]>R) left=i;
    //     if (A[i]>=L) right=i;
    //     result+=right-left;
    // }
    // return result;    
}