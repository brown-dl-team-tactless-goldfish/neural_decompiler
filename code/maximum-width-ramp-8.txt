public class Solution 
{
    public int MaxWidthRamp(int[] A) 
    {
        var sortedInd = Enumerable.Range(0, A.Length).ToArray();
        Array.Sort(sortedInd, (x, y) => A[x] == A[y] ? x.CompareTo(y) : A[x].CompareTo(A[y]));
        Console.WriteLine(string.Join(",", sortedInd));
        int minIndexSoFar = int.MaxValue, maxWidth = 0;
        foreach (var index in sortedInd)
        {
            maxWidth = Math.Max(maxWidth, index - minIndexSoFar);
            minIndexSoFar = Math.Min(minIndexSoFar, index);
        }

        return maxWidth;
    }
}