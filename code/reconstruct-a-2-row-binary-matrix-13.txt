class Solution {
public:
    vector<vector<int>> reconstructMatrix(int upper, int lower, vector<int>& colsum) {
        int sumr=lower+upper,sumc=0;
        for(auto c:colsum){
            sumc+=c;
        }
        if(sumr!=sumc){
            return {};
        }
        vector<vector<int> > ans(2,vector<int>(colsum.size()));
        for(int j=0;j<colsum.size();j++){
            if(colsum[j]==0){
                ans[0][j]=0;
                ans[1][j]=0;
            }
            else if(colsum[j]==1){
                if(upper==0 && lower==0) return {};
                if(upper>lower){
                    ans[0][j]=1;
                    ans[1][j]=0;
                    upper--;
                }
                else{
                    ans[0][j]=0;
                    ans[1][j]=1;
                    lower--;
                }
            }
            else if(colsum[j]==2){
                if((upper+lower)<2 or upper<1 or lower<1) return {};
                if(upper!=0 && lower!=0){
                    ans[0][j]=1;
                    ans[1][j]=1;
                    upper--;
                    lower--;
                }
            }
        }
        return ans;
    }
};