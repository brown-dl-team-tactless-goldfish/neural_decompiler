SELECT d.name as Department, e.name as Employee, e.salary
FROM Employee e INNER JOIN (SELECT Id, DepartmentId, DENSE_RANK() OVER (PARTITION BY DepartmentId ORDER BY Salary DESC) as ranks
FROM Employee ) c ON e.Id = c.Id
INNER JOIN Department d ON e.DepartmentId = d.Id
WHERE ranks in (1,2,3)