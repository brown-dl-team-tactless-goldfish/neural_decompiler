class BookMyShow {
    vector<int> s;
    int m, n;
    int start=0;
public:
    BookMyShow(int n, int m) {
        this->n = n;
        this->m = m;
        s = vector<int>(n, m);
    }
    
    vector<int> gather(int k, int maxRow) {
        for(int i=start; i<=maxRow; ++i)
            if(s[i]>=k)
            {   
                int c = s[i];
                s[i]-=k;
                return {i, m - c};
            }
        return {};
    }

    
    bool scatter(int k, int maxRow) {
        int temp=k;
        for(int i=start; i<=maxRow && temp > 0; ++i) 
            temp -= s[i];
        if(temp>0) return false;
        for(int i=start; i<= maxRow; ++i) {
            if (k<=0) break;
            int v = min(k, s[i]);
            k-=v;
            s[i]-=v;
            if(s[i]==0) start = i+1;
        }
        return true;
    }
};