int lastRemaining(int n) {
	int l = 1, r = n;
	for(int c = 0, o = n; l != r; o >>= 1, c++) {
		if((c&1) || (o&1)) r -= (1 << c);
		if(!(c&1) || (o&1)) l += (1 << c);
	}
	return l;
}