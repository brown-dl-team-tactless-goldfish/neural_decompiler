bool isIdealPermutation(int* nums, int numsSize){
    int n = numsSize ;
    int* sufmin = malloc(n * sizeof(int)) ;
    sufmin[n-1] = nums[n-1] ;
    for(int i = n-2; i >= 0; i--)
        sufmin[i] = fmin(sufmin[i+1], nums[i]) ;
    for(int i = 0; i < n-2 ;i++){
        if(nums[i] >= sufmin[i+2])
            return false ;
    }

    return true ;
}