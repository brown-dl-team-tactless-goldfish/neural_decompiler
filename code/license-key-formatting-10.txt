char* licenseKeyFormatting(char* S, int K) {
    int len=strlen(S);
    char *ret=(char*)malloc(sizeof(char)*len*2);
    int count=len*2-1;
    int temp_k=0;
    ret[count--]='\0';
    for(int i=len-1;i>=0;i--){
        if(temp_k==K){
            ret[count--]='-';
            temp_k=0;
        }
        if('a'<=S[i]&&S[i]<='z'){
            ret[count--]=S[i]-'a'+'A';
        }else if(S[i]=='-'){
            continue ;
        }else{
            ret[count--]=S[i];
        }
        temp_k++;
    }
    if(ret[count+1]=='-'){
        return &ret[count+2];
    }
    return &ret[count+1];
}