int Min(int a,int b){
    return a<b?a:b;
}
int Max(int a,int b){
    return a>b?a:b;
}
int maxProfit(int* prices, int pricesSize) {
    int pre=0,res=0,min=prices[0];
    for(int i=1;i<pricesSize;++i){
        min=Min(min,prices[i]-pre);
        pre=res;
        res=Max(res,prices[i]-min);
    }
    return res;
}