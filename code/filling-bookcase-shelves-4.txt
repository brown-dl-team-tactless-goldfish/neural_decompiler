class Solution {
public:
	int minHeightShelves(vector<vector<int>>& books, int shelf_width) {
		int n=books.size();
		vector<int> dp(n+1,INT_MAX/2);
		if(books.empty()) return 0;
		dp[0]=0;
		dp[1]=books[0][1];
		for(int i=2;i<=n;i++){
			int curw=books[i-1][0];
			int curh=books[i-1][1];
			dp[i]=dp[i-1]+curh;
			for(int j=i-1;j>=1;j--){
				if(curw+books[j-1][0]>shelf_width){
					break;
				}
				curh=max(curh,books[j-1][1]);
				curw+=books[j-1][0];
				dp[i]=min(dp[i],dp[j-1]+curh);
			}
		}
		return dp[n];


	}
};