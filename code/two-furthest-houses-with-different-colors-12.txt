public class Solution {
    public int MaxDistance(int[] colors) {
        int i = 0, j = colors.Length-1, n = colors.Length-1;
        while(colors[i] == colors[n])
            i++;
        while(colors[j] == colors[0])
            j--;
        return Math.Max(j, n-i);
    }
}