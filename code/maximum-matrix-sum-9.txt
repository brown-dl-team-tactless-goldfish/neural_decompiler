public class Solution {
    public long MaxMatrixSum(int[][] matrix) 
    {
        long result = 0;
        long min = int.MaxValue;
        int negativeCount = 0;

        for(int i = 0; i < matrix.Length; ++i)
        {
            for(int j = 0; j < matrix[0].Length; ++j)
            {
                result += Math.Abs(matrix[i][j]);
                min = Math.Min(min, Math.Abs(matrix[i][j]));
                if(matrix[i][j] < 0)
                {
                    negativeCount++;
                }
            }
        }

        return negativeCount % 2 == 0 ? result : result - 2*min;
    }
}