// my "cnt" map records how many times a filename has occured-1
class Solution {
public:
    vector<string> getFolderNames(vector<string>& names) {
        unordered_map<string,int>cnt;
        vector<string>ans;
        for(auto & i:names){
            // if the file name is unique till now
            if(cnt.count(i)==0){
                cnt[i]=0;
                ans.push_back(i);
            }
            else{
                // file name is not unique.
                while(true){
                    // so my next filename can be "prevname(k)"
                    int k=1+cnt[i];
                    string str=i+"("+to_string(k)+")";
                    //check if this filename is  occupied or not if not then use it
                    if(cnt.count(str)==0){
                        // important :- we are searching for filename=i,and reached till this point so update the occurence of cnt[i] to avoid O(n*n) time complexity
                        cnt[i]=k;
                        cnt[str]=0;
                        ans.push_back(str);
                        break;
                    }
                    // if filename is already in use then try next value of k
                    cnt[i]++;
                }
            }
        }
        return ans;
    }
};