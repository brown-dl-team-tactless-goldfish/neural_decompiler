class Solution {
public:
    int minOperations(vector<int>& target, vector<int>& arr) {
        vector<int> dp(target.size()+1,1e9+1);
        dp[0] = -2;
        unordered_map<int,int> m;
        for(int i=0;i<target.size();i++){
            m[target[i]] = i+1;
        }
        for(int i: arr){
            if(m.find(i) != m.end()){ 
                auto ind = lower_bound(dp.begin(), dp.end(), m[i]) - dp.begin();
                dp[ind] = m[i];
            }
        }
        for(int i=1;i<dp.size();i++) if(dp[i] == 1e9+1) return target.size() - i + 1;
        return 0; 
    }
};