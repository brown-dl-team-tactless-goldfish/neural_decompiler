class Solution {
public:
    string decodeCiphertext(string s, int r) {
        int c = s.size() / r;
        string ans = "";
        for (int i = 0; i < c; ++i)
            ans += findDiagonal(0, i, s, c, r);
        while (!ans.empty() && ans.back() == ' ') ans.pop_back();
        return ans;
    }
    string findDiagonal(int i, int y, string& s, int& c, int& r){
        int nextInd = i * c + y;
        if (nextInd >= s.size()) return "";
        return s[nextInd] + findDiagonal(i + 1, y + 1, s, c, r);
    }
};