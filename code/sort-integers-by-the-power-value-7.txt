class Solution {
public:
    int getKth(int lo, int hi, int k) {
        vector<int> r;
        for(int i = lo; i <= hi; i++) {
            int x = i, c = 0;
            while(x != 1) { x = (x&1) ? (3 * x + 1) : (x / 2); c++; }
            r.push_back(c << 16 | i);
        }
        sort(r.begin(), r.end());
        return r[k-1] & 0xFFFF;
    }
};