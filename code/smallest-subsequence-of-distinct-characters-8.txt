class Solution {
public:
    string smallestSubsequence(string s) {
        unordered_map<char, int> m;
        for (auto& c : s) ++m[c];
        string ans = "";
        for (auto& c : s){
            --m[c];
            if (ans.find(c) == -1){
                while (!ans.empty() && ans.back() > c && m[ans.back()] > 0)
                ans.pop_back();
                ans += c;
            }
        }
        return ans;
    }
};