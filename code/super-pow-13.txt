public class Solution 
{
    long mod = 1337;
    public int SuperPow(int a, int[] b) 
    {
        long result = 1;
        for (int i = 0; i < b.Length; i++)
        {
            result = Pow(result, 10) * Pow(a, b[i]);
            result %= mod;
        }
        return (int)result;
    }

    private long Pow(long num, long n)
    {
        if (n == 0) return 1;
        if (n == 1) return num % mod;

        var tempResult = Pow(num % mod, n / 2) % mod;

        if (n % 2 == 1) return (num % mod) * tempResult * tempResult;
        else            return tempResult * tempResult;
    }
}