class Solution {
public:
    string maximumNumber(string num, vector<int>& change) {
        string res = "";
        bool found = false;
        bool end = false;
        for (int i = 0;i<num.size();i++){
            if (!found && num[i]-'0'<change[num[i]-'0']){
                res += to_string(change[num[i]-'0']);
                found = true;
                continue;
            }
            if (found && !end){
                if (!end && num[i]-'0'<=change[num[i]-'0']){
                    res += to_string(change[num[i]-'0']);
                }else{
                    res += to_string(num[i]-'0');
                    end = true;
                }
                continue;
            }
            res += to_string(num[i]-'0');
        }
        return res;
    }
};