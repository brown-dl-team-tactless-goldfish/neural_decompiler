class Solution {
public:
    int maxChunksToSorted(vector<int>& a) {
        int chunks = 0;
        set<int> cur;
        for (int i = 0; i < a.size(); i++) {
            cur.insert(a[i]);
            if (*cur.rbegin() == i) chunks++;
        }
        return chunks;
    }
};