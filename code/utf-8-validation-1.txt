bool SEQ_10XXX(int n){
    
    if((n & 0b10000000) == 0b10000000)
        return true;
    else
        return false;
}

int CheckByte(int n){

    int ret = 1;
    if((n & 0b10000000) == 0)
        return 1;
    else if((n & 0b11100000) == 0b11000000)
        return 2;
    else if((n & 0b11110000) == 0b11100000)
        return 3;
    else if((n & 0b11111000) == 0b11110000)
        return 4;
    else 
        return -1;
}

bool validUtf8(int* data, int dataSize){
    int seq10xx = 0;
    for(int i = 0; i < dataSize; i++){
        if(seq10xx){
            if( SEQ_10XXX(data[i]) )
                seq10xx--;
            else
                return false;                
        }
        else{
            int dataByte =  CheckByte(data[i]);
            if(dataByte > 4 || dataByte == -1)
                return false;
            else
                seq10xx = dataByte - 1;    
        }
    }
    
    if(seq10xx == 0)
        return true;
    else
        return false;
}