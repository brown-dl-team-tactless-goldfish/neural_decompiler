class Solution {
public:
    int maxDistance(vector<int>& colors) {
        const size_t N = colors.size();
        int c1 = colors[0];
        int c2 = colors[N-1];
        if (c1 != c2) return N-1; // start and end different colours
        int a = -999; int b = -999;
        for (int i = N-1; i >= 0; i--) {  // search from right
            int c3 = colors[i];
            if (c3 != c1) { a = i; break; }
        }
        for (int i = 1; i < N; i++) { // search from left
            int c3 = colors[i];
            if (c3 != c2) { b = (N-1) - i; break; }
        }
        return max(a,b); // return value
    }
};