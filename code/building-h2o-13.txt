using System.Threading;

public class H2O {

    private SemaphoreSlim HydrogenSema {get; set;}
    
    private SemaphoreSlim OxygenSema {get; set;}
    
    public H2O() {
        HydrogenSema = new SemaphoreSlim(2,2);
        OxygenSema = new SemaphoreSlim(0,1);
    }

    public void Hydrogen(Action releaseHydrogen) {
		
        HydrogenSema.Wait();
        
        // releaseHydrogen() outputs "H". Do not change or remove this line.
        releaseHydrogen();
        
        if (HydrogenSema.CurrentCount == 0)
        {
            OxygenSema.Release();
        }
    }

    public void Oxygen(Action releaseOxygen) {
        
        OxygenSema.Wait();
        
        // releaseOxygen() outputs "O". Do not change or remove this line.
		releaseOxygen();
        
        HydrogenSema.Release(2);
    }
}