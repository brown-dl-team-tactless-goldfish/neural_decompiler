class Solution {
public:
    int sumSubseqWidths(vector<int>& nums) {
        int n = nums.size(), MOD = 1'000'000'007; 
        vector<long> p(n, 1); 
        for (int i = 1; i < n; ++i) p[i] = 2*p[i-1]%MOD; 
        
        long ans = 0; 
        sort(nums.begin(), nums.end()); 
        for (int i = 0; i < n; ++i) 
            ans = (ans + nums[i] * (p[i] - p[n-1-i])) % MOD; 
        return ans; 
    }
};