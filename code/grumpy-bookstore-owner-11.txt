public int MaxSatisfied(int[] customers, int[] grumpy, int X)
{
	var n = customers.Length;
	var xs = new int[n - X + 1];
	var total = 0;
	for (var i = 0; i < X; i++)
		if (grumpy[i] == 1)
			xs[0] += customers[i];
		else
			total += customers[i];

	var max = xs[0];
	for (var i = X; i < n; i++)
	{
		var diff = 0;
		if (grumpy[i] == 1)
			diff += customers[i];
		else
			total += customers[i];

		if (grumpy[i - X] == 1)
			diff -= customers[i - X];

		var neu = xs[i - X] + diff;
		xs[i - X + 1] = neu;
		if (neu > max)
			max = neu;
	}

	return total + max;
}