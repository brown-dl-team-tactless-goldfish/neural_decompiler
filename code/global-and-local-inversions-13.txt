bool isIdealPermutation(vector<int>& A) {
    for (auto i = 2, m = A[0]; i < A.size(); m = max(m, A[i - 1]), ++i) 
      if (A[i] < m) return false;
    return true;
}