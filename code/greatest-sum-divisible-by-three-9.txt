class Solution {
public:
    int maxSumDivThree(vector<int>& nums) {
        vector<int> dp(3, 0);
        int i = nums.size() - 1;
        while(i >= 0){
            int a = nums[i] + dp[0];
            int b = nums[i] + dp[1];
            int c = nums[i] + dp[2];
            dp[a%3] = max(a, dp[a%3]);
            dp[b%3] = max(b, dp[b%3]);
            dp[c%3] = max(c, dp[c%3]);
            i--;
        }
        return dp[0];
    }
};