class Solution {
public:
    string rankTeams(vector<string>& votes) {
        const int n = votes[0].size();
        vector<Data> v(26);
        for(int i=0;i<v.size();i++){
            v[i].c = 'A'+i;
            v[i].rank.resize(n);
        } 
        
        for(auto& vote:votes)
            for(int i=0;i<vote.size();i++)
                v[vote[i]-'A'].rank[i]++;        
        
        sort(v.begin(),v.end());
        string res;
        for(auto& data:v) res += data.c;
        return res.substr(0,n);
    }
    
    struct Data{
        vector<int> rank;
        char c;
        bool operator<(const Data& b) const{
            for(int i=0;i<rank.size();i++)
                if(rank[i] != b.rank[i]) return rank[i] > b.rank[i];
            return c < b.c;
        }
    };
};