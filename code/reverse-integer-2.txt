int reverse(int x){
    int result = 0;
    bool neg = (x<0);
    while (x != 0)
    {
       if (neg &&  result < -0x7FFFFFFF/10) return 0;
       if (!neg &&  result > 0x7FFFFFFF/10) return 0;
        
        result *= 10;
       if (neg &&   x%10 < -0x7FFFFFFF-result) return 0;
       if (!neg &&  x%10 > 0x7FFFFFFF-result) return 0;
        result += x%10;
        x /= 10;
    printf("%d %d\n",x,result);
    }
    return result;
}