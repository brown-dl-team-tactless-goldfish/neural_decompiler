int* decode(int* encoded, int encodedSize, int* returnSize){
    int i, x = 0, n = encodedSize, j = 1;

    for (i = 1; i <= n + 1; i++) 
        x ^= i;
    
    for (i = 1; i < n ; i += 2)
        x ^= encoded[i];

    int *result = calloc(n + 1, sizeof(int));
    result[0] = x;

    for (i = 0; i < n; i++)
        result[i + 1] = result[i] ^ encoded[i];

    *returnSize = n + 1;
    return result;
}