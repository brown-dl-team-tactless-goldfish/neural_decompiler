
int countCharacters(char **words, int wordsSize, char *chars){
    int result = 0;
    int char_len = strlen(chars);

    int *hash = (int *)malloc(26*sizeof(int));
    memset(hash, 0, 26*sizeof(int));
    // hash the chars
    for(int i=0;i<char_len;i++) {
        hash[chars[i]-'a']++;
    }
    
    int *hash_word = (int *)malloc(26*sizeof(int));
    for(int i=0;i<wordsSize;i++) {
        int word_len = strlen(words[i]);
        memset(hash_word, 0, 26*sizeof(int));
        for(int k=0;k<word_len;k++) {
            hash_word[words[i][k]-'a']++;
        }
        // printf("===\n");
        int count = 0;
        for(int k=0;k<26;k++) {
            if(hash[k] >= hash_word[k] && hash[k] != 0) {
                // printf("match %c: %d, %d\n", k+'a', hash_word[k], hash[k]);
                count += hash_word[k];
            }
        }
        if(count == word_len) {
            result += count;
        }
    }

    free(hash);
    free(hash_word);

    return result;
}
