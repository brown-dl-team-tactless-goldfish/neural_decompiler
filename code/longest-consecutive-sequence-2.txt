int MAX(int a, int b){
    return a > b ? a : b;
}

int cmp(const void *a, const void *b){
    return *(int*)a - *(int*)b;
}

int longestConsecutive(int* nums, int numsSize){
    qsort(nums, numsSize, sizeof(int), cmp);
    int count = 1;
    int max = 1;
    if (numsSize == 0 || numsSize == 1){
        return numsSize;
    }
    for(int i = 1; i < numsSize; i++){
        if(nums[i] != nums[i-1]){
            if(nums[i] - nums[i-1] == 1 ){
                count++;
                max = MAX(max, count);
            }else{
                max = MAX(max, count);
                count = 1;
            }
        }

    }
    
    return max;
}