    int bitwiseComplement(int n) {
        if (n == 0) return 1;
        unsigned int foo = n; // bitmask
        foo |= foo >>1; 
        foo |= foo >>2;
        foo |= foo >>4;
        foo |= foo >>8;
        foo |= foo >>16; // fill-right all lower bits with ones
        return (~n & foo); // or n ^ foo (XOR)
    }