#define MIN(A,B) ((A < B) ? A : B)

int minFallingPathSum(int** matrix, int matrixSize, int* matrixColSize){
    int n = matrixSize;
    int DP[n][n];
    for (int col = 0; col < n; col++)
        DP[0][col] = matrix[0][col];
        
    for (int row = 1; row < n; row++){
        for (int col = 0; col < n; col++){
            if (col == 0)
                DP[row][0] = matrix[row][0] + MIN(DP[row-1][0], DP[row-1][1]);
            else if (col == n-1)
                DP[row][n-1] = matrix[row][n-1] + MIN(DP[row-1][n-1], DP[row-1][n-2]);
            else
                DP[row][col] = matrix[row][col] + MIN(DP[row-1][col], MIN(DP[row-1][col-1], DP[row-1][col+1]));
        }
    }
    int minSum = DP[n-1][0];
    for (int col = 1; col < n; col++)
        minSum = MIN(minSum, DP[n-1][col]);

    return minSum;
}