class SubrectangleQueries {
public:
    vector<vector<int>> grid;
    vector<pair<int, int>> row, col;
    vector<int> val;
    SubrectangleQueries(vector<vector<int>>& rectangle) {
        grid = rectangle;
    }
    
    void updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) {
        row.push_back({row1, row2});
        col.push_back({col1, col2});
        val.push_back(newValue);
    }
    
    int getValue(int r, int c) {
        if(val.empty()){
            return grid[r][c];
        }
        for(int i = val.size() - 1; i >= 0; i--){
            auto rowPair = row[i];
            auto colPair = col[i];
            if(rowPair.first <= r && rowPair.second >= r && colPair.first <= c && colPair.second >= c){
                return val[i];
            }
        }
        return grid[r][c];
        
    }
};