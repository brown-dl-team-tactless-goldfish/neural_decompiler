class Solution {
public:
    vector<double> sampleStats(vector<int>& count) {
        int64_t num{0}, sum{0}, min_{-1}, max_{-1}, maxF{0};
        for(int i{0}; i < 256; ++i) {
            num += count[i];
            sum += count[i] * i;
            if(count[i]) {
                if(min_ == -1) min_ = i;
                max_ = i;
            }
            if(count[maxF]  < count[i]) maxF = i;
        }
        
        int a{0}, b{0};
        if(num % 2)  a = b = num>>1, b = a;
        else a = num>>1, b = a+1;
        
        int med{0};
        for(int i{0}, cur{0}; i < 256; ++i) {
            if(cur < a && cur+count[i] >= a) med += i;
            if(cur < b && cur+count[i] >= b) med += i;
            cur += count[i];
            if(cur > b) break;
        }
        return {(double)min_, (double)max_, (double)sum/num, (double)med/2, (double)maxF};
        
    }
};