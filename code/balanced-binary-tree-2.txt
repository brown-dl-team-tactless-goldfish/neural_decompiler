// A DFS helper function
int getDepth(struct TreeNode* cur, bool *res) {
  if (!cur) return 0; // End of this tree

  int left;
  int right;
  
  // Get the depth of each branch
  left = getDepth(cur -> left, res);
  right = getDepth(cur -> right, res);
  
  // Check if unbalanced
  int dif = abs(left - right);
  if (dif > 1) *res = false;
  
  // Iterate with the largest value
  if (left > right) return left + 1;
  else return right + 1;
}

bool isBalanced(struct TreeNode* root){
  bool res = true;
  getDepth(root, &res);
  return res;
}