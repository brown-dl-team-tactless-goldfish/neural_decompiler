public class Solution {
    public int MinGroups(int[][] intervals) {
        var points = intervals
            .SelectMany(range => new (int at, int sign)[] {
                (range[0], +1),
                (range[1], -1)
            })
            .OrderBy(item => item.at)
            .ThenByDescending(item => item.sign);
        
        int current = 0;
        int result = 0;
        
        foreach (var point in points) 
            result = Math.Max(result, current += point.sign);
                
        return result;
    }
}