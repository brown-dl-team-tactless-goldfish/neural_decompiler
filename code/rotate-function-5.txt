class Solution:
    def maxRotateFunction(self, nums: List[int]) -> int:
        numSum, n, fRes = sum(nums), len(nums), 0
        for i, num in enumerate(nums):
            fRes += i * num
        res = fRes
        for i in range(1, n):
            fRes += numSum - n * nums[n - i]
            res = max(res, fRes)
        return res