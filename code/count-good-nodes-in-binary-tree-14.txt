class Solution {
public:
    int ans = 0;
    void helper(TreeNode *nd, int ma)
    {
        if (!nd) return;
        int val = nd -> val;
        if (val >= ma) ans ++;
        int t = max(ma, val);
        helper(nd -> left, t), helper(nd -> right, t);
    }
    
    int goodNodes(TreeNode* root) {
        helper(root, -1e5);
        return ans;
    }
};