public class Solution {
    private IList<IList<int>> res = new List<IList<int>>();
    
    public IList<IList<int>> AllPathsSourceTarget(int[][] graph) {
        if (graph == null || graph.Length == 0)
            return res;
        
        DFS(graph, 0, new List<int>());
        
        return res;
    }
    
    private void DFS(int[][] graph, int curNode, List<int> path)
    {
        path.Add(curNode);
        
        if (curNode == graph.Length - 1)
            res.Add(new List<int>(path));
        else
            foreach (var node in graph[curNode])
                DFS(graph, node, path);
        
        path.RemoveAt(path.Count - 1);
    }
}