class Solution 
{
public:
    vector<pair<int,int>>d={{-1,0},{1,0},{0,-1},{0,1},{1,1},{-1,-1},{1,-1},{-1,1}};
    bool checkMove(vector<vector<char>>&mat, int r, int c, char color) 
    {
        int n=mat.size();
        int m=mat[0].size();
            int nx=r;
            int ny=c;
            mat[r][c]=color;
        char diff=color=='W'?'B':'W';
            for(auto it:d)
            {
                nx=r+it.first;
                ny=c+it.second;
                int d=1;
                while(nx>=0&&ny>=0&&nx<n&&ny<m&&mat[nx][ny]!='.')
                {
                    if(mat[nx][ny]==color&&d>=2)
                    {
                        return true;
                    }
                    if(mat[nx][ny]==color)
                    {
                        // middle colour (W/B)
                        break;
                    }
                    nx=nx+it.first;
                    ny=ny+it.second;
                    d++;
                }
            }
        
        return false;
    }
};