class Solution {
public:
    int minimumDeviation(vector<int>& A) {
        priority_queue<int> pq;
        int min_v = INT_MAX, res = INT_MAX;
        for(auto e : A) {
            if(e%2) e *= 2;
            pq.push(e);
            min_v = min(min_v, e);
        }

        while(pq.size() == A.size()) {
            int v = pq.top(); pq.pop();
            res = min(res, v-min_v);
            if(v%2 == 0) {
                v /= 2;
                pq.push(v);
                min_v = min(min_v, v);
            }
        }
        return res;
    }
};