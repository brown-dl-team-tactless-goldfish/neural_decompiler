class Solution {
public:
    string solveEquation(string e) {
        int x = 0, n = 0;
        int symbol = 1;
        char type = '+';
        e += '+';
        for(int i = 0, j = 0; j < e.length(); j++) {
            char c = e[j];
            if(c != '+' && c != '-' && c != '=' && c != 'x')
                continue;

            int val = type == '-' ? -symbol : symbol;
            if(j - i > 0) val *= stoi(e.substr(i, j));
            if(c == 'x') x += val;
            else if(j > 0 && e[j - 1] != 'x' && e[j - 1] != '=') n += val;
            i = j + 1;

            if(c == '=') {
                type = '+';
                symbol = -1;
            } else if(c == '+' || c == '-') {
                type = c;
            }
        }
        if(x == 0) return n == 0 ? "Infinite solutions": "No solution";
        return "x=" + to_string(-n / x);
    }
};