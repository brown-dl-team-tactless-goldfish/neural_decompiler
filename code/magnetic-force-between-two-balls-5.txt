class Solution {
public:
    int maxDistance(vector<int>& position, int m) {
        std::sort(position.begin(), position.end());
        int lo{0}, hi{position.back() - position.front()}, mid;
        while(lo < hi) {
            mid = (lo+hi+1)>>1;
            if(valid(position, m, mid)) lo = mid;
            else hi = mid-1;
        }
        
        return lo;
    }
    
    bool valid(std::vector<int>& position, int m, int min_) {
        int i{0}, size{(int)position.size()}, last{(int)-1e9};
        while(m) {
            if(i == size) return false;
            if(position[i] - last >= min_) last = position[i], --m;
            ++i;
        }
        return true;
    }
    
};