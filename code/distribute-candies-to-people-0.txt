/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* distributeCandies(int candies, int num_people, int* returnSize){
int* ret_array = malloc(num_people * sizeof(int));
int count, person;
for (count=0; count<num_people; count++) ret_array[count]=0;
count=1;
person=0;
*returnSize = num_people;
    
// Loop until all candies gone, adding one to what's given to each,
// and resetting person back to 0 when you've gone through all of them.
while (true) {
    if (candies<=0) return ret_array;
    if (count>candies) count=candies;
    ret_array[person++] += count;
    candies -= count++;
    if (person==num_people) person=0;
}
return -1; // We should never get here, though
}