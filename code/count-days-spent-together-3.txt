/*
convert time to integer with the first day of month 1 is the base.
find interval: max(arrive_dates), min(leave_dates)
compute days
*/

class Solution {
public:
    int countDaysTogether(string arriveAlice, string leaveAlice, string arriveBob, string leaveBob) {
        int days_in_month[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        int days_so_far[12];
        days_so_far[0] = days_in_month[0];
        for (int i = 1; i < 12; i++) {
            days_so_far[i] = days_so_far[i - 1] + days_in_month[i];
        }
        
        int m = stoi(arriveAlice.substr(0, 2));
        int d = stoi(arriveAlice.substr(3, 2));
        int arrive_a = m == 1 ? d : days_so_far[m - 2] + d;
        m = stoi(leaveAlice.substr(0, 2));
        d = stoi(leaveAlice.substr(3, 2));
        int leave_a = m == 1 ? d : days_so_far[m - 2] + d;
        m = stoi(arriveBob.substr(0, 2));
        d = stoi(arriveBob.substr(3, 2));
        int arrive_b = m == 1 ? d : days_so_far[m - 2] + d;
        m = stoi(leaveBob.substr(0, 2));
        d = stoi(leaveBob.substr(3, 2));
        int leave_b = m == 1 ? d : days_so_far[m - 2] + d;
        
        int arrive = max(arrive_a, arrive_b);
        int leave = min(leave_a, leave_b);
        
        return (leave < arrive) ? 0 : leave - arrive + 1;
    }
};