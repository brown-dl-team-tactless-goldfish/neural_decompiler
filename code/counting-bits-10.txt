int* countBits(int n, int* returnSize){
    int *numBitsArray, idx;
    
    *returnSize = n+1;
    numBitsArray = malloc((n + 1) * sizeof(int));
    
    numBitsArray[0] = 0;
    for (idx = 1; idx <= n; idx++)
    {
        numBitsArray[idx] = numBitsArray[idx >> 1] + (idx & 0x01);
    }
    
    return numBitsArray;
}
