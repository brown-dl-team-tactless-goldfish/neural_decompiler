double findMaxAverage(int* nums, int numsSize, int k){
    int n = numsSize;
    int* dp = malloc(n * sizeof(int));
    dp[0] = nums[0];
    for(int i = 1; i < n; i++){
        dp[i] = dp[i-1] + nums[i];
    }

    int max = dp[k-1];   
    for(int i = k; i < n; i++){
        max = fmax(max, dp[i] - dp[i-k] );
    }   
    return (double)max/k;
}