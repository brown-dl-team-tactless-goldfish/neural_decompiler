

int findPairs(int* nums, int numsSize, int k){

int i,countSize,add;
add=0;
countSize=0;
int max=0;
int min=10000000;
for(i=0;i<numsSize;i++){
    if(nums[i]>max)
        max=nums[i];
    if(nums[i]<min)
        min=nums[i];
}   
    if(min<0){
        add=min*-1;
    }
     int m[max+add+1];
    for(i=0;i<max+add+1;i++){
        m[i]=0;
    }
    for(i=0;i<numsSize;i++){
        m[nums[i]+add]+=1;
    }
    
    i=0;
    
    while(i<max+add+1){
        if(k==0){
            if(m[i]>=2){
                countSize++;
            }   
        }
        else if(i+k<max+add+1  && m[i]>0 &&  m[i+k]>0){
            countSize++;
            }
       
        i++;
        }
    return countSize;
    }