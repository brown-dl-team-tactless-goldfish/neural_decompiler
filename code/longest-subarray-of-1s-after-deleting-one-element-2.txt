int longestSubarray(int* nums, int numsSize)

{

    int len=0,count=0,max=0;
    int start=-1,end,i=0;
   
    while(i<numsSize)
    {
        if(nums[i]==1)
        {
          if(start==-1)
          {
              start=i;
          }
          len++;
        
        }
       else
       {
          
           if(start==-1)
           {
               start=i;
               count++;
               
           }
           else if(count==0)
           {
               
               count++;
           }
           else
           {
               while(nums[start]!=0)
               {
                   start++;
                   len--;
               }
               start++;
           }
       }
       i++;
       max=max>len?max:len;
    }
   return count==0?max-1:max; 
        
}