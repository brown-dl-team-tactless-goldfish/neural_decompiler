class Solution {
public:
    int maxNonOverlapping(vector<int>& nums, int target) {
         int ans = 0;
         set<int> st;
         st.insert(0);
         int ps = 0;
         for(int a : nums){
             ps += a;
             if(st.find(ps - target) != st.end()){
                 ans++;
                 st.clear();
                 ps = 0;
             }
               st.insert(ps);
         }
        return ans;
    }
};