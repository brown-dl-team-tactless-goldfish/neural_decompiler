    int numTriplets(vector<int>& nums1, vector<int>& nums2) {
        return help(nums1, nums2) + help(nums2, nums1);
    }
    
    int help(vector<int>& v, vector<int>& u){
        unordered_map<long,int> mp1, mp2;
        for(auto x:v) mp1[long(x)*x]++;
        for(auto x:u) mp2[x]++;
        int res = 0;
        for(auto x:u){
            for(auto [y, cnt] : mp1){
                if(y % x !=0) continue;
                res += cnt * (mp2[y/x] - (x == y/x));
            }
        }
        return res/2;
    }