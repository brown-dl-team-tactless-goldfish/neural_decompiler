public class Solution 
{
    public int NumSubseq(int[] nums, int target) 
    {
        Array.Sort(nums);
        int res = 0, n = nums.Length, l = 0, r = n - 1, mod = 1_000_000_007;
        int[] pows = new int[n];
        for (int i = 0 ; i < n ; i++)
            pows[i] = i == 0 ? 1 : pows[i - 1] * 2 % mod;
        while (l <= r) 
            if (nums[l] + nums[r] > target) 
                r--;
            else 
                res = (res + pows[r - l++]) % mod;
        return res;
    }
}