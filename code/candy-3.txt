
#define MAX(a,b)(a>b?a:b+1)
int candy(int* ratings, int ratingsSize){
    int* assignCandy=(int*)calloc(ratingsSize,sizeof(int));
    int assignCandyCount=0;
    int i=0;
    for(i=0;i<ratingsSize;i++){ //initial the index value to 1
        assignCandy[i]+=1;
    }
    if(ratingsSize<2){
        return ratingsSize;
    }
    for(i=1;i<ratingsSize;i++){ //compare the rating whether the right side is greater the left side
        if(ratings[i]>ratings[i-1]){
            assignCandy[i]=assignCandy[i-1]+1;
        }
    }
    for(i=ratingsSize-1;i>0;i--){   //compare the rating whether the left side is greater than right side
        if(ratings[i-1]>ratings[i]){
            assignCandy[i-1]=MAX(assignCandy[i-1],assignCandy[i]);
        }
    }
    for(i=0;i<ratingsSize;i++){
        assignCandyCount+=assignCandy[i];
    }
    return assignCandyCount;
}