public class Solution {
    public int MostFrequentEven(int[] nums) {
        if (nums == null || nums.Length == 0)
        {
            return -1;
        }

        Dictionary<int, int> dict = new Dictionary<int, int>();

        foreach (var num in nums)
        {
            if (num % 2 == 0)
            {
                if (!dict.ContainsKey(num))
                {
                    dict.Add(num, 0);
                }

                dict[num] += 1;
            }
        }

        if (dict.Count == 0)
        {
            return -1;
        }

        return dict.OrderByDescending(x => x.Value).ThenBy(x => x.Key).FirstOrDefault().Key;
    }
}