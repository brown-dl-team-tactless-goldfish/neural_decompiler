class Solution {
public:
    string solveEquation(string eq) {
        vector<string>LHS;
        vector<string>RHS;
        int i = 0;
        string s = "";
        while(eq[i] != '='){
            if(eq[i] == '+'){
                if(s != "")
                    LHS.push_back(s);
                s = "";
                i++;
            }
            else if(eq[i] == '-'){
                if(s != "")
                    LHS.push_back(s);
                s = "-";
                i++;
            }
            else{
                s+=eq[i];
                i++;
            }
        }
        LHS.push_back(s);
        s = "";
        i++;
        while(i < eq.size()){
            if(eq[i] == '+'){
                if(s != "")
                    RHS.push_back(s);
                s = "";
                i++;
            }
            else if(eq[i] == '-'){
                if(s != "")
                    RHS.push_back(s);
                s = "-";
                i++;
            }
            else{
                s+=eq[i];
                i++;
            }
        }
        RHS.push_back(s);
        s = "";
        int a = 0;
        int b = 0;
        for(int i = 0;i<LHS.size();i++){
            if(LHS[i][LHS[i].size()-1] == 'x'){
                if(LHS[i].size() == 1)
                    a+=1;
                else if(LHS[i].size() == 2 && LHS[i][0] == '-')
                    a-=1;
                else
                    a+=stoi(LHS[i]);
            }
            else{
                b+=stoi(LHS[i]);
            }
        }
        int c = 0;
        int d = 0;
        for(int i = 0;i<RHS.size();i++){
            if(RHS[i][RHS[i].size()-1] == 'x'){
                if(RHS[i].size() == 1)
                    c+=1;
                else if(RHS[i].size() == 2 && RHS[i][0] == '-')
                    c-=1;
                else
                    c+=stoi(RHS[i]);
            }
            else{
                d+=stoi(RHS[i]);
            }
        }
        if(a-c == 0 && b-d == 0){
            return "Infinite solutions";
        }
        else if(a-c == 0 && b-d != 0){
            return "No solution";
        }
        int k = (d-b)/(a-c);
        string res = "x=";
        res+=to_string(k);
        return res;

    }
};