void update(int timestamp, int price) {
    if(stock.find(timestamp) != stock.end())
    {
        int pre_price=stock[timestamp];
        minmax[pre_price]--;            
        if(minmax[pre_price]==0)
            minmax.erase(pre_price);
    }           
    minmax[price]++;
    stock[timestamp]=price; 
    curr=max(curr,timestamp);
}    

int current() {
   return stock[curr]; 
}

int maximum() {
     auto it=minmax.rbegin();
     return it->first;
}

int minimum() {
    auto it=minmax.begin();
    return it->first;
}