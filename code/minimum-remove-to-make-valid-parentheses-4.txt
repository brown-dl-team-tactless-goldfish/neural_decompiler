#define DELETE 'X'

char * minRemoveToMakeValid(char * s){
    int i, j;
    int level = 0;
    for(i=0;s[i];++i) {
        if (s[i] == '(') {
            ++level;
        } else if (s[i] == ')') {
            (level == 0) ?  s[i] = DELETE : --level;
        }
    }
    level = 0;
    for(i=i-1;i>=0;--i) {
        if (s[i] == ')') {
            --level;
        } else if (s[i] == '(') {
            (level == 0) ?  s[i] = DELETE : ++level;
        }
    }
    for(i=j=0;s[i];++i) {
        if(s[i]==DELETE) {
            continue;
        }
        if (i!=j) {
            s[j]=s[i];
        }
        ++j;
    }
    s[j] = 0;
    
    return s;
}