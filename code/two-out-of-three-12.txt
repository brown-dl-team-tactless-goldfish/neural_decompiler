public class Solution {
    public IList<int> TwoOutOfThree(int[] nums1, int[] nums2, int[] nums3) {
        
        List<int> res = new List<int>(); 
        Dictionary<int,int> dic = new Dictionary<int,int>();       
        helper(nums1, dic);
        helper(nums2, dic);
        helper(nums3, dic);
            
        foreach(var kv in dic)
        {
            if(kv.Value >= 2)
                res.Add(kv.Key);
        }
        
        return res;
    }
    
    private void helper(int[] nums, Dictionary<int,int> dic)
    {
        HashSet<int> set = new HashSet<int>();      
        foreach(var num in nums)
        {
            if(!set.Contains(num))
            {
                if(dic.ContainsKey(num))
                    dic[num]++;
                else
                    dic.Add(num,1);
                set.Add(num);
            }
        }
    }
}