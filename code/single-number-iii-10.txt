//4ms O(n) Time O(1) space
int* singleNumber(int* nums, int numsSize, int* returnSize) {
    if (!nums || (numsSize < 2)) return NULL;
    int* ret = (int*)malloc(sizeof(int) * 2);
    if (ret) {
        int i, x = 0, y = 0, flag, tmp;
        for (i = 0; i < numsSize; i++) x ^= nums[i];
        flag = x & -x; //Get last bit of x https://leetcode.com/discuss/52377/3-lines-ruby-4-lines-c
        for (i = 0; i < numsSize; i++) if ((tmp = nums[i]) & flag) y ^= tmp;
        ret[0] = x ^ y;
        ret[1] = y;
        if (returnSize) *returnSize = 2;
    }
    return ret;
}