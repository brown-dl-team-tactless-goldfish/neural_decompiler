public class Solution {
    public int FindLUSlength(string[] strs)
    {
        var dict = new Dictionary<string, bool>();

        foreach (var str in strs)
            dict[str] = !dict.Any(d => IsSubsequence(str, d.Key, str.Length, d.Key.Length));

        var re = dict.Where(d => d.Value);

        return re.Any() ? re.Max(d => d.Key.Length) : -1;
    }

    private bool IsSubsequence(string a, string b, int m, int n)
    {
        if (m == 0) return true;

        if (n == 0) return false;

        if (a[m - 1] == b[n - 1]) return IsSubsequence(a, b, m - 1, n - 1);

        return IsSubsequence(a, b, m, n - 1);
    }
}