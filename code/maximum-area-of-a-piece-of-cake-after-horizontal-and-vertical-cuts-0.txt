#define MAX(a,b) ((a) > (b) ? (a) : (b))
#define MOD 1000000007

int cmp(const void* a, const void* b) {
    return *(const int*) a - *(const int*) b;
}

int maxArea(int h, int w, int* horizontalCuts, int horizontalCutsSize, int* verticalCuts, int verticalCutsSize) {
    qsort(horizontalCuts, horizontalCutsSize, sizeof(int), cmp);
    qsort(verticalCuts, verticalCutsSize, sizeof(int), cmp);
    long maxH = MAX(horizontalCuts[0], h - horizontalCuts[horizontalCutsSize - 1]);
    long maxV = MAX(verticalCuts[0], w - verticalCuts[verticalCutsSize - 1]);
    for (int i = 1; i < horizontalCutsSize; i++) {
        maxH = MAX(maxH, horizontalCuts[i] - horizontalCuts[i-1]);
    }
    for (int i = 1; i < verticalCutsSize; i++) {
        maxV = MAX(maxV, verticalCuts[i] - verticalCuts[i-1]);
    }
    return ((maxH % MOD) * (maxV % MOD)) % MOD;
}