class Solution {
public:
    long long maximumSubsequenceCount(string t, string p) {
        long long cnt1 = 0, cnt2 = 0, fr1 = 0, fr2 = 0, a = 0;
        string t1 = p[0] + t, t2 = t + p[1];
        
        for(char c : t1) {
            if(c == p[0]) fr1++, a++;
            if(c == p[1]) cnt1 += fr1;
        }
        for(char c : t2) {
            if(c == p[0]) fr2++;
            if(c == p[1]) cnt2 += fr2;
        }
        
        return p[0] == p[1] ? (a * (a - 1)) / 2 : max(cnt1, cnt2);
    }
};