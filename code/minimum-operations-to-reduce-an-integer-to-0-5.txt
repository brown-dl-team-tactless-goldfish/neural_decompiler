class Solution {
public:
    int minOperations(int n) {
        vector<int>data(100001, -1) ;
        data[1] = 1 ;
        data[2] = 1 ;
        data[3] = 2 ;
        data[4] = 1 ;
        for(int i = 3; i < 16; i++){
            data[pow(2, i)] = 1 ;
        }
        
        return helper(n, data) ;
    }
    
    int helper(int n, vector<int>&data){
        if(data[n] != -1)
            return data[n] ;
        int d = log(n)/log(2) ;
        int ans =  1 + min(helper(n - pow(2, d), data), helper(pow(2, d+1) - n, data)) ;
        data[n] = ans ;
        return ans ;
    }  
};