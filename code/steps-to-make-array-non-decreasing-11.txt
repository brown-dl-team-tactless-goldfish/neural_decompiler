class Solution {
public:
	int totalSteps(vector<int>& nums) {
		stack<int> st;
		vector<int> dp(nums.size(), 0);
		for (int i = nums.size() - 1; i >= 0; i--) {
			while (!st.empty() && nums[st.top()] < nums[i]) {
				dp[i] = max(++dp[i], dp[st.top()]);
				st.pop();
			}
			st.push(i);
		}
		return *max_element(dp.begin(), dp.end());
	}
};