#define M 1337
int POW(int a, int b){
    a %= M ;
    if(b == 0)
        return 1 ;
    if(b == 1)
        return a ;
    if(b%2)
        return a*POW(a, b-1) % M ;
    
    return POW(a*a, b/2) % M ;
}

int superPow(int a, int* b, int bSize){    
    int ret = 1 ;
    for(int i = 0; i < bSize; i++){
        ret = POW(ret, 10) * POW(a, b[i]) % M;
    }
    return ret ;
}