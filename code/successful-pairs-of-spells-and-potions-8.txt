from typing import List
import bisect

def successfulPairs(spells: List[int], potions: List[int], success: int) -> List[int]:
    res = []
    sortedPotions = sorted(potions, reverse=True)
    map = {}

    for i in range(len(spells)):
        if spells[i] not in map:
            s = success / spells[i]
            len = bisect.bisect_left(sortedPotions, s)
            res.append(len)
            map[spells[i]] = len
        else:
            len = map[spells[i]]
            res.append(len)

    return res