class Solution {
public:
    vector<int> addNegabinary(vector<int>& arr1, vector<int>& arr2) {
        vector<int>ret ;
        int i = arr1.size() - 1 ;
        int j = arr2.size() - 1 ;
        int carry =  0 ;
        int sum = 0 ;
        while(i >= 0 || j >= 0 || carry)
        {
            sum = carry ;
            if(i >= 0)
                sum += arr1[i--] ;
            if(j >= 0)
                sum += arr2[j--] ;
            int r = sum % (-2) ;
            carry = sum /-2 ;
            if(r < 0 ){
                r += 2 ;
                carry++ ;
            }                
            ret.push_back(r) ;
        }
        while(ret.size() > 1 && ret.back() == 0)
            ret.pop_back() ;
        reverse(ret.begin(), ret.end()) ;
        return ret ;
    }
};