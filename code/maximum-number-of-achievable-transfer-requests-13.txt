class Solution {
public:
    int maximumRequests(int n, vector<vector<int>>& req) { 
        int k = req.size() , maxReq = 0 ;
        
        for(int i = 1 ; i < (1 << k); ++i ){
            vector<int> in(n) ,out(n) ;
            for(int j = 0 ; j < k ; ++j ){
                
                if(!((1 << j) & i)) continue ;
                ++out[req[j][0]] , ++in[req[j][1]] ;
            }
            int num = 0 ;
            //check for proper configuration of chosen requests
            for(int i = 0 ; i < n ; ++i ){ 
                if(in[i] != out[i]){
                    num = 0 ;
                    break ;
                } else num += min(in[i],out[i]);
            }
            maxReq = max(maxReq,num) ;
        }
        
        return maxReq ;
    }
};