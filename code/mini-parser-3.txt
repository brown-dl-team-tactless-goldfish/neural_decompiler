NestedInteger deserialize(string s) {
   if(s[0] != '[') return NestedInteger(stoi(s));
   
   stack<NestedInteger> stk;
   string num = "";
   for(char c: s) {
       if(c == '[') {
           stk.push(NestedInteger());
       }
       else if(c == ']' || c == ',') {
           if(num != "") {
               stk.top().add(NestedInteger(stoi(num)));
               num = "";
           }
           
           if(stk.size() >= 2 && c == ']') {
               NestedInteger ni = stk.top(); stk.pop();
               stk.top().add(ni);    
           }
       }
       else num.push_back(c);
   }
   
   return stk.top();
}