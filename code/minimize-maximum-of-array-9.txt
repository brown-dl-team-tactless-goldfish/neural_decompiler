    int minimizeArrayValue(vector<int>& nums) {
        int l = 0, r = 1e9;
        while(l < r){
            auto mid = (l+r) / 2;
            if(can(nums, mid)) r = mid;
            else l = mid+1;
        }
        return l;
    }
    
    bool can(const vector<int>& v, int x){
        long long delta = 0;
        for(int i=0;i<v.size()-1;i++){
            auto cur = v[i] - delta; 
            if(cur > x) return false;
            delta = x - cur;
        }
        return v.back() - delta <= x;
    }