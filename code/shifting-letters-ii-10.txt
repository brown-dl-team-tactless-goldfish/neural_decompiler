    string shiftingLetters(string s, vector<vector<int>>& shifts) {
        int n = s.size(), x = 0;
        vector<int> vshif(n+1);
        for(auto& v:shifts) {
            if(v[2] == 1) vshif[v[0]]++, vshif[v[1]+1]--;
            else vshif[v[0]]--, vshif[v[1]+1]++;
        }
        for(int i=0;i<n;i++){
            x += vshif[i];
            s[i] = 'a' + (s[i] - 'a' + x + 2600000) % 26;
        }
        return s;
    }