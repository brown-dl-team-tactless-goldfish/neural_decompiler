

int compareVersion(const char * v1, const char * v2)
{
    while (*v1 || * v2)  /* still characters in either string */
    {
        int a=0;
        int b=0;
        while (*v1 && *v1 != '.')  a = 10*a + (*v1++ - '0');  // read digits of v1 up to dot
        while (*v2 && *v2 != '.')  b = 10*b + (*v2++ - '0'); // read digits of v2 up to dot
        if (*v1) v1++; // skip the dot
        if (*v2) v2++; // skip the dot
        if (a < b) return -1; 
        if (a > b) return +1;
    }
    return 0; // always equal
}