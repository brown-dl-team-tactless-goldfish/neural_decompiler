bool checkPossibility(int* nums, int numsSize) {
    int count = 0, i = 0;
    for(i=0;i<numsSize-1;i++)
    {
        if (nums[i]>nums[i+1])
        {
            count++;
            if (count>=2)
                return false;
            if ( (i!=0 && i+2<numsSize && nums[i+2]<nums[i]) && 
                 (i-1>=0 && nums[i+1]<nums[i-1]) )
                return false;
        }
    }
    return true;
}