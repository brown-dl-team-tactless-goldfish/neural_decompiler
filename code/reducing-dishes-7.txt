int cmpfunc (const void *a, const void *b) {
    return *(int*)a - *(int*)b;
}

int sum (int* s, int idx, int n) {
    int j = 1, sum = 0;
    
    for (int i = idx; i < n; i++, j++) {
        sum += s[i]*j;
    }
    
    return sum;
}

int maxSatisfaction(int* s, int n){
    qsort(s, n, sizeof(int), cmpfunc);
    
    int idx, i = 0;
    
    for (; i < n; i++) {
        if (s[i] >= 0) {
            idx = i;
            break;
        }
    }
    
    int max = INT_MIN, temp;
    
    for (i = idx; i >= 0; i--) {
        temp = sum (s, i, n);
        max = max > temp ? max : temp;
    }
    
    return max;
}