public class Solution {
    public int NumTeams(int[] rating) {
        
        if(rating == null || rating.Length < 3)
            return 0;
             
        int cnt = 0;
        for(int i = 0; i < rating.Length; i++)
        {
            int leftSmaller = 0, leftLarger = 0, rightSmaller = 0, rightLarger = 0;
            
            for(int j = 0; j < rating.Length; j++)
            {
                if(j == i)
                    continue;
                
                if(rating[j] < rating[i])
                {
                    if(j < i)
                        leftSmaller++;
                    else
                        rightSmaller++;
                }
                else
                {
                    if(j < i)
                        leftLarger++;
                    else
                        rightLarger++;
                }
            }        
            
            cnt += leftSmaller * rightLarger + leftLarger * rightSmaller;
        }
        
        return cnt;
    }
}