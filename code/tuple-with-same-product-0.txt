class Solution:
    def tupleSameProduct(self, nums: List[int]) -> int:
        nums.sort()
        # print("nums = ", nums)
        maps = {}
        n = len(nums)

        for idx_1 in range(n):
            for idx_2 in range(idx_1+1, n):
                tmpSum = nums[idx_1] * nums[idx_2]
                if (tmpSum not in maps):
                    maps[tmpSum] = []

                maps[tmpSum].append([nums[idx_1], nums[idx_2]])
                # maps[tmpSum].append([nums[idx_2], nums[idx_1]])

        # print("maps = ", maps)
        self.res = 0
        for k, v in maps.items():
            if len(v) > 1:
                # print("k = ", k, " v = ", v)
                num_v = len(v)
                # print("num_v = ", num_v)
                for idx_1 in range(num_v):
                    for idx_2 in range(num_v):
                        if (idx_1 == idx_2):
                            continue
                        self.res += 4

        # print("self.res = ", self.res)
        return self.res