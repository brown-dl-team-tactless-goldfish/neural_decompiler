class Solution {
public:
    static vector<int> maxDepthAfterSplit(const string& seq) {
        vector<int> ret;
        int st = 0, max_depth = 0;
        for(char c : seq)
            if('(' == c)
                max_depth = max(max_depth, ++st);
            else
                --st;
        const int half_depth = max_depth >> 1;
        for(char c : seq)
            if('(' == c)
                ret.push_back(++st > half_depth);
            else
                ret.push_back(st-- > half_depth);
        return ret;
    }
};