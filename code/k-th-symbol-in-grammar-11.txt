int kthGrammar(int N, int K){
    int i = 1 << (N - 1);
    int j = 0;
    while (K > 2) {
        i >>= 1;
        if (i < K) {
            K -= i;
            ++j;
        }
    }
    if (j % 2 == 0) return K - 1;
    return 2 - K;
}