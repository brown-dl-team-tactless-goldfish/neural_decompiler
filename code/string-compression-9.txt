int i;

int  res = 0;

char curr, last = chars[0];

int new_pos=0, count=1;

char str[2], k=0;

//============================
//===== RUN LENGTH ENCODING ==
//============================

for (i=1; i<=charsSize; i++)
{        
    curr =  chars[i];     
    
    if ((curr == last))
    {
        count++;
    }
    else
    {                   
        //add new char            
        chars[new_pos] = last;
        new_pos++;
              
        
        //add num
        k=0;
        sprintf(str, "%d", count);            
        res =  count;
                    
        while((count >1)&(res!=0))
        {                                                                                            
            chars[new_pos] = str[k];
            
            res = res/10;                                
                            
            new_pos++;
            k++;                                
        }
        
        count=1;                        
        last = curr; 
    }                         
}
   
return new_pos ? new_pos :1;