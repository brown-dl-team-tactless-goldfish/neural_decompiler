class Solution {
public:
    int longestIdealString(string s, int k) {
        const int N = s.size();
        array<int, 26U> dp = {0};
        int ans = 0;
        for(char c : s) {
            const char low = max(c - k, 'a' + 0);
            const char high = min(c + k, 'z' + 0);

            int val = 1;            
            
            for(char cc = low; cc <= high; ++cc) {
                val = max(val, dp[cc - 'a'] + 1);
            }
            dp[c - 'a'] = val;
            ans = max(ans, val);
        }
        return ans;
    }
};