 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */

int height(struct TreeNode* node){
    if(node == NULL){
        return 0;
    }
    else{
        int lheight = height(node->left);
        int rheight = height(node->right);
        return lheight > rheight ? (lheight + 1) : (rheight + 1);
    }
}

void calculateLevelSum(struct TreeNode* root , int height, int sum[], int curr ){
    
    if(root == NULL) return ;
    
    sum[curr] += root->val;
    
    calculateLevelSum(root->left, height, sum, curr+1);
    calculateLevelSum(root->right, height, sum, curr+1);
}

int maxLevelSum(struct TreeNode* root){
    
    int h = height(root);
    
    int sum[h+1];
    for(int i=0; i<h+1;i++){
        sum[i] = 0;
    }
    
    calculateLevelSum(root, h, sum, 1);
    
    int maxSum = root->val;
    int level = 1;
    
    for(int i = 1; i <=h; i++){
        if(sum[i] > maxSum){
            level = i;
            maxSum = sum[i];
        }
    }
    return level;
}


