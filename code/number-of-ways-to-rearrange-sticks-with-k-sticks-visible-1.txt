class Solution {
public:
    int md=1e9+7;
    int rearrangeSticks(int n, int k) {
        //dp[i][w] = #ways to place [i...n] sticks so that w are seen
        vector<vector<int>> dp(n+1,vector<int>(k+1));
        dp[n][1]=1;
        for(int i=n-1;i>=1;i--){
            for(int w=1;w<=k;w++){
                //place this stick so that its seen
                dp[i][w]=(dp[i][w]+dp[i+1][w-1])%md;
                //not seen
                dp[i][w]=(dp[i][w]+dp[i+1][w]*1ll*(n-i))%md;
            }
        }
        return dp[1][k];
    }
};

So while placing i, we have already placed n-i sticks which are greater in length...
    
        1 a 2 b 3 c 4 d 5
    
if we place the new stick in positions 2,3,4,5 the stick won't be seen which is the second transition dp[i][w]=(dp[i][w]+dp[i+1][w]*1ll*(n-i))%md;
if we place the new stick in position 1, the stick would be seen corresponding to the first transition dp[i][w]=(dp[i][w]+dp[i+1][w-1])%md;