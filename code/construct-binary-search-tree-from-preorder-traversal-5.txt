/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */



struct TreeNode* help(int *preorder, int min, int max, int *k, int size) {
    struct TreeNode *temp;
    //base case
        if(*k == size)
            return NULL;
    
        if(preorder[*k] <= min || preorder[*k] >= max )
            return NULL;
    
    temp = malloc(sizeof(struct TreeNode));
    temp->left = NULL;
    temp->right = NULL;
    temp->val = preorder[(*k)++];
    
    temp->left = help(preorder,min,temp->val,k,size);
    temp->right = help(preorder,temp->val,max,k,size);
    
    return temp;
    
    
}


struct TreeNode* bstFromPreorder(int* preorder, int preorderSize){
    
    int k=0;
    return help(preorder,INT_MIN,INT_MAX,&k,preorderSize);

}