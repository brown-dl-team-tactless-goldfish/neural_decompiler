int
asc(const void *a, const void* b)
{

	return *(int *)a < *(int *)b ? -1 : 1;
}

int
max(const int a, const int b)
{

	return a > b ? a : b;
}

int
maximumProduct(const int *const nums, const int numsSize)
{
	static int srt[6];
	int siz, i, p;

	siz = 0;
	for (i = 0; i < numsSize; ++i) {
		srt[siz == 6 ? 2 : siz++] = nums[i];
		qsort(srt, siz, sizeof(int), asc);
	}
	p = srt[siz - 3] * srt[siz - 2] * srt[siz - 1];
	if (srt[0] < 0 && srt[1] < 0)
		p = max(p, srt[0] * srt[1] * srt[siz - 1]);

	return p;
}