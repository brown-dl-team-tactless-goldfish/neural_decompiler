class Solution {
public:
    int maxWidthRamp(vector<int>& nums) {
        int n=nums.size();
        int ans=0;
        vector<pair<int,int>> new_nums;
        for (int i=0;i<n;i++) new_nums.push_back(make_pair(nums[i],i));
        sort(new_nums.begin(),new_nums.end());
        vector <int> arr;
        for (auto &p: new_nums) arr.push_back(p.second);
        int greatest=arr[n-1];
        for (int i=n-2;i>=0;i--){
            if (arr[i]<=greatest) ans=max(ans,greatest-arr[i]);
            else greatest=arr[i];
        }
        return ans;
    }
};