class Solution {
public:
    int totalSteps(vector<int>& nums) {
        stack<pair<int,int>> StepOne;
        int ans = 0;
        int sz = nums.size();
        for(int i = sz-1; i >= 0; i--)
        {
            int cnt = 0;
            while(!StepOne.empty() && StepOne.top().first < nums[i])
            {
                if(StepOne.top().second == 0)
                {
                    cnt++;
                }
                else if(StepOne.top().second != 0)
                {
                    if(StepOne.top().second > cnt)
                    {
                        cnt += StepOne.top().second - cnt;
                    }
                    else
                    {
                        cnt += 1;
                    }
                }
                StepOne.pop();
            }
            StepOne.push({nums[i],cnt});
            ans = max(cnt,ans);
        }
        return ans;
    }
};