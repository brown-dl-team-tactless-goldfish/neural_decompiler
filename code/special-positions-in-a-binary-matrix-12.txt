class Solution {
public:
    int numSpecial(vector<vector<int>>& mat) {
        set<int> splcols;
        int ans = 0;
        int R = mat.size(); if (R == 0) return 0; int C = mat[0].size(); if (C == 0) return 0;
        for (int r = 0; r < R; r ++) {
            int count = 0, splcol;
            for (int c = 0; c < C; c ++) {
                if (mat[r][c] == 1) {
                    count ++;
                    splcol = c;
                }
            }
            if (count == 1) splcols.insert(splcol);
        }
        for (auto &c: splcols) {
            int count = 0;
            for (int r = 0; r < R; r ++) {
                if (mat[r][c] == 1) count ++;
            }
            if (count == 1) ans ++;
        }
        return ans;
    }
};