with cte as(
select Name,Salary,DepartmentId ,
    DENSE_RANK() OVER (PARTITION BY DepartmentId ORDER BY Salary Desc) as ranks
FROM Employee
    )

select d.Name as Department,c.Name as Employee,c.Salary
 from cte c join Department d on c.DepartmentId=d.Id and ranks <=3;