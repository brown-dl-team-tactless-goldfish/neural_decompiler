class Solution {
public:
    vector<int> getAverages(vector<int>& a, int k) {
         vector<long long> nums;
         for(int x : a) nums.push_back(x);
         for(int i=1; i<nums.size(); i++) nums[i]+=nums[i-1];
         vector<int> ans;
         for(int i=0; i<nums.size(); i++) {
              if(i-k>-1 && i+k<nums.size()) {
                  int l=i-k;
                  int r=i+k;
                  if(l==0) {
                      ans.push_back(nums[r]/((2*k)+1));
                  }else {
                      ans.push_back((nums[r]-nums[l-1])/((2*k)+1));
                  }
              }else {
                  ans.push_back(-1);
              }
         }
        return ans;
    }
};