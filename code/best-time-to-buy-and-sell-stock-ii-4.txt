int maxProfit(int* prices, int pricesSize){
    int profit = 0, mn = 0, i = 1, cur_prof = 0;
    while (i < pricesSize) {
        if (prices[i] < prices[i-1]) {
            if (cur_prof > 0) profit += cur_prof;
            mn = i;
            cur_prof = 0;
        } else {
            if ((prices[i]-prices[mn]) > cur_prof) cur_prof = prices[i]-prices[mn];
        }
        i++;
    }
    return cur_prof > 0 ? profit+cur_prof : profit;
}