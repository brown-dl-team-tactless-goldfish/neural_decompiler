bool canThreePartsEqualSum(vector<int>& A) {
    
    int n = A.size();
    
    if (n < 2) return false;
    
    int sum = 0;
    for (int i = 0; i < n; i++)
        sum += A[i];
    
    if (sum % 3 != 0) return false;

    int rsum  = 0, a = -1, b = -1, c = -1;

    for (int i = 0; i < n; i++) {
        rsum += A[i];
        
        if (rsum == sum/3) {
            if (a < 0) { a = i; rsum  = 0; }
            else if (b < 0 ) { b = i; rsum = 0; }
            else c = i;
        }
    }

    return (a >= 0 && b >= 0 && c >= 0 && a < b && b < c && c == n-1);
}