while(x)
{
    arry[i++] =x % 10;
    x /= 10;
}

while(j < i)
{
    if (0x7fffffff / 10 < ret
        || (0x7fffffff / 10 == ret && arry[j] > 7)
        ||  (int)0x80000000 / 10 > ret
        || ((int)0x80000000 / 10 == ret && arry[j] < -8)
       )
    {
        return 0;
    }
    ret *= 10;
    ret += arry[j];
    j++;
}

return ret;