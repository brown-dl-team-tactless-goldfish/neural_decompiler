int maxProfit(int* prices, int pricesSize){
    if (pricesSize == 0) return 0;
    int min = prices[0];
    int max = 0;
    int i;
    for (i = 1; i < pricesSize; i ++)
    {
        int price = prices[i];
        int profit = price - min;
        if (profit < 0)
        {
            min = price;
        }
        else
        {
            if (profit > max)
            {
                max = profit;
            }
            if (i + 1 < pricesSize && prices[i+1] < price) break;
        }
    }
    
    if (i != pricesSize)
    {
        max += maxProfit(prices + i, pricesSize - i);
    }
    
    return max;
}