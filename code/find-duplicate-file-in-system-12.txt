class Solution {
public:
    vector<vector<string>> findDuplicate(vector<string>& paths) {
        unordered_map<string, vector<string>> m;
        vector<vector<string>> res;
        string full_path, file_content;
        
        for (auto path : paths) {
            istringstream buf(path);
            istream_iterator<string> beg(buf), end;
            vector<string> v(beg, end);
            
            for (int i = 1; i < v.size(); i++) {
                full_path = v[0] + "/" + v[i].substr(0, v[i].find('('));
                file_content = v[i].substr(v[i].find('(') + 1);
                m[file_content].push_back(full_path);
            }
        }
        
        for (auto [content, paths] : m) {
            if (paths.size() > 1) {
                res.push_back(paths);
            }
        }
        return res;
    }
};