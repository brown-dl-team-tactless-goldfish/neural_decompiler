public class Solution {
    public int LongestDecomposition(string text) {

            int res = 0, start = 0, end = text.Length - 1, len = 1, txtLen = text.Length;

            while (end > start)
            {
                bool flag = true;
                for (var i = 0; i < len; i++)
                {
                    
                    if (text[start - i] != text[txtLen - 1 - start + len - 1 - i])
                    {
                        flag = false;
                        break;
                    }
                }

                end--;
                start++;

                if (flag)
                {
                    res += 2;
                    len = 1;
                }
                else
                {
                    len++;
                }
            }

            if (start == end || len > 1) res++;

            return res;
    }
}