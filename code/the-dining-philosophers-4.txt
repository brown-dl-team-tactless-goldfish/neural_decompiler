class DiningPhilosophers {
private:
    int count;
    std::mutex mtx;
    std::condition_variable cv;
public:
    DiningPhilosophers() {
        count = 0;
    }

    void wantsToEat(int philosopher,
                    function<void()> pickLeftFork,
                    function<void()> pickRightFork,
                    function<void()> eat,
                    function<void()> putLeftFork,
                    function<void()> putRightFork) {
        std::unique_lock<std::mutex> lck(mtx);
        while(philosopher != count) {
            cv.wait(lck);
        }
		pickLeftFork();
        pickRightFork();
        eat();
        putLeftFork();
        putRightFork();
        count++;
        count = (count % 5);
        cv.notify_all();
    }
};