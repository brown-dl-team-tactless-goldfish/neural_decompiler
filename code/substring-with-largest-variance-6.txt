class Solution {
public:
    string rs;
    int ans = 0;
    void visit(string& s, int a, int b) {
        int ca = 0;
        int cb = 0;
        for (auto c : s) {
            if (c == a) ca++;
            else if (c== b) cb++;
            else continue;
            if (cb > 0) ans = max(ans, ca - cb);
            if (cb > ca) cb = ca = 0;
        }
    }
    
    int largestVariance(string s) {
        rs = s;
        reverse(rs.begin(), rs.end());
        for (char a = 'a' ; a <= 'z'; a++) {
            for (char b = 'a' ; b <= 'z'; b++) {
                if (a == b) continue;
                visit(s, a, b);
                visit(rs, a, b);
            }
        }
        return ans;
    }
};