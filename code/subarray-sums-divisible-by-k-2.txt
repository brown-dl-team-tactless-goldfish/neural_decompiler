int subarraysDivByK(int* nums, int numsSize, int k){
    int i, sum, count = 0;
    int *modK = calloc(k, sizeof(int));
    
    modK[0]++;

    for (i = 0; i < numsSize; i++) {
        sum = (sum + nums[i]) % k;
        if (sum < 0)
            sum = (sum + k) % k;
        
        count += modK[sum];
        modK[sum]++;
    }    

    free(modK);
    return count;
}