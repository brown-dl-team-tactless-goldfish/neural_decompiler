int arrayNesting(int* nums, int numsSize) {
    int* arr = (int*) malloc(numsSize * sizeof(int));
    memset(arr, -1, numsSize * sizeof(int));
    int max = 0;
    for(int i = 0; i < numsSize; i++) {
        int idx = nums[i], cnt = 1;
        arr[i]++;
        while(arr[idx] == -1) {
            arr[idx]++;
            cnt++;
            idx = nums[idx];
        }
        max = cnt > max ? cnt : max;
    }
    free(arr);
    return max;
}