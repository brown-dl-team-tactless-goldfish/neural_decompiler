class Solution {
public:
    vector<vector<long long>> splitPainting(vector<vector<int>>& segments) {
        
        vector<vector<long long>> res;
        
        map<int, long long> track;
        int start = -1;
        
        for (const vector<int>& v : segments) {
            track[v[0]] += v[2];
            track[v[1]] -= v[2];
        }
        
        long long count = 0;
        for (auto it : track) {
        
            if (start != -1 && count > 0) {
                res.push_back({start, it.first, count});
            }
            count += it.second;
            start = it.first;
        }
        return res;
    }
};