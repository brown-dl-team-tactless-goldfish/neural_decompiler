bool validateStackSequences (int* pushed, int pushedSize, int* popped, int poppedSize) {
  int i, j, k;

  for (i = j = k = 0; j < pushedSize; j++) {
    pushed[i++] = pushed[j];
    while (i > 0 && pushed[i-1] == popped[k]) {
      i--;
      k++;
    }
  }

  return k == poppedSize;
}