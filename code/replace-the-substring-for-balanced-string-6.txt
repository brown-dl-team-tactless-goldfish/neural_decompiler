class Solution {
public:
    int balancedString(string s) {
        unordered_map<char, int> m = {{'Q', 0}, {'W', 0}, {'E', 0}, {'R', 0}};
        for(char c : s) m[c]++;
        
        int i = 0, n = s.size(), ans = n;
        if(m['Q'] == n / 4 && m['W'] == n / 4 && m['E'] == n / 4 && m['R'] == n / 4) return 0;
        
        for(int j=0; j<n; j++) {
           m[s[j]]--;
           while(i <= j && m['Q'] <= n / 4 && m['W'] <= n / 4 && m['E'] <= n / 4 && m['R'] <= n / 4) {
               ans = min(ans, j - i + 1);
               m[s[i]]++;
               i++;
           }
        }
        return ans;
    }
};