class Solution {
public:
    int nthMagicalNumber(int n, int a, int b) {
        long long M = 1e9 + 7 ;
        long long lcm = a*b/gcd(a,b) ;
        long long left = 1, right = LLONG_MAX;
        while(left < right){
            long long mid = left + (right - left)/2 ;
            long long count = 0 ;
            count = mid/a + mid/b - mid/lcm ;
            if(count >= n)
                right = mid ;
            else
                left = mid + 1 ;
        }
        return left % M ;
    }
};