
int peakIndexInMountainArray(int* A, int ASize){
    int left=1, right=ASize-2, tmp;
    while(1){
        tmp = right+left;
        tmp/=2;
        if(A[tmp-1]<A[tmp] && A[tmp]<A[tmp+1])
            left = ++tmp;
        if(A[tmp-1]>A[tmp] && A[tmp]>A[tmp+1])
            right = --tmp;
        if(A[tmp-1]<A[tmp] && A[tmp]>A[tmp+1])
            return tmp;
    }
    return 1;       
}