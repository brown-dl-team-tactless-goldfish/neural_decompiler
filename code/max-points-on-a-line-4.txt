struct s
{
    float slop;
    int count;
};
float slope(int y1,int y2,int x1,int x2)
{
    return (y1-y2)/(float)(x1-x2);
}
int check(struct s *stack,int top,float slope)
{
    while(top>-1)
    {
        if(stack[top].slop==slope)
         return top;
         top--;
    }
    return -1;
}
int maxPoints(int** points, int pointsSize, int* pointsColSize){
    if(pointsSize==1)
    return 1;
int tempcount,max=0,i,j,top;
struct s *stack;
for(i=0;i<pointsSize;i++)
{
    stack=(struct s*)malloc(sizeof(struct s)*1000);
    top=-1;
    tempcount=0;
    for(j=0;j<pointsSize;j++)
    {
        float slop=slope(points[i][1],points[j][1],points[i][0],points[j][0]);
        int che=check(stack,top,slop);
        if(che==-1)
        {
            stack[++top].slop=slop;
            stack[top].count=2;
        }
        else
        {
            stack[che].count+=1;
        }
    }
    while(top>-1)
    {
        if(tempcount<stack[top].count)
         tempcount=stack[top].count;
         top--;
    }
    free(stack);
    if(tempcount>max)
    {
        max=tempcount;
    }
}
return max;
}