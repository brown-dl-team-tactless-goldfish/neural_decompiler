    vector<int> rearrangeBarcodes(vector<int>& barcodes) {
        //heap
        int n = barcodes.size(); 
        if (!n) return {};         
        unordered_map<int, int> map; 
        for (int i = 0; i < n; i++) map[barcodes[i]]++; 
        vector<int> res; 
        priority_queue<pair<int, int>> q; 
        for (auto& a : map) q.push({a.second, a.first}); 
        while(!q.empty()) { 
            vector<int> needToAdd; 
            int cnt = 0; 
            while(!q.empty() && cnt < 2) {
              cnt++; 
              pair<int, int> p = q.top(); 
              q.pop(); 
              res.push_back(p.second); 
              map[p.second]--; 
              if (map[p.second]) needToAdd.push_back(p.second); 
            }
            for (auto c : needToAdd) q.push({map[c], c}); 
        }
        return res; 
    }
	```