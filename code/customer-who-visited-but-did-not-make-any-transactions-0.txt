// left join:
 SELECT customer_id, COUNT(customer_id) as count_no_trans FROM (SELECT v.customer_id,t.amount FROM Visits as v LEFT JOIN Transactions as t
 ON v.visit_id=t.visit_id)  as c WHERE amount IS NULL GROUP BY customer_id