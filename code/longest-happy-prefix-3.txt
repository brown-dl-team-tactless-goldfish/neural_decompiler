
class Solution {
public:
    string longestPrefix(string s) {
        vector<int> lps(s.size());
        lps[0] = 0; 
        int i = 1, idx = 0, j = 0, mx = 0; 
        while (i < s.size()) { 
            if (s[i] == s[j]) { 
                j++; 
                lps[i] = j; 
                i++; 
            } 
            else { 
                if (j != 0) { 
                    j = lps[j - 1]; 
                } 
                else { 
                    lps[i] = 0; 
                    i++; 
                } 
            } 
        }
        return s.substr(0, lps.back());
    }
};
