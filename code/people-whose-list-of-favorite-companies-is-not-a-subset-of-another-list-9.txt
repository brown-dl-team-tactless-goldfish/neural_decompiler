public class Solution 
{
    public IList<int> PeopleIndexes(IList<IList<string>> favoriteCompanies) 
    {
        var dict = new Dictionary<int, HashSet<string>>();
        for(int i = 0; i < favoriteCompanies.Count; i++)
        {
            dict[i] = new HashSet<string>();
            foreach(var comp in favoriteCompanies[i])
                dict[i].Add(comp);
        }
        
        var result = new List<int>();
        foreach(var i in dict.Keys)
            if(!IsSubset(dict, i))
                result.Add(i);
        return result;
    }
    
    private bool IsSubset(Dictionary<int, HashSet<string>> dict, int index)
    {
        foreach(var person in dict.Keys)
            if(person != index)
                if(IsSubset(dict[index], dict[person]))
                    return true;
        return false;
    }
    
    private bool IsSubset(HashSet<string> hs1, HashSet<string> hs2)
    {
        foreach(var elem in hs1)
            if(!hs2.Contains(elem))
                return false;
        return true;
    }
}