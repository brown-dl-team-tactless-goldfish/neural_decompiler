class Solution {
public:
    int maxAbsValExpr(vector<int>& arr1, vector<int>& arr2) {
        int maxPP, minPP, maxPM, minPM, maxMP, minMP, maxMM, minMM;
        maxPP = maxPM = maxMP = maxMM = numeric_limits<int>::min();
        minPP = minPM = minMP = minMM = numeric_limits<int>::max();
        
        for (int i = 0; i < arr1.size(); ++i) {
            maxPP = max(maxPP, arr1[i] + arr2[i] + i);
            minPP = min(minPP, arr1[i] + arr2[i] + i);
            maxPM = max(maxPM, arr1[i] + arr2[i] - i);
            minPM = min(minPM, arr1[i] + arr2[i] - i);
            maxMP = max(maxMP, arr1[i] - arr2[i] + i);
            minMP = min(minMP, arr1[i] - arr2[i] + i);
            maxMM = max(maxMM, arr1[i] - arr2[i] - i);
            minMM = min(minMM, arr1[i] - arr2[i] - i);
        }
        
        return max(maxPP-minPP, max(maxPM - minPM, max(maxMP - minMP, maxMM - minMM)));
    }
};