public class Solution {
    public string GcdOfStrings(string str1, string str2) {
        if (str1 == string.Empty || str2 == string.Empty)
            return string.Empty;
        
        for (int length = str1.Length <= str2.Length ? str1.Length : str2.Length; length > 0; length--)
        {
            string cur = str1.Substring(0, length);
            int index = 0;
            
            while (index < str1.Length)
                if(str1.Length - index >= length && str1.Substring(index, length) == cur)
                    index += length;
                else
                    break;
            
            if (index < str1.Length)
                continue;
            
            index = 0;
            
            while (index < str2.Length)
                if(str2.Length - index >= length && str2.Substring(index, length) == cur)
                    index += length;
                else
                    break;
            
            if (index < str2.Length)
                continue;
            
            return cur;
        }
        
        return string.Empty;
    }
}