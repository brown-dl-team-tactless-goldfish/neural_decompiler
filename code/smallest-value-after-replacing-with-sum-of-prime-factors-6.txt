public class Solution 
{
    public int SmallestValue(int n)
    {
        int prevN = 0;
        while (true)
        {
            int newN = 0;
            int max = n / 2;
            int counter = 0;
            for (int div = 2; div <= max; div++)
            {
                while (n % div == 0)
                {
                    counter++;
                    newN += div;
                    if (n == div)
                    {
                        n = 0;
                        break;
                    }
                    else
                        n /= div;
                }
                if (n == 0)
                    break;
            }
            if (counter==0)
                return n;
            else if (prevN == newN)
                return newN;
            else
                n = newN;
            prevN = newN;
        }
    }
}