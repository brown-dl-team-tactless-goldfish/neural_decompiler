class Solution {
public:
    int kthLargestValue(vector<vector<int>>& mat, int k) {
        
        int r = mat.size();
        int c = mat[0].size();
        
        priority_queue<int,vector<int>,greater<>>pQ; 
        int curr = 0;
        for(int i=0;i<r;i++)
        {
            curr = 0;
            for(int j=0;j<c;j++)
            {
                curr = curr ^ mat[i][j]; // row prefix XOR
                mat[i][j] = curr ^ (i>0 ? mat[i-1][j] : 0); // add col prefix XOR 
                pQ.push(mat[i][j]);
                if(pQ.size()>k)pQ.pop();    // keep K large elements in the PQ

            }
        }
                    
        return pQ.top();
    }
};