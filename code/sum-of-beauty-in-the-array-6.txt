int sumOfBeauties(vector<int>& nums) {
        
        int n = nums.size();
        
       
        int ans=0;
        
        multiset<int> st1,st2;
        
        
        for(int i=1;i<n;i++) st2.insert(nums[i]);
        
        st1.insert(nums[0]);
        
        for(int i=1;i<nums.size() - 1;i++){
            st2.erase(st2.find(nums[i]));
            
            if(st1.lower_bound(nums[i])==st1.end() and *st2.begin()>nums[i]) ans+=2;
            else if(nums[i - 1] < nums[i]  and nums[i] < nums[i + 1]) ans+=1;
            st1.insert(nums[i]);
        }
        
         return ans;
    }