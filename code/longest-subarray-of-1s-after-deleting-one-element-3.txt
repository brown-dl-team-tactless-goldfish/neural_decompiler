

int longestSubarray(int* nums, int numsSize){
    int window = 0;
    int maxCount = 0;
    int onesBefore = 0;
    int onesAfter = 0;
    
    for(window = 0; window < numsSize; window++)
    {
        if(nums[window] == 1)
        {
            onesBefore++;
        }
        else
        {
            maxCount = fmax(maxCount, onesBefore + onesAfter);
            onesAfter = onesBefore;
            onesBefore = 0;
        }
    }
    maxCount = fmax(maxCount, onesBefore + onesAfter); 
    return (maxCount == numsSize) ? maxCount - 1 : maxCount;
}