int maxProfit(int* prices, int pricesSize) {
    if(pricesSize==0||pricesSize==1){
        return 0;
    }
    int i;
    int min = -1;
    if(prices[0]<=prices[1]){
        min = prices[0];
    }//valley
    
    int profit = 0;
    for( i =1;i<pricesSize-1;i++){
        if(prices[i]<=prices[i-1]&&prices[i]<=prices[i+1]&&min==-1){
            min = prices[i];
        }//valley
        
        if(prices[i]>=prices[i-1]&&prices[i]>=prices[i+1]&&min!=-1){
            profit+=(prices[i]-min);
            min=-1;
        }//peak       
    }
    
    if(min!=-1&&prices[pricesSize-1]>=prices[pricesSize-2]){
        profit+=(prices[i]-min);
    }//peak 
    
    return profit;
}