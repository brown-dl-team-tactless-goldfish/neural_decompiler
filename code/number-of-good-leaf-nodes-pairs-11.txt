int ans = 0;


vector<int> dfs(TreeNode* root, int d)
{
    vector<int> v;
    
    if(!root)
    {
        return v;
    }
    
    auto left = dfs(root->left, d);
    auto right = dfs(root->right, d);
    
    if(left.size() == 0 && right.size() == 0)
    {
        v.push_back(1);
        
        return v;
    }
    
    for(auto &x: left)
    {
        for(auto &y: right)
        {
            if(x +y <= d)
            {
                ans++;
            }
        }
    }
    
    for(auto &a: left)
    {
        v.push_back(a+1);
    }
    
    for(auto &b: right)
    {
        v.push_back(b+1);
        
    }
    
    return v;
}
int countPairs(TreeNode* root, int distance) 
{
    if(!root)
    {
        return 0;
    }
    
    dfs(root,distance);
    
    return ans;
}