

#define MAX_STR_SIZE 200
#define MAX_WORD_SIZE 25

char * sortSentence(char * s){
    char *tok;
    char *list = malloc(MAX_WORD_SIZE * 9);
    char *buf = malloc(MAX_STR_SIZE + 1);
    int len;
    int idx;
    int i;
    int wc = 0;
    int car = 0;
    
    memset(buf, 0, MAX_STR_SIZE);
    
    tok = strtok(s, " ");
    
    while(tok) {
        
        len = strlen(tok);
        idx = (tok[len-1] - '0') - 1;
                
        memcpy(list + idx*MAX_WORD_SIZE, tok, len-1);
        list[+idx*MAX_WORD_SIZE+len] = 0;
        
        
        tok = strtok(NULL, " ");
        wc++;
    }
    
    for(i=0; i<wc; i++) {
        car += sprintf(buf+car, "%s", list+i*MAX_WORD_SIZE);
        buf[car-1] = ' ';
    }
    
    buf[car-1] = 0;
    free(list);
    
    
    return buf;
}