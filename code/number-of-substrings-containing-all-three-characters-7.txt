class Solution {
public:
    int numberOfSubstrings(string s) {
        int a = 0, b = 0, c = 0, res = 0;
        int n = s.length(), slow = 0, fast = 0;
        while (fast <= n) {
            if (a && b && c) {
                res += n-fast+1;
                if (s[slow] == 'a') a--;
                if (s[slow] == 'b') b--;
                if (s[slow] == 'c') c--;
                slow++;
            } else {
                if (fast == n) break;
                if (s[fast] == 'a') a++;
                if (s[fast] == 'b') b++;
                if (s[fast] == 'c') c++;
                fast++;
            }
        }
        return res;
    }
};