if( numRows <= 1 || n <= numRows )
    return s;
step = (numRows - 1) * 2;
st = malloc(sizeof(char)*(n+1));
st[n] = '\0';

for( i = k = 0; i < numRows; ++i )
{
    temp = ( numRows - i - 1) * 2;
    for( j = i; j < n; j += step )
    {
        st[k++] = s[j];
        if( i > 0 && i < numRows - 1 && j + temp < n )
            st[k++] = s[j+temp];
    }
}

return st;