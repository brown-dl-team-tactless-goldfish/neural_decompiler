class Solution {
public:
    int distinctSequences(int n) {
        if(n == 1) return 6;
        long dp[10001][7][7]{};
        vector<vector<int>> mp = {{}, {2, 3,4,5,6}, {1,3,5}, {1,2,4,5}, {1,3,5}, {1,2,3,4,6},{1,5}};
        long res = 0, mod = 1e9+7;
        for(int i = 2; i <= n; i++) {
            for(int j = 1; j <= 6; j++) {
                for(int p : mp[j]) {
                    if(i == 2) dp[i][j][p] = 1;
                    else for(int pp : mp[p]) if(pp != j) dp[i][j][p] = (dp[i][j][p]+dp[i-1][p][pp])%mod;
                    if(i == n) res = (res + dp[i][j][p])%mod;
                }
            }
        }
        return res;
    }
};