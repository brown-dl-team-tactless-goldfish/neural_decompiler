public bool StrongPasswordCheckerII(string password)
{
	const int None = 0b0, Lower = 0b1, Upper = 0b10, Digit = 0b100, Special = 0b1000;
	const int Required = Lower | Upper | Digit | Special;
	const string specialChars = "!@#$%^&*()-+";

	if (password.Length < 8)
	{
		return false;
	}

	int result = 0;
	for (int i = 0; i < password.Length; i++)
	{
		if (i > 0 && password[i] == password[i - 1])
		{
			return false;
		}

		char c = password[i];
		int val = c switch
		{
			>= 'a' and <= 'z' => Lower,
			>= 'A' and <= 'Z' => Upper,
			>= '0' and <= '9' => Digit,
			_ => None
		};

		result |= val;
		if ((result & Special) == 0 && specialChars.Contains(c))
		{
			result |= Special;
		}
	}

	return result == Required;
}