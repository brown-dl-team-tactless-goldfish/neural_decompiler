class Solution {
public:
    string decodeCiphertext(string text, int rows) {
        int cols = text.length()/rows;
        
        char** array = new char*[rows];
        for(int i = 0; i < rows; i++)
            array[i] = new char[cols];
        
        int index = 0;
        for(int i = 0; i < rows; i++) {
            for(int j = 0; j < cols; j++) 
                array[i][j] = text[index++];
        }
        
        string ans = "";
        for(int i = 0; i < cols; i++) {
            int r = 0, c = i;
            while(r < rows && c < cols) 
                ans += array[r++][c++];
        }
        
        if(ans.size() == 0) 
            return ans;
        
        while(ans[ans.size()-1] == ' ') 
            ans.pop_back();
        
        return ans;
    }
};