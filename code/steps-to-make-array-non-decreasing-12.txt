class Solution {
public:
	int totalSteps(vector<int>& nums) {
		int n = nums.size(), ans = 0;
		stack<pair<int, int>> st;
		st.push({nums[n- 1], 0});
		for (int i = n - 2; i >= 0; --i) {
			int ct = 0;
			while (st.size() && st.top().first < nums[i]) {
				ct = max(ct + 1, st.top().second);
				st.pop();
			}
			ans = max(ans, ct);
			st.push({nums[i], ct});
		}
		return ans;
	}
};