/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* decrypt(int* code, int codeSize, int k, int* returnSize)
{
    int counter = 0;
    int* arr= (int *) calloc(codeSize , sizeof(int));
    *returnSize = codeSize;
    
    if ( k == 0)
    {
        for ( int i = 0 ; i < codeSize ; i++ )
        {
            arr[i] = 0;
        }
    }
    
    else if ( k > 0)
    {
        for ( int i = 0 ;  i < codeSize ; i++)
        {
            while ( counter < k )
            {
              counter++;
              arr[i] = code[(counter+i)%codeSize] + arr[i];
                
            }
            counter = 0 ;
        }
    }
    
    else if ( k < 0)
    {
        for ( int i = 0 ;  i < codeSize ; i++)
        {
            while ( counter > k )
            {
              counter--;
              arr[i] = code[(counter+i+codeSize)%codeSize] + arr[i];   
            }
            counter = 0 ;
        }
    }
    
    
    return arr;

}