class Solution {
public:
    string largestTimeFromDigits(vector<int>& A) {
        sort(A.begin(), A.end());
        string res = str(A);
        while (next_permutation(A.begin(), A.end())) {
            string s = str(A);
            if (s.empty()) continue;
            res = max(res, s);
        }
        return res;
    }

    string str(const vector<int>& A) {
        int hour = A[0] * 10 + A[1], minute = A[2] * 10 + A[3];
        if (hour >= 24 || minute >= 60) return "";
        string res = "";
        res.push_back('0' + A[0]);
        res.push_back('0' + A[1]);
        res.push_back(':');
        res.push_back('0' + A[2]);
        res.push_back('0' + A[3]);
        return res;
    }
};