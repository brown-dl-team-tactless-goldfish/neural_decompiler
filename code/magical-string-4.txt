int magicalString(int n) {
    int* array=(int*)calloc(200000,sizeof(int));
    array[0]=1;
    array[1]=2;
    array[2]=2;
    int left=2;
    int right=3;
    int ret=0;
    while(right<n){
        if(array[left]==1){
            array[right]=array[right-1]%2+1;
            right++;
        }else if(array[left]==2){
            int temp=array[right-1]%2+1;
            array[right++]=temp;
            array[right++]=temp;
        }
        left++;
    }
    for(int i=0;i<n;i++){
        if(array[i]==1){
            ret++;
        }
    }
    return ret;
}