int cmp(const void *a, const void *b){ return (*(int*)a - *(int*)b); }

int countElements(int* nums, int numsSize){
    qsort(nums, numsSize, sizeof(int), cmp);
    int left = 1, right = numsSize - 2;
    while(left < numsSize && nums[left-1]==nums[left]){ left++; }
    while(right >= 0 && nums[right+1]==nums[right]){ right--; }
    right -= left;
    right += 1;
    
    return (right<=0)? 0 : right;
}