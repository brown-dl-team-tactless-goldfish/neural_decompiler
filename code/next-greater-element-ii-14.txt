public class Solution {
    public int[] NextGreaterElements(int[] nums) {
        int n = nums.Length;
        
        var stack = new Stack<int>();
        int[] res = Enumerable.Repeat(-1, n).ToArray();
        
        foreach (int i in Enumerable.Range(0, n*2).Select(c => c % n))
        {
            while (stack.Any() && nums[stack.Peek()] < nums[i])
            {
                res[stack.Pop()] = nums[i];
            }
            
            stack.Push(i);
        }
        
        return res;
    }
}