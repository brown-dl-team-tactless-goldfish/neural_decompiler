int maximalNetworkRank(int n, int** roads, int roadsSize, int* roadsColSize){

    bool** connect = malloc(n * sizeof(bool*)) ;
    for(int i = 0; i < n; i++)
        connect[i] = calloc(n, sizeof(bool)) ;
    int* edges = calloc(n, sizeof(int)) ;
    for(int i = 0; i < roadsSize; i++){
        int a = roads[i][0] ;
        int b = roads[i][1] ;
        connect[a][b] = true ;
        connect[b][a] = true ;
        edges[a]++ ;
        edges[b]++ ;
    }

    int ret = INT_MIN ;
    for(int i = 0; i < n; i++){
        for(int j = i+1 ; j < n; j++){
            int rank = edges[i] + edges[j] - connect[i][j] ;
            ret = fmax(ret, rank) ;
        }
    }
    
    for(int i = 0; i < n; i++)
        free(connect[i]) ;
    free(connect) ;
    free(edges) ;
    return ret ;
}