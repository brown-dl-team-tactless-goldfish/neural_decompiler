int *sort(const void*a, const void*b)
{
    return *(int *)b- *(int*)a;
}

int minStoneSum(int* piles, int pilesSize, int k){
qsort(piles,pilesSize,sizeof(int),sort);
int i=0,a=0;
while(k)
{
    piles[i]=piles[i]-(piles[i]/2);
    if(i<pilesSize-1 && piles[i]<piles[i+1] && piles[0]<=piles[i+1])
    {
        i++;
    }
    else if(i==pilesSize-1 || piles[0]>piles[i+1])
    {
        qsort(piles,pilesSize,sizeof(int),sort);
        i=0;
    }
    k--;
}
for(i=0;i<pilesSize;i++)
{
    a+=piles[i];
}
return a;
}