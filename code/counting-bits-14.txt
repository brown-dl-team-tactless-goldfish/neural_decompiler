int *array = malloc((n + 1) * sizeof(int));
*returnSize = n + 1;

for (int i = 0; i <= n; i++)
{
    array[i] = count_ones(i);
}

return array;