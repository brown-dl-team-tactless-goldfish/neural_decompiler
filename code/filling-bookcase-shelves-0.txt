int minHeightShelves(int** books, int booksSize, int* booksColSize, int shelf_width){
   int D[booksSize];
    int len = booksSize -1; 
    D[0] = books[0][1];
    for(int i = 1; i <= len; i++)
    {
        int width = books[i][0];
        int height = books[i][1];
        D[i] = D[i-1] + height;
        int size = i-1;
        int newWidth = width;
        int newHeight = height;
        while(size >= 0)
        {
            newWidth += books[size][0];
            if(newWidth<=shelf_width)
            {
                newHeight = fmax(newHeight , books[size][1]);
                if(size >0 )
                {
                    D[i] = fmin(D[i], newHeight+D[size-1]); 
                }

            }
            else
            {
                break;
            }
            size--;
        }
        if(size>=0)
        {
            newHeight += D[size];                

        }
        D[i] = fmin(D[i], newHeight);
    }
    return D[len];
}