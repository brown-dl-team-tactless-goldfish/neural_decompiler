int scoreOfParentheses(char * s){
    
    int len = strlen(s);
    int r=0;
    int top = -1;
    int *arr = (int *)malloc(sizeof(int) * len);
    memset(arr,0,sizeof(arr));
    int i;
    
    for (i=0; i < len; i++)
    {
        if (s[i] == '(')
        {
            top++;
            arr[top] = '(';
        }
        else if (s[i] == ')')
        {
            r = top;
            if (arr[r] == '(')
            {
                arr[r] = 1;
            }
            else
            {
                while (arr[r] != '(')
                {
                    arr[r] = 2 * arr[r];
                    r--;
                }
                arr[r] = 0;
            }
        }
        
    }
    r=0;
    for (i=0; i <= top; i++)
    {
        r = r + arr[i];
    }
    
    free(arr);
    return r;
}