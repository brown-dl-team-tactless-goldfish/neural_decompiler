class Solution {
public:
    bool canTransform(std::string start, std::string end) {
        if (start.size() != end.size()) return false;
        int j = 0;
        for (int i = 0; i < start.size(); i++) {
            if (start[i] != 'X') {
                j = end.find_first_of("LR", j);
                if (j == std::string::npos || end[j] != start[i] || start[i] == 'L' && j > i || start[i] == 'R' && j < i)
                    return false;
                j++;
            }
        }
        return end.find_first_of("LR", j) == std::string::npos;
    }
};