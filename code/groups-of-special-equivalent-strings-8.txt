If we have to check two strings are equivalent according to the
questions rules, then we can do something like - > 

check - "abcd" is equivalent to "cdab" 
make string of even and odd indices for both of them -> 

for "abcd" odd => "bd" and even = "ac" ;
for "cdab" odd => "db" and even = "ca" ;

when you carefully look , these two will have 
same pair of even and odd strings if we sort them.

after sorting ->
for "abcd" odd => "bd" and even = "ac" ;
for "cdab" odd => "bc" and even = "ac" ;
They are equal !! 

We just have to store these in a set 
and count number of elements in the set ( number of groups ).