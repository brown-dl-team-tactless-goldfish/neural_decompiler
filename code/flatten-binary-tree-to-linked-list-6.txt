/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */


//returns the pointer to the end of the tail to be carried
struct TreeNode*  recursion(struct TreeNode* n){
    
    if (n == NULL){
        return n;
    } else if ((n->left == NULL) && (n->right == NULL)){
        return n;
    } else if (n->left == NULL){
        return recursion(n->right);
    } else if (n->right == NULL){
        n->right = n->left;
        n->left = NULL;
        return recursion(n->right);
    }{
        struct TreeNode* remaining = n->right;
        n->right = n->left;
        n->left = NULL;
        struct TreeNode* tail = recursion(n->right);
        tail->right = remaining;
        return recursion(remaining);
    }

}

void flatten(struct TreeNode* root){
    recursion(root);
}

