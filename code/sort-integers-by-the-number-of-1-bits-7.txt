// function for counting the number of 1 bits
int num1bits(int x){ 
    int cnt = 0;
    while(x){
	    cnt++;
	    x = x & (x-1);
    }
    return cnt;
}
// qsort compare function
int cmp(const void *a, const void *b){
    int val1 = num1bits(*(int*)a);
    int val2 = num1bits(*(int*)b);
    if (val1 == val2) return *(int*)a - *(int*)b;
    else return val1 - val2;
}
int* sortByBits(int* arr, int arrSize, int* returnSize){
    * returnSize = arrSize;
    qsort(arr, arrSize, sizeof(int), cmp);
    return arr;
}