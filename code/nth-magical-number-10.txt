class Solution {
public:
    typedef long long LL;
    const int mod = 1e9 + 7;
    int nthMagicalNumber(int n, int a, int b) {
        int c = a * b / __gcd(a, b);
        LL l = 2, r = 1e14;
        while(l < r) {
            LL mid = l + r >> 1;
            if(mid/a + mid/b - mid/c >= n) r = mid;
            else l = mid + 1;
        }
        return r % mod;
    }
};