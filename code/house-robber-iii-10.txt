pair<int, int> rob_(TreeNode* root) {
	if (!root) return {0, 0};

	pair<int, int> a = rob_(root->leftLeaf);
	pair<int, int> b = rob_(root->rightLeaf);

	int c = max(max(max(a.first + b.first, a.first + b.second), a.second + b.first), a.second + b.second);

	return {root->val + a.second + b.second, c};
}

int rob(TreeNode* root) {
	pair<int, int> res = rob_(root);
	return max(res.first, res.second);
}