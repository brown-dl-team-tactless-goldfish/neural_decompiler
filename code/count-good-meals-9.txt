class Solution {
public:
    int countPairs(vector<int>& deliciousness) {
        long long ans=0;
        int n=deliciousness.size();
        unordered_map<int,int> mp;
        
            for(int j=0;j<n;j++)
            {
                for(int i=1;i<=pow(2,21);i*=2){
                    if(mp.count(i-deliciousness[j])>0)
                        ans+=mp[i-deliciousness[j]];
                    ans=ans%1000000007;
                }
                mp[deliciousness[j]]++;
            }
        return (int)(ans%1000000007);
    }
};