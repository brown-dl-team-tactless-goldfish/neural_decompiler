struct TreeNode* trimBST(struct TreeNode* root, int L, int R){
    struct TreeNode *r = root;
    while (r && (r->val < L || r->val > R) && (r->val < L && (r = r->right), r->val > R && (r = r->left), 1));
    for (struct TreeNode *t = r ; t ; t = t->left)
        while (t->left && t->left->val < L && (t->left = t->left->right));
    for (struct TreeNode *t = r ; t ; t = t->right)
        while (t->right && t->right->val > R && (t->right = t->right->left));
    return r;
}