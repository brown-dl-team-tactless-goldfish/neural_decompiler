#define ll long long
#define vi vector<int>
#define pii pair<int, int>
#define f first
#define s second
#define pb push_back
#define sz(x) (int)x.size()
#define all(x) x.begin(), x.end()

class Solution {
  public:
    vi countRectangles(vector<vi> &rectangles, vector<vi> &points) {
        int n = sz(rectangles), m = sz(points);
        sort(all(rectangles), greater<>());

        vector<pair<vector<int>, int>> p;

        for (int i = 0; i < m; ++i) {
            p.push_back({points[i], i});
        }
        sort(all(p), greater<>());

        vector<int> ans(m);
        for (int cur_height = 1; cur_height <= 100; ++cur_height) {
            int good = 0;
            int i = 0, j = 0;
            while (i < m) {
                while (j < n and rectangles[j][0] >= p[i].f[0]) {
                    if (rectangles[j][1] >= cur_height)
                        good++;
                    j++;
                }
                if (p[i].f[1] == cur_height)
                    ans[p[i].s] += good;
                i++;
            }
        }
        return ans;
    }
};