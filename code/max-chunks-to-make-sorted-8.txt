class Solution {
public:
    int maxChunksToSorted(vector<int>& A) {
        int cnt=0;
        priority_queue<int,vector<int>,cmp> V;
        for (int i=0; i<A.size(); ++i){
            V.push(A[i]);
            if (i >= V.top())
                ++cnt;
        }
        return cnt;
    }
private:
    struct cmp {
        bool operator()(const int& lhs, const int& rhs) const {
            return lhs < rhs;
        }
    };
};