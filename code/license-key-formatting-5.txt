class Solution:
    def licenseKeyFormatting(self, S: str, K: int) -> str:
        data = []
        for c in S:
            if (c != "-"):
                data.append(c.upper())
                
        # print ("data = ", data)
        
        n = len(data)
        
        self.res = ""
        
        count = 1
        for i in range(n-1, -1, -1):
            c = data[i]
            print ("i = ", i, " c = ", c)
            
            self.res += c
            if (count == K):
                self.res += "-"
                count = 0
                
            count += 1
                
        # print ("self.res = ", self.res)
        
        self.res = self.res[::-1]
        
        # print ("2 self.res = ", self.res)
        
        while (self.res and self.res[0] == "-"):
            self.res = self.res[1:]
            
        # print ("3 self.res = ", self.res)
        
        return self.res
                