public class Solution {
    public int NumRabbits(int[] answers) {
        var dict = new Dictionary<int, int>();

        foreach (var answer in answers) dict[answer] = dict.ContainsKey(answer) ? dict[answer] + 1 : 1;

        return dict.Sum(d => d.Value / (d.Key + 1) * (d.Key + 1) + (d.Value % (d.Key + 1) > 0 ? (d.Key + 1) : 0));
    }
}