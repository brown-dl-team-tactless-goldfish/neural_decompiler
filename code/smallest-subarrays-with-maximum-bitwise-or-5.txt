class Solution {
public:
    vector<int> smallestSubarrays(vector<int>& arr) {
        int n = arr.size();
        
        vector<int> bs(32), ans(n);
        
        for(int i=n-1;i>=0;i--){
            int maxi = 1;
            for(int j=0;j<32;j++){
                if(!(arr[i] & 1<<j)) maxi = max(maxi,bs[j]-i+1);
                else bs[j] = i;
            }
            ans[i] = maxi;
        }
        
        return ans;
    }
};