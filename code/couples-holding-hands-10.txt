class Solution {
public:
    int minSwapsCouples(vector<int>& row) {
        int n = row.size() ;
        int ret = 0 ;
        for(int i = 0 ; i < n/2; i++){
            int a = min(row[2*i], row[2*i+1]) ;
            int b = max(row[2*i], row[2*i+1]) ;
            if(a % 2 == 0 && (a+1 )== b)
                continue ;
            if(a % 2 == 0){
                int j ;
                for(j = 2*(i+1); j < n; j++){   
                    if(row[j] == (a+1)){
                        break ;
                    }
                }
                int k = 0 ;
                if(row[2*i] == b)
                    k = 2*i ;
                else
                    k = 2*i + 1 ;
                swap(row[j], row[k]) ;
                ret++ ;
            }
            else{
                int j ;
                for(j = 2*(i+1); j < n; j++){
                    if(row[j] == (a-1)){
                        break ;
                    }
                }
                int k = 0 ;
                if(row[2*i] == b)
                    k = 2*i ;
                else
                    k = 2*i + 1 ;
                swap(row[j], row[k]) ;
                ret++ ;
            }   
        }
        return ret ;
    }
};