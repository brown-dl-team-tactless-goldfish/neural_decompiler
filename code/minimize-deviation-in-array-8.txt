class Solution {
public:
    int minimumDeviation(vector<int>& nums) {
        set<int>Set ;
        for(auto x : nums){
            if(x % 2)
                Set.insert(x * 2 ) ;
            else
                Set.insert(x) ;
        }
        
        int ret = INT_MAX ;
        while(1){
            ret = min(ret, *Set.rbegin() - *Set.begin()) ;
            int max = *Set.rbegin() ;
            if(max % 2 == 0){
                Set.erase(max) ;
                Set.insert( max / 2 ) ;
            }
            else
                break ;
        }
        return ret ;
    }
};