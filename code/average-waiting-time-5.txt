class Solution {
public:
    double averageWaitingTime(vector<vector<int>>& customers) {
        if (customers.empty()) return 0;
        
        int n = customers.size(); 
        
        long total = 0; int startTime = customers[0][0]; 
        
        for (const auto& c : customers) {
            startTime = max(startTime, c[0]);
            
            startTime += c[1];
            
            total += (startTime - c[0]); 
        }
        
        return (double)(total) / n;
    }
};