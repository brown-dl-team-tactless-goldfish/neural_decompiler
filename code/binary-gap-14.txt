int binaryGap(int n)
{
    long nn = n;
    int i = 0;
    int gap, max_gap = 0;
    int l, r = -1;

    for (i = 0; i < 32; i++)
    {
        if (nn & (1L << i))
        {
            l = i;
            if (r >= 0)
                gap = l - r;
            else
                gap = 0;
            max_gap = gap > max_gap ? gap : max_gap;
            r = l;
        }
    }
    return max_gap;
}