#include <string.h>
#include <stdlib.h>
// void push(char *s, char e){
//     int len = strlen(s);
//     s[len] = e;
// }
char * convert(char * s, int numRows){
    int slen = strlen(s);
    if(slen == numRows || slen <= numRows || numRows==1) return s;

    char *rs = (char *) malloc((slen + 1) * sizeof(char));
    int midSize = numRows - 2;
    int flag = 0;
    rs[slen] = 0;
    
    for(int i=0; i < numRows; i++){
        int idx = i;
        while(idx < slen){
            rs[flag++] = s[idx];
            idx += midSize + numRows;
            if( i != 0 && i != (numRows - 1) && (idx -(2*i)) < slen) {
                rs[flag++] = s[idx-(2*i)];
            }    
        }
    }
    return rs;
}