class Solution {
public:
    int countPartitions(vector<int>& A, int k) {
        long sum = 0, mod = 1e9+7, ans = 1, dp[1001]= {[0]=1};
        for(auto e : A) {
            for(int i = k-e-1; i >= 0; i--) dp[i+e] = (dp[i+e]+dp[i])%mod;
            sum += e;
            ans = (ans*2)%mod;
        }
        for(int i = 0; i < k; i++) ans = (ans - (sum-i < k ? dp[i] : 2*dp[i])%mod+mod)%mod;
        return ans;
    }
};