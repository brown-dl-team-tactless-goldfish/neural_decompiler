public class Solution {
    
    const int A = 0, B = 1, C = 2, D = 3;
    const int mod = 1_000_000_007;
    
    static readonly (int, int)[] transitions = new[]
    {
        (A, A), // |
        (A, B), // ⎿
        (A, C), // ⎾
        (A, D), // ＝
        
        (B, C), // ⎴
        (B, D), // ⏋
        
        (C, B), // ⎵
        (C, D), // ⏌
        
        (D, A), //
    };
    
    public int NumTilings(int n) {
        var dp = new int[4, n + 1];
        dp[A, 0] = 1;
        for (int i = 1; i <= n; i++) {
            foreach (var (u, v) in transitions) {
                dp[v, i] = (dp[v, i] + dp[u, i - 1]) % mod;
            }
        }
        return dp[A, n];
    }
}