int countDays(int* nums, int numsSize, int capacity){
    int ret = 1 ;
    int k = capacity;
    for(int i = 0; i < numsSize; i++){
        k -= nums[i];
        if(k < 0){
            ret++;
            k = capacity - nums[i];
        }
    }
    return ret;
}

int max(int* nums, int numsSize){
    int max = INT_MIN;
    for(int i = 0; i < numsSize; i++){
        if(nums[i] > max)
            max = nums[i];
    }    
    return max;
}

int shipWithinDays(int* weights, int weightsSize, int days){
    int left = max(weights, weightsSize);
    int right = INT_MAX - left;
    int mid;
    while(left < right){
        mid = (left + right) / 2;
        if(countDays(weights, weightsSize, mid) <= days)
            right = mid;
        else
            left = mid + 1;
    }
    mid = (left + right) / 2;
    return mid;
}