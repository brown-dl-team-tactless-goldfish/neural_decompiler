class Solution {
public:
    int findMinMoves(vector<int>& m) {
        int n=m.size();
        if(!n)return n;
        vector<int> let(n);
        vector<int> rigt(n);
        let[0]=m[0];
        rigt[n-1]=m[n-1];
        for(int i=1;i<n;i++)
            let[i]=let[i-1]+m[i];
        for(int i=n-2;i>=0;i--)
            rigt[i]=rigt[i+1]+m[i];
        if(let[n-1]%n)return -1;
        int avg=let[n-1]/n;
        int ans=0;
        for(int i=0;i<n;i++){
            int total=0;
            int left=avg*i;
            int right=avg*(n-i-1);
            int l=0,r=0;
            if(i-1>=0)l=let[i-1];
            r=(i+1<n?rigt[i+1]:0);
            if(l<left)
                total+=left-l;
            if(r<right)
                total+=right-r;
            ans=max(ans,total);
        }
        return ans;
    }
};