#include<math.h>

int findMinMoves(int* machines, int machinesSize){
  int totalDresses = 0, size = machinesSize;
    for (int i = 0; i < size; ++i) totalDresses += machines[i];
    if (totalDresses % size != 0) return -1;
    
    int targetDresses = totalDresses / size, totalMoves = 0, ballance = 0;
    for (int i = 0; i < size; ++i) {
        ballance += machines[i] - targetDresses;
        totalMoves = fmax(totalMoves, fmax(machines[i] - targetDresses, abs(ballance)));
    }
    return totalMoves;
}