class Solution {
public:
    int minimumAverageDifference(vector<int>& nums) {

        int n = nums.size();
        vector<long long>pref(n);
        vector<long long>suff(n);
        long long sum = 0;
        
        for(int i = 0;i<n;i++){
            sum += nums[i];
            pref[i] = sum;
        }
        
        for(int i = 0;i<n;i++){
            sum -= nums[i];
            suff[i] = sum;
        }

        
        int ans = INT_MAX;
        int idx = 0;
        for(int i = 0;i<n;i++){
            int p = i+1;
            int q = n-i-1;

            int avg1 = pref[i]/p;
            if(q == 0) q = 1;
            int avg2 = suff[i]/q;
            int diff = (int)(abs(avg1 - avg2));
            
            if(diff < ans){
                ans = diff;
                idx = i;
                
            }
        }
        return idx;
    }
};