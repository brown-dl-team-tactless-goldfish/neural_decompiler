class SummaryRanges {
set<int> m;

public:
/** Initialize your data structure here. */
SummaryRanges() {
}

void addNum(int val) {
    m.insert(val);
}

vector<Interval> getIntervals() {
    vector<Interval> result;
    auto iter = m.begin();
    
    while(iter != m.end()) {
        Interval ii (*iter, *iter);
        auto iter2 = iter; iter2++;
        while(iter2 != m.end() && *iter + 1 == *iter2) {
            iter++;
            iter2++;
            ii.end = *iter;
        }
        
        ++iter;
        result.push_back(ii);
    }
    
    return result;
  }
};