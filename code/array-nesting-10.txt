public class Solution {
    public int ArrayNesting(int[] nums) {
        
        if(nums == null || nums.Length == 0)
            throw new ArgumentException("Invalid Input.");
        
        int max = 0;
        bool[] visited = new bool[nums.Length];
        for(int i = 0; i < nums.Length; i++)
        {
            if(!visited[i])
            {
                int num = nums[i], cnt = 0;
                do
                {
                    cnt++;
                    visited[num] = true;
                    num = nums[num];
                    
                }while(num != nums[i]);
                
                max = Math.Max(max, cnt);
            }
        }
        
        return max;
    }
}