class Solution {
public:
    int clumsy(int n) {
        if(n == 1) return 1;
        int ans = 0, bal = n, f = 1;
        for(int i=n-1; i>0; i--) {
            if(f == 1) bal *= i, f = 2;
            else if(f == 2) bal /= i, f = 3;
            else if(f == 3) bal += i, f = 4;
            else {
                ans += bal;
                bal = -i;
                f = 1;
            }
        }
        return f == 1 ? --ans : ans + bal;
    }
};



