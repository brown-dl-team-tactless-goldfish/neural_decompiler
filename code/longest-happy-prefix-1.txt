string longestPrefix(string s) {
    int j = -1;
    vector<int> p = {j};
    for (char c : s) {
        while (j >= 0 && s[j] != c)
            j = p[j];
        p.push_back(++j);
    }
    return s.substr(0, j);
}