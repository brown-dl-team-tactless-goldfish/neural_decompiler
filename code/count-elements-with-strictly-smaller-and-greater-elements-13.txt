class Solution {
public:
    int countElements(vector<int>& nums) {
        int n = nums.size();
        sort(nums.begin(), nums.end());
        if(n<=2)
            return 0;
        int i=0, last=n-1;
        while(i+1<n && nums[i]==nums[i+1])
            i++;
        while(last-1 >= 0 && nums[last]==nums[last-1])
            last--;
        int x = last - i - 2 + 1;
        return (x > 0) ? x : 0;
    }
};