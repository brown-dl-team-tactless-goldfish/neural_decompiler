    long long minimumPerimeter(long long neededApples) {
        long long d = 2; 
        long long count = 12; 
        long long prev_add = count;
        while(count < neededApples) {
            long long prev_side = prev_add / 4 + d; 
            long long prev_count = count;
            count += 4 * (prev_side + d + 1);
            count += (d + 2) * 4; 
            prev_add = count - prev_count;
            d += 2;
        }
        return 4 * d;
    }