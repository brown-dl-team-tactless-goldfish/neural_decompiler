class Solution {
public:
    int minimumDeletions(vector<int>& nums) {
        size_t max_idx = 0, min_idx = 0;
        for (int i = 0; i < nums.size(); ++i) {
            if (nums[max_idx] < nums[i]) {
                max_idx = i;
            }
            if (nums[min_idx] > nums[i]) {
                min_idx = i;
            }
        }
        int a = nums.size() - min_idx, b = min_idx + 1;
        int c = nums.size() - max_idx, d = max_idx + 1;
        return min(min(max(a, c), max(b, d)), min(a + d, b + c));
    }
};