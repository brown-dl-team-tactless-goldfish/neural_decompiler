bool isPalindrome(char* s) {
    int len=0;
    while(s[len++]);
    
    char* reduce = malloc(sizeof(char) * len);
    len = 0;
    int validLen = 0;
    char c;
    while (s[len]){
        c = s[len];
        if (c >= 'A' && c<='Z') reduce[validLen++] = c + 32;
        else if ((c>='a' && c<='z') || (c>='0' && c<='9')) reduce[validLen++] = c;
        len++;
    }
    
    for (int i=0; i<validLen/2; i++){
        if (reduce[i] != reduce[validLen-i-1]){
            free (reduce);
            return false;
        }
    }
    
    free (reduce);
    return true;
}